{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///../../../src/components/VFileInput/VFileInput.ts","webpack:///../../../src/components/VTextField/index.ts","webpack:///./node_modules/core-js/modules/es.math.sign.js","webpack:///./src/utils/form/inputs/Input.ts","webpack:///./node_modules/core-js/modules/es.string.pad-start.js","webpack:///./src/utils/form/components/Text.vue?009b","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/utils/form/components/Text.vue?97af","webpack:///./src/utils/form/components/Text.vue","webpack:///./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack:///./src/utils/form/components/rich.vue?b9b1","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/h-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/v-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/toolbar/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/input/input.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/toolbar-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-toolbar.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/dropdown-buttons.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar-action.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/common/util.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/textbox/textbox.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/image-module.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/count.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/formatter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/constant.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/common/config.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/dom-node.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/lists.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-methods.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/nodecutter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/formats.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/link.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/classes.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/image.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/table.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/isformatted.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-commands.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/undo.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/ms-word-clean-up.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-text.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/editor-manager.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/html-formatter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/toolbar-status.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-toolbar-status.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/content-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/iframe-content-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/color-picker.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-quick-toolbar.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/popup-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/quick-toolbar.js","webpack:///src/utils/form/components/rich.vue","webpack:///./src/utils/form/components/rich.vue?cbf5","webpack:///./src/utils/form/components/rich.vue","webpack:///./src/utils/form/components/rich.vue?3cbb","webpack:///./src/utils/form/components/Date.vue?2003","webpack:///./src/utils/form/components/Date.vue?e7f9","webpack:///../../../src/mixins/picker-button/index.ts","webpack:///../../../src/components/VDatePicker/VDatePickerTitle.ts","webpack:///../../../src/mixins/localable/index.ts","webpack:///../../../../src/components/VDatePicker/util/pad.ts","webpack:///../../../../src/components/VDatePicker/util/createNativeLocaleFormatter.ts","webpack:///../../../../src/components/VDatePicker/util/monthChange.ts","webpack:///../../../src/components/VDatePicker/VDatePickerHeader.ts","webpack:///../../../../src/components/VDatePicker/util/eventHelpers.ts","webpack:///../../../../src/components/VDatePicker/util/sanitizeDateString.ts","webpack:///../../../../src/components/VDatePicker/util/isDateAllowed.ts","webpack:///../../../../src/components/VDatePicker/mixins/date-picker-table.ts","webpack:///../../src/util/dateTimeUtils.ts","webpack:///../../../src/components/VDatePicker/VDatePickerDateTable.ts","webpack:///../../../src/components/VDatePicker/VDatePickerMonthTable.ts","webpack:///../../../src/components/VDatePicker/VDatePickerYears.ts","webpack:///../../../src/components/VPicker/VPicker.ts","webpack:///../../../src/components/VPicker/index.ts","webpack:///../../../src/mixins/picker/index.ts","webpack:///../../../../src/components/VCalendar/util/timestamp.ts","webpack:///../../../src/components/VDatePicker/VDatePicker.ts","webpack:///./src/utils/form/components/Date.vue","webpack:///./src/utils/form/components/File.vue?2e66","webpack:///./src/utils/form/components/File.vue?a588","webpack:///./src/utils/form/components/File.vue","webpack:///./src/utils/form/components/Switch.vue?9e89","webpack:///./src/utils/form/components/Switch.vue?2f07","webpack:///../../../src/mixins/rippleable/index.ts","webpack:///../../../src/mixins/selectable/index.ts","webpack:///../../../src/components/VSwitch/VSwitch.ts","webpack:///./src/utils/form/components/Switch.vue","webpack:///./src/utils/form/components/Select.vue?8ac0","webpack:///./src/utils/form/components/Select.vue?56ec","webpack:///./src/utils/form/components/Select.vue","webpack:///./src/utils/form/components/Combo.vue?43ea","webpack:///./src/utils/form/components/Combo.vue?f5f6","webpack:///../../../src/components/VAutocomplete/VAutocomplete.ts","webpack:///../../../src/components/VCombobox/VCombobox.ts","webpack:///./src/utils/form/components/Combo.vue","webpack:///./src/utils/form/inputs/InputStore.ts"],"names":["uncurryThis","toLength","toString","$repeat","requireObjectCoercible","repeat","stringSlice","slice","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","intMaxLength","stringLength","length","fillStr","undefined","module","exports","start","end","VTextField","extend","name","model","prop","event","props","chips","Boolean","clearable","type","default","counterSizeString","String","counterString","hideInput","multiple","placeholder","prependIcon","readonly","showSize","Number","validator","v","includes","smallChips","truncateLength","value","val","wrapInArray","every","computed","classes","options","call","this","computedCounterValue","fileCount","lazyValue","File","$vuetify","lang","t","bytes","internalArrayValue","reduce","size","humanReadableFileSize","base","internalValue","get","set","$emit","isDirty","isLabelActive","text","persistentPlaceholder","isFocused","hasLabel","map","file","truncatedText","truncateText","hasChips","watch","handler","consoleError","immediate","deepEqual","$refs","input","files","methods","clearableCallback","genChips","index","$createElement","VChip","small","on","splice","genControl","render","data","style","mergeStyles","display","genInput","attrs","domProps","change","onInput","genSelections","genPrependSlot","icon","genIcon","click","genSlot","genSelectionText","counter","children","$scopedSlots","selection","forEach","push","staticClass","class","genTextFieldSlot","node","e","target","initialValue","onKeyDown","str","charsKeepOneSide","floor","$","sign","stat","Http","Api","getInstance","Input","field","loading","_init","select","items","initialFetch","getInputItems","url","payload","serializeQuery","Promise","then","res","$padStart","WEBKIT_BUG","proto","forced","padStart","arguments","_vm","_h","_c","_self","$t","label","required","rules","initial","hint","staticRenderFns","Vue","isNumber","parseFloat","component","userAgent","test","_v","_s","ref","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_ROOT","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","_super","HScroll","element","preRender","browser","info","browserCheck","isDevice","customStep","ieCheck","initialize","id","uniqueId","enableRtl","classList","add","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollHandler","createOverlay","createNavIcon","setScrollState","scrollStep","offsetWidth","createElement","className","scrollDiv","setAttribute","ele","innerEle","_i","innerEle_1","ele_1","appendChild","overflowX","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","remove","nav","overlay","_a","elem","removeAttribute","disable","navEles","el","concat","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","rightAttributes","clsLeft","leftAttributes","navEle","navLeftItem","onKeyPress","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDis","timeoutFun","setInterval","isContinuous","rootEle","querySelector","frameScrollRequest","distance","swipeEle","velocity","distanceX","animate","step","sin","cancelAnimationFrame","swipeDirection","scrollLeft","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollValue","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowEle","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","disEle","onPropertyChanged","newProp","oldProp","keys","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_UPOVERLAY","CLS_DOWNOVERLAY","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","offsetHeight","scrollCnt","scrollBar","overflow","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","deltaY","swipeElement","distanceY","scrollTop","addDisableCls","removeDisableCls","height","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Item","apply","Toolbar","resizeContext","resize","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","isReact","isAngular","clearTemplate","btnItems","querySelectorAll","ej2_instances","unwireEvents","tempId","document","body","destroyItems","lastElementChild","removeChild","trgtEle","ctrlTem","popObj","activeEle","tbarAlign","tbarItemsCol","cssClass","split","attrb","eventArgs","enableCollision","trigger","scrollModule","isVertical","isExtendedOpen","popupPriCount","wireEvents","clickHandler","allowKeyboard","wireKeyboardEvent","keyModule","keyAction","keyActionHandler","docKeyDown","unwireKeyboardEvent","tagName","popCheck","overflowMode","keyCode","hide","duration","keyCheck","destroyScroll","removeEventListener","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","destroyMode","tempEle","popupRefresh","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","clst","keyHandling","navChk","scrollChk","nodes","popAnimate","eleFocus","popupCheck","extendedPopup","popFrstEle","activeEleRemove","top","show","tbarScrollChk","eleContains","getAttribute","closest","pos","sib","skipEle","parentElement","itemObj","isPopupElement","clsList","popupNav","popupClickHandler","tempItem","indexOf","item","cancel","clickedArgs","CLS_RTL","position","X","Y","offsetX","dataBind","refreshPosition","getElementOffsetY","minHeight","renderControl","renderComplete","ariaAttr","renderItems","renderLayout","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","separator","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","align","toLowerCase","showAlwaysInPopup","portals","notify","renderReactTemplates","changeOrientation","refreshOverflow","initScroll","innerItems","checkOverflow","itemWidthCal","getComputedStyle","marginTop","marginRight","marginBottom","marginLeft","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","getElementsByClassName","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","offsetLeft","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","tbResize","childNodes","tbarElement","sepItem","extendEle","popupEle","popupInit","getPropertyValue","clientHeight","maxHeight","eleStyles","popup","relateTo","offsetY","open","close","collision","appendTo","borderRightWidth","visibility","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","popIcon","scrollY","innerHeight","overflowHeight","tbEleData","getBoundingClientRect","bottom","popupOffset","right","documentElement","clientWidth","inEle","pre","eleOffset","checkoffset","popPriority","len","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","query","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","sepBeforePri_1","state_1","refreshPositioning","margin","tbarWid","popWid","left","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","setAttr","attr","keyVal","enableItems","isEnable","elements","enable","a","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","parentNode","template","removeItems","args","parseInt","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","regEx","RegExp","trim","innerHTML","tempStr","outerHTML","tempArray","toolbarTemplateID","isStringTemplate","buttonRendering","dom","iconCss","iconPos","textStr","btnTxt","enableHtmlSanitizer","sanitize","prefixIcon","suffixIcon","btnObj","iconPosition","tempDom","tooltipText","htmlAttributes","textContent","itemClick","showTextOn","sTxt","disabled","visible","currentTarget","curEle","multirowele","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","initIndex","isElement","eleIndex","innerItems_1","innerItems_2","nextEle","setFlag","removeFlag","initELe","getModel","obj","upDownKeyHandler","ul","li","defaultIdx","liIdx","selectedLi","isValidLI","setBlankIconStyle","blankIconList","iconLi","cssProp","padding","fontSize","paddingLeft","DISABLED","FOCUS","ICON","ITEM","POPUP","RTL","SEPARATOR","VERTICAL","DropDownButton","isPopupCreated","toggle","canOpen","openPopUp","closePopup","newItem","idx","j","createItems","isUniqueId","len_1","getULElement","div","dropDown","targetType","content","getTargetElement","getPopUpElement","appendItems","span","showIcon","hasIcon","createAnchor","button","enablePersistence","appendArrowSpan","setActiveElem","isColorPicker","createPopupOnClick","prevElem","previousSibling","activeElem","classList_1","attrList","popupUnWireEvents","destroyPopup","unWireEvents","getElementById","keyBoardHandler","delegateMousedownHandler","mousedownHandler","popupWireEvents","popupElement","rippleFn","selector","altKey","keyEventHandler","getLI","popupElem","splitButton","appendReactElement","beforeOpenArgs","observedArgs","ul_1","openArgs","focusEle","beforeCloseArgs","ul_2","closeArgs","btnModel","setProperties","arrowSpan","focusIn","TAGNAME","SplitButton","ejInstance","wrapper","attributes","nodeName","nodeValue","initWrapper","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","btnElem","dropDownBtnModel","callBackPromise","Deferred","resolve","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","promise","reject","catch","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT","DEVICE","CLOSE","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","Animation","effect","delay","Tooltip","mouseMoveEvent","mouseMoveTarget","containerElement","isBodyContainer","formatPosition","_b","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","popupObj","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","reposition","findTarget","needTemplateReposition","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","HTMLElement","tempFunction","tempArr","enableHtmlParse","nodeList","templateFunction","renderCloseIcon","isSticky","tipClose","touchStartEvent","onStickyClose","addDescribedBy","describedby","join","removeDescribedBy","orgdescribedby","tapHoldHandler","evt","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","animation","closeDelay","targetList","ctrlId","targetList_1","target_1","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showAnimation","showTimer","hideTimer","openDelay","isInteracted","observeCallback","beforeRenderArgs","beforeRenderCallback","isHidden","role","styles","tooltipBeforeRender","tooltipAfterRender","stop","appendContainer","ctrlObj","container","maxWidth","beforeOpenCallback","openAnimation_1","timingFunction","onMouseMove","wireMouseEvents","tooltip","viewContainerRef","checkCollision","x","y","horizontal","affectedPos","checkCollideTarget","pageXOffset","pageYOffset","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","arrowleft","positionString","newPos","offsetType","windowCollision","hideAnimation","targetElement","isTooltipOpen","tooltipHide","popupHide","closeAnimation","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","touches","pageX","pageY","colpos","keyDown","touchEnd","opensOn","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchEndEvent","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","CLASSNAMES","DISABLE","INPUT","TEXTAREA","INPUTGROUP","FLOATINPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","floatType","isBindClearAction","createInput","internalCreateElement","makeElement","inputObject","buttons","clearButton","floatLabelType","bindClearAction","createInputContainer","createFloatingInput","bindInitialEvent","properties","showClearButton","setClearButton","appendSpan","validateInputType","setPropertyValue","checkInputValue","parent","getParentNode","inputElement","inputValue","_focusFn","_blurFn","getElementsByTagName","wireFloatingEvents","unwireFloatingEvents","customTag","floatLinelement","floatLabelElement","replace","innerText","encodePlaceHolder","inputWrap","updateLabelState","checkFloatLabelType","setCssClass","setEnabled","enabled","setEnableRtl","setPlaceholder","setReadonly","updateIconState","isNotFocused","activeElement","createClearButton","baseElement","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","tag","result","spanEle","hiddenInput","setValue","oldClass","setWidth","match","isReadonly","isRtl","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","isClear","removeFloating","inputEle","addFloating","iconEle","inputObj","isPrependIcon","floatLine","floatText","setRipple","isRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","createIconEle","iconClass","addIcon","icons","internalCreate","result_1","result_2","prependSpan","innerWrapper","wrap","SPINICON","SPINUP","SPINDOWN","ERROR","INCREMENT","DECREMENT","INTREGEXP","DECIMALSEPARATOR","COMPONENT","CONTROL","NUMERIC_FOCUS","HIDDENELEMENT","wrapperAttributes","NumericTextBox","isVue","preventChange","isDynamicChange","numericOptions","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","formEle","attributeName","filter","hasAttribute","localeText","incrementTitle","decrementTitle","l10n","locale","getConstant","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","prevValue","updateHTMLAttrToElement","checkAttributes","inputEleValue","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","setElementWidth","changeValue","isNaN","strictMode","trimValue","decimals","roundNumber","elementPrevValue","isDynamic","attributes_1","setNumber","instance","getNumberParser","format","minValue","maxValue","stepValue","currency","currencyCode","updatedCssClassValue","getNumericValidClassList","inputWrapper","updateHTMLAttrToWrapper","updateDataAttribute","pro","updateCssClass","newClass","numericClassName","updatedClassValue","numericStyle","spinDown","spinUp","wireSpinBtnEvents","min","max","MAX_VALUE","formattedValue","getNumberFormat","maximumFractionDigits","minimumFractionDigits","useGrouping","operation","isInteract","performAction","raiseChangeEvent","checkErrorClass","bindClearEvent","resetHandler","setElementValue","formElement","nextElementSibling","keyupEvent","createEvent","initEvent","dispatchEvent","resetFormHandler","updateValue","setSpinButton","focusHandler","focusOutHandler","keyDownHandler","keyUpHandler","inputHandler","keyPressHandler","changeHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveEvent","touchMoveOnSpinner","unwireSpinBtnEvents","stopPropagation","parsedInput","changeEventArgs","previousValue","isInteraction","beforeUpdate","numericRegex","preventHandler","iOS","navigator","platform","selectionStart","currentPos","prevPos","valArray","numericObject","ignoreKeyCode","charCodeAt","prevVal","setSelectionRange","lastIndexOf","substring","cursorPosChanged","validateDecimalOnType","parseValue","numerictextboxObj","fireFox","parsedValue","localChange","current","previous","nonZeroRegex","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","exec","stepCount","roundValue","precision","divide","pow","round","updateCurrency","propVal","numberOfDecimals","getNumberOfDecimals","modifyText","validateState","formatNumber","elementValue","serverDecimalSeparator","EXPREGEXP","valueString","toFixed","decimalPart","result1","result2","cancelEvent","version","which","metaKey","ctrlKey","currentChar","fromCharCode","isAlterNumPadDecimalChar","code","selectionEnd","fractionRule","mouseWheel","delta","rawEvent","wheelDelta","detail","focusEventArgs","formatValue_1","isIos","blurEventArgs","value_1","focusEvent","getElementData","mouseUpClick","timeOut","touchEvent","elementFromPoint","clientX","clientY","floatLabelTypeUpdate","increment","decrement","attrArray","getText","focusOut","blur","updateSpinButton","updateClearButton","setLocale","propValue","TicksData","ColorRangeData","LimitData","TooltipData","bootstrapTooltipOffset","bootstrap4TooltipOffset","rtl","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","scale","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHorizantalColor","sliderVerticalColor","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","handle","transitionOnMaterialTooltip","scaleTransform","customAriaText","drag","isDragComplete","initialTooltip","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","formChecker","isForm","formResetValue","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","initRender","setZindex","getTheme","setCSSClass","oldCSSClass","isVisible","tooltipElement","showOn","theme","tabIndex","getThemeInitialization","setHandler","createRangeBar","createLimitBar","setOrientClass","random","showButtons","setButtons","setEnableRTL","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","isMaterial","isBootstrap","isBootstrap4","isTailwind","isBootstrap5","isFluent","isMaterialTooltip","orientation","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","range","createSecondHandle","createFirstHandle","materialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","handlePos1","propertyName","enableAnimation","getHandle","tooltipToggle","closeTooltip","handleFocusOut","focusSliderElement","sliderBarClick","sliderBarMove","sliderBarUp","preDir","currDir","setBarColor","tooltipValue","setTooltipContent","tooltipObj","addTooltipClass","setAriaAttrValue","setPreviousVal","formatContent","ariaContent","handle1","handleVal1","handle2","handleVal2","oldCss","newCss","transform","getTooltipTransformProperties","previousTooltipClass","rotate","tooltipPlacement","tooltipBeforeOpen","css","setTooltipTransform","tooltipCollision","tooltipOffsetValue","materialTooltipEventCallBack","wireMaterialTooltipEvent","tooltipPositionCalculation","transformProperties","translate","openMaterialTooltip","refreshTooltip","tooltipContentElement","cursor","closeMaterialTooltip","tooltipTarget","checkTooltipPosition","tooltipClass","tooltipCollidedPosition","beforeOpen","beforeCollision","beforeClose","tooltipBeforeClose","initializeTooltipProps","tooltipShowOn","firstBtn","secondBtn","buttonTitle","enabledRTL","title","buttonFocusOut","repeatButton","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","focusHandle","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","zIndex","isAndroid","smallStep","showSmallTicks","largeStep","steps","abs","islargeTick","tickWidth","Infinity","k","largestep","startValue","createTick","formatTicksValue","decimalPoints","ticksAlignment","triggerEvent","lastChild","ticksWrapper","tickElements","scaleAlignment","spanElement","tickText","tickElement","tickValuePosition","otherChild","first","other","ariaValueText","isTickFormatted","valuenow","activeHandle","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","buttonUp","openTooltip","setRangeBar","handlePos2","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","limitBar","preHandlePos1","values","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","eventName","preHandlePos2","values_1","tempStartEnd","removeElement","startHandleFixed","endHandleFixed","xyToPosition","num","top_1","stepValueCalculation","percentStep","remain","addition","positionToValue","diff","total","changedTouches","handlepos","handleVal","focusedElement","checkRepeatedValue","handleValueAdjust","handleValue","assignValue","handleNumber","minDiff","dragRangeBarMove","xPostion","yPostion","rangeBarDragged","secondPartRemain","firstPartRemain","valueAndPostion","dragRangeBarUp","wireButtonEvt","sliderFocusOut","rangeBarMousedown","elementClick","onresize","keyUp","hover","formResetHandler","curTarget","changeSliderType","updateConfig","changeRtl","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","trackPosition","trackClassName","child","colorRange","startingPosition","endPosition","trackContainer","backgroundColor","color","border","APPLY","CANCEL","CURRENT","CONTAINER","CTRLBTN","CTRLSWITCH","FORMATSWITCH","HANDLER","HEX","HIDEHEX","HIDEOPACITY","HIDERGBA","HIDEVALUE","HIDEVALUESWITCH","HSVAREA","HSVCONTAINER","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PALETTES","PALETTECONTENT","PICKERCONTENT","PREVIEW","PREVIOUS","SHOWVALUE","SELECT","SPLITPREVIEW","TILE","presets","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","enableOpacity","getWrapper","noColor","mode","slicedValue","initialInputValue","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isRgb","createCtrlBtn","toggleDisabled","refreshPopupPos","splitBtn","onOpen","hex","rgba","convertToRgbString","hexToRgb","preview","getPopupEle","popupInst","getPopupInst","bindCallBackEvent","observeOpenArgs","modal","observedCloseArgs","onPopupClose","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","colors","refEle","row","tile","roundedColor","palette","columns","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","h","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","opacityEle","background","convertToOtherFormat","pValue","rgbToHex","cValue","updateOpacityInput","updatePreview","opacityTextBoxInst","previewContainer","colorValue","isPicker","createNumericInput","numericInput","appendValueSwitchBtn","hexInput","clsName","appendOpacityValue","targetEle","valueSwitchBtn","formatSwitchHandler","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","substr","removeTileSelection","selectedEle","convertRgbToNumberArray","n","getValue","pickerKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","ctrlSwitchBtn","btnClickHandler","handlerDragPosition","enterKeyHandler","triggerChangeEvent","observedcloseArgs","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","inst","toUpperCase","noColorTile","switchToPicker","grpEle","tiles","prevSelectedEle","pop","tilePosition","keySelectionChanges","newEle","cIdx","emptyCount","inputValueChange","isPopupOpen","tooltipInst","tempValue","charAt","opacity","bigInt","g","s","f","q","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","otherCompModel","count_1","ToolbarRenderer","wireEvent","unWireEvent","off","popupOverlay","onPopupOverlay","removePopupContainer","toolbarBeforeCreate","toolbarCreated","toolbarClicked","dropDownSelected","beforeDropDownItemRender","dropDownOpen","listEle","popupModal","dropDownClose","popupContainer","nextSibling","renderToolbar","setPanel","renderPanel","rteToolbarObj","toolbarObj","beforeCreate","created","clicked","renderDropDownButton","inlineMode","proxy","divNode","beforeItemRender","getID","renderListDropDown","itemName","inlineEle","currentElement","currentDropdown","setIsModel","paletteSelection","dropDownArgs","colorbox","borderBottomColor","renderColorPickerDropDown","colorPicker","defaultColor","initialBackgroundColor","fontColor","colorpickerValue","formatter","editorManager","nodeSelection","getRange","contentModule","getDocument","startContainer","iframeSettings","ownerDocument","collapsed","subCommand","command","onclick","setColorPickerContentWidth","pickerRefresh","dropElement","onmousedown","onkeydown","colorPickerContent","borderWidth","renderColorPicker","beforeTileRender","allClassName","colorPickerArgs","closestElement","beforeModeSwitch","colorCode","getPanel","toolbarPanel","panel","BaseToolbar","serviceLocator","tools","locator","renderFactory","getService","toolbarSettings","itemConfigs","setRtl","oldCssClass","getClass","getTemplateObject","itemStr","toLocaleLowerCase","getObject","getItems","tbItems","proxy_1","callback_1","undo","getUndoRedoStack","saveData","tbItems_1","getToolbarOptions","toolbarRenderer","getRenderer","DropDownButtons","initializeInstance","beforeRender","dropdownContent","renderDropDowns","containerType","tbElement","formatOLItem","numberFormatList","types","defineProperties","enumerable","numberFormatListDropDown","formatULItem","bulletFormatList","bulletFormatListDropDown","formatItem","formatDropDown","fontItem","fontFamily","fontNameContent","fontNameDropDown","getEditNode","fontsize","fontSizeContent","fontSizeDropDown","alignDropDown","imageAlignmentDropDown","imageDisplayDropDown","rowDropDown","columnDropDown","cellDropDown","verticalAlignDropDown","tableStylesDropDown","getUpdateItems","dropDownItems","fontItems","_d","_e","_f","_g","formatItems","getEditPanel","tableRowsDropDown","tableColumnsDropDown","tableCellVerticalAlignDropDown","displayDropDown","imageAlignDropDown","tableSettings","removeDropDownClasses","destroyDropDowns","updateCss","dropDownObj","isDestroyed","onIframeMouseDown","ToolbarAction","register","toolbarClick","dropDownSelect","renderSelection","controlParent","quickToolbarModule","tableQTBar","listItem","listStyle","listImage","process","isToolbar","isTransformChild","addRenderer","baseToolbar","contentRenderer","Content","editableElement","editPanel","toolbarBindEvent","keyBoardModule","getToolbarElement","toolBarKeyDown","keyConfig","createToolbarElement","enableFloating","tbWrapper","getToolbarMode","tbMode","Expand","Scrollable","checkToolbarResponsive","tBarMode","MultiRow","addFixedTBarClass","dropDownModule","checkIsTransformChild","transformElements","toggleFloatClass","scrollParent","isBody","isFloat","floatOffset","floatingToolbarOffset","tbHeight","getToolbarHeight","getExpandTBarPopHeight","scrollParentRelativeTop","trgHeight","bodyStyle","paddingTop","targetTop","scrollParentYOffset","isMSPointer","scrollParentRect","scrollParentTop","outOfRange","parent_1","refreshToolbarOverflow","divEle","iframeEle","targetItem","updateItem","getBaseToolbarObject","disableToolbarItem","removeFixedTBarClass","showFixedTBar","hideFixedTBar","trgItem","addTBarItem","prefixId","updateToolbarStatus","tbElements","fullScreen","fullScreenModule","showFullScreen","hideScreen","hideFullScreen","getBaseToolbar","enableTBarItems","muteToolbarUpdate","trgItems","undoRedoManager","getUndoStatus","removeTBarItems","popHeight","expandPopup","isToolbarDestroyed","destroyToolbar","unWireScrollElementsEvents","getDOMVisibility","offsetParent","mouseDownHandler","focusChangeHandler","dropDownBeforeOpenHandler","tbFocusHandler","activeElm","isToolbaractive","toolbarItem","tbKeydownHandler","toolbarClickHandler","trg","setContentHeight","toolbarActionModule","onRefresh","refreshToolbar","wireScrollElementsEvents","CHECK","FRAME","INDETERMINATE","LABEL","RIPPLE","RIPPLECHECK","RIPPLEINDETERMINATE","WRAPPER","containerAttr","CheckBox","isMouseClick","clickTriggered","validCheck","changeState","state","rippleSpan","frameSpan","checked","indeterminate","updateVueArrayModel","initialCheckedValue","setDisabled","for","labelPosition","isCenterRipple","setText","labelMouseDownHandler","labelMouseUpHandler","rippleElem","labelWrap","updateHtmlAttributeToWrapper","formElem","init","inlineNode","isIDevice","setEditFrameFocus","iframe","contentWindow","updateTextNode","tempNode","resultElm","isPreviousInlineElem","previousParent","paraElm","tableElm","tdElm","borderLeft","borderRight","borderBottom","borderTop","imageElm","getLastTextNode","startChildNodes","finalNode","getDefaultHtmlTbStatus","bold","italic","subscript","superscript","strikethrough","orderedlist","unorderedlist","underline","alignments","backgroundcolor","fontcolor","fontname","formats","createlink","insertcode","Link","rteID","i10n","rendererFactory","dialogRenderObj","linkDialog","showDialog","closeDialog","showLinkQuickToolbar","clearDialogObj","onToolbarAction","removeLink","editLink","openLink","editAreaClickHandler","dialogObj","returnValue","currentObj","checkBoxObj","linkQTBar","quickToolObj","parentTop","parentLeft","isNotify","toolbarModule","linkTop","linkLeft","linkPos","showPopup","endContainer","hideLinkQuickToolbar","hidePopup","showOnRightClick","quickToolbarSettings","editorMode","getAnchorNode","openDialog","isInternal","save","selectNodeEle","getNodeCollection","selectParentEle","getParentNodeCollection","selectNode","selectParent","textArea","markdownSelection","member","getSelectedText","inputDetails","linkWebAddress","linkDisplayText","linkTooltip","urlPlace","textPlace","linkDialogEle","linkContent","htmlTextbox","contentElem","linkTarget","linkUrl","linkText","linkTitle","linkOpenLabel","selectText","linkInsert","linkCancel","selectObj","selfLink","dialogModel","header","showCloseIcon","closeOnEscape","isModal","insertlink","buttonModel","isPrimary","cancelDialog","animationSettings","isBlur","restore","checkUrl","startOffset","endOffset","onDocumentClick","inlineQTBar","linkEle","isUrl","enableAutoUrl","isIE","argsValue","argsVal","regexp","href","selectedNode","linkUpdate","moduleDestroy","HIDE_CLEAR","TEXTBOX_FOCUS","TextBox","isHiddenInput","inputPreviousValue","textboxOptions","textboxWrapper","respectiveElement","prevOnChange","isProtectedOnChange","isBlank","autocomplete","globalize","multiline","textarea","apiAttributes","attrs_1","autoCompleteTxt","getInputValidClassList","setInitialValue","defaultValue","updatedClassValues","setStyle","inputClassName","resetForm","animationHandler","resetValue","textboxObj","interaction","resetInputHandler","globalTimeOut","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_FLUENT_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","DEFT_BOOT5_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_FLUENTSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","createSpinner","radius","create_spinner_container","calculateRadius","setTheme","createLabel","inner_wrap","replaceContent","labelEle","createMaterialSpinner","uniqueID","random_generator","create_material_element","mat_calculate_attributes","createBootstrap4Spinner","createBootstrap5Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createFluentSinner","createTailwindSpinner","createHighContrastSpinner","innerContainer","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","viewBoxValue","trans","defaultRadius","bootCircle","rad","startArc","defineArcPoints","circleEle","generateSeries","begin","series","formSeries","animateBootstrap","rotation","circle","boot_animate","isAnimate","inner","defaultSize","previousId","combine","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","createCircle","easeAnimation","easing","startTime","Date","getTime","diameter","getSize","strokeSize","getStrokeSize","mat_animation","currentTime","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","parsed","offset","timestamp","timecount","innerConainer","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","showSpinner","showHideSpinner","isHide","spinnerWrap","spinCheck","svgEle","hideSpinner","CONTROL_WRAPPER","INPUT_WRAPPER","DROP_AREA","DROP_WRAPPER","LIST_PARENT","FILE","STATUS","ACTION_BUTTONS","UPLOAD_BUTTONS","CLEAR_BUTTONS","FILE_NAME","FILE_TYPE","FILE_SIZE","REMOVE_ICON","DELETE_ICON","SPINNER_PANE","ABORT_ICON","RETRY_ICON","DRAG_HOVER","PROGRESS_WRAPPER","PROGRESSBAR","PROGRESSBAR_TEXT","UPLOAD_INPROGRESS","UPLOAD_SUCCESS","UPLOAD_FAILED","TEXT_CONTAINER","VALIDATION_FAILS","RTL_CONTAINER","ICON_FOCUSED","PROGRESS_INNER_WRAPPER","PAUSE_UPLOAD","RESUME_UPLOAD","RESTRICT_RETRY","wrapperAttr","FORM_UPLOAD","HIDDEN_INPUT","INVALID_FILE","INFORMATION","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","accept","uploadedFilesData","base64String","allTypes","pausedData","uploadMetaData","btnTabIndex","disableKeyboardNavigation","actionCompleteCount","flag","selectedFiles","uploaderName","fileStreams","newFileRef","isFirstFileOnSelection","dragCounter","fileList","filesData","uploaderOptions","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","setRTL","reRenderFileList","browse","upload","renderButtonTemplates","unBindDropEvents","updateDropArea","checkHTMLAttributes","renderPreLoadFiles","updateDirectoryAttributes","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","keyValue","status","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","abort","delete","pauseUpload","pause","resume","retry","fileUploadCancel","invalidFileSelection","totalFiles","formRendered","isPureReactComponent","enter","browserName","directoryUpload","renderBrowseButton","initializeUpload","isPreloadFiles","wireActionButtonEvents","serverActionButtonsEventBind","unwireActionButtonEvents","uploadButtonClick","clearButtonClick","uploadText","clearText","dropAreaWrapper","setDropArea","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","allowUpload","showFileList","sequentialUpload","length_1","dropTextArea","dropArea","dropZoneElement","enableDropText","createDropTextHint","bindDropEvents","fileDropArea","uploadStyle","newAttr","createAttribute","setAttributeNode","checkAutoUpload","sequenceUpload","isFileListCreated","updatedOldCssClass","browseButtonClick","onSelectFiles","removeFocus","keyboardModule","metaData","getCurrentMetaData","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","dragHover","onDragLeave","onPasteFile","onDragEnter","dropEffect","dataTransfer","clipboardData","pasteFile","kind","renderSelectedFiles","getAsFile","getSelectedFiles","liElement","allFiles","getFilesData","nameElements","startIndex","selectedElement","formUpload","isFormUpload","getFilesInArray","spinnerTarget","uploadSequential","checkActionComplete","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","custom","ajax","asyncSettings","removeUrl","emitError","formData","FormData","beforeSend","currentRequest","httpRequest","removingEventCallback","onLoad","removeCompleted","onError","removeFailed","send","postRawFile","append","updateFormData","customFormData","customData","updateCustomheader","request","_loop_2","setRequestHeader","response","getResponse","readyState","updateStatus","rootElement","statusElement","getFilesFromFolder","filesEntries","validDirectoryUpload","checkDirectoryUpload","_loop_3","webkitGetAsEntry","isFile","files_2","fileObj","fullPath","isDirectory","traverseFileTree","directoryReader","createReader","readFileFromDirectory","readEntries","entries","pushFilesEntries","_loop_4","this_2","targetFiles","sortFilesList","sortFileList","getBase64","fileReader","FileReader","readAsDataURL","onload","onerror","error","directory","paste","isModified","modifiedFilesData","progressInterval","isCanceled","updateInitialFileDetails","checkExtension","_internalRenderSelect","fileName","getFileType","webkitRelativePath","fileDetails","validatedFileSize","fileSource","dataFiles","updateSortedFileList","raiseActionComplete","allowFormUpload","saveUrl","singleUpload","removedList","previousListClone","added","removedList_1","oldList","createParentUL","dropFiles","extensions","extensions_1","extension","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","errorMessage","isPreLoadFile","isPreload","createCustomfileList","fileData_1","listElement","uploadTemplateFn","templateComplier","liTempCompiler","fromElements","eventsArgs","formFileList","statusMessage","fileContainer","fileData_2","fileNameEle","getFileNameOnly","fileTypeEle","fileType","rtlContainer","truncateName","formValidateFileInfo","setListToFileInfo","infoEle","bytesToSize","getFileSize","createFormInput","iconElement","mergeFileInfo","addInvalidClass","typeValidationMessage","fileData_3","fileData_4","list","fileNames","fileData_5","statusForFormUpload","isValid","fileData_6","formCustomFileList","isSelectedFile","fileData_7","textContainer","textElement","fileExtension","preventActionComplete","getSlicedName","nameElement","dataset","tail","fileData_8","names","setInitialAttributes","filterfileList","filterFiles","updateLiStatus","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","changeProgressValue","progressValue","uploadInProgress","customUI","cancelUploadingFile","updateProgressBarClasses","name_1","removecanceledFile","renderFailureState","requestResponse","removeProgressbar","deleteIcon","pauseButton","retryElement","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","statusText","headers","getAllResponseHeaders","withCredentials","spinnerEle","getSelectedFileStatus","matchFiles","matchFilesIndex","selectFileIndex","selectedFileData","fileDataIndex","callType","progressAnimation","animateProgressBar","uploadTemplate","exception","isMutiple","isDisabled","fileIndex","chunkSize","blob","chunkIndex","retryCount","sendRequest","totalChunk","async","contentType","chunkUploadComplete","onUploadProgress","chunkUploadInProgress","currentChunkIndex","uploadingEventCallback","chunkUploadFailed","eventCancelByArgs","removeIcon","checkChunkUpload","updateMetaData","eventArgs_1","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","cancelButton","retryRequest","retryAfterDelay","file_1","failureMessage","checkPausePlayAction","retryUpload","fromcanceledStage","clearIcon","progressVal","totalChunks","abortIcon","sortedFileNames","sort","sortedFilesData","sortedFileNames_1","name_3","attributes_2","uploadFiles_1","uploadFiles","serverReadFileBase64","totalCount","reader","contents","uploadFileCount","getFileRead","getFileInfo","uploadFilesRequest","chunkEnabled","name_4","spliceFiles","liIndex","endIndex","beforeEventArgs","removingFiles","isLiRemoved","removingFiles_1","validUrl","_loop_5","fileUploadedIndex","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelingFiles","cancelUpload","showHideUploadSpinner","Image","isImgUploaded","isAllowedTypes","mouseX","deletedImg","insertImage","onWindowResize","showImageQuickToolbar","caption","deleteImg","insertImgLink","insertAltText","imageSize","alignmentSelect","afterRender","imagePaste","dragDrop","dragStart","dragEnter","dragOver","imageClick","observer","undoStack","insertImageSettings","resizeStart","onCutHandler","widthNum","heightNum","uploadObj","temp","img","outline","resizeEnd","resizeBtnInit","imgEle","requestType","getPointX","prevSelectedImgEle","preventDefaultResize","imgResizeDiv","imageResize","getPointY","stopImmediatePropagation","imageQTBar","resizeBtnStat","topLeft","topRight","botLeft","botRight","resizeStartArgs","cancelResizeAction","imgResizePos","resizeImgDupPos","resizing","calcPos","imgWid","imgHgt","borWid","devWid","elementOffset","ignoreOffset","parentOffset","doc","nodeType","setAspectRatio","expectedX","expectedY","resizeByPercent","original","finalWidthByPerc","pixToPerc","currentWidth","expected","imgDupMouseMove","resizingArgs","getInsertImgMaxWidth","mouseY","imgDupPos","fileManagerSettings","openImgLink","editImgLink","removeImgLink","isCapLink","captionEle","insertElement","isCursor","keyCodeValues","isCursor_1","checkImageBack","checkImageDel","prev","removeResizeEle","setSelectionText","event_1","src","imageRemovePost","alignImage","break","imageWithLinkQTBarItemUpdate","toolbarElement","newItems","addQTBarItem","setSelectionContents","hideImageQuickToolbar","imagDialog","linkWrap","inputLink","linkargs_1","selfImage","link","localeObj","altText","altWrap","altHeader","getAlt","inputAlt","altArgs_1","alt","insertAlt","captionClass","absoluteUrl","URL","baseURI","removingImgName","xhr","XMLHttpRequest","triggerPost","responseType","contenteditable","draggable","imgWrap","imgInner","imgCaption","imgSizeHeader","dialogContent","imgsizeInput","selectObj_1","insertSize","imgDialog","imgInsert","imglinkCancel","imgHeader","insertImageUrl","removing","imgUpload","linkHeader","linkHeaderText","imageUrlPopup","imgUrl","placeUrl","inputUrl","spellcheck","getButtons","uploadUrl","regex","matchUrl","imgHeight","imgWidth","imgSizeWrap","widthVal","changedWidthValue","getClientRects","heightVal","changedHeightValue","inputWidthValue","inputHeightValue","dialogEle","uploadParentEle","deviceImgUpMsg","imgUpMsg","spanMsg","btnEle","autofocus","browserMsg","btnClick","fileSelect","selectArgs","beforeUploadArgs","uploadEle","allowedTypes","selected","isServerRendered","JSON","parse","stringify","reader_1","saveFormat","createObjectURL","beforeUpload","currentRequestHeader","customFormDatas","uploading","success","failure","actionBeginArgs","effectAllowed","imgElement","isImgOrFileDrop","contentEditable","caretRangeFromPoint","createRange","setStart","rangeParent","rangeOffset","getDropRange","uploadArea","insertDragImage","startRange","setRange","startNode","startCharIndexCharacter","setEnd","rangeRect","activePopupElement","imgFiles","imgType","onSelect","insertNode","imgArgs_1","validFiles","imageTag","uploadMethod","dragEvent","imageElement","isUploading","viewPortElement","refreshPopup","canceling","imageUploadingArgs","uploadFailure","uploadSuccess","selectNodeContents","imgPosition","rtePosition","reader_2","callBack","showPopupToolBar","imageSrc","createQTBar","image","ImageToolbar","Count","renderCount","appendCount","charCountBackground","htmlLength","htmlText","string","percentage","Formatter","self","saveSelection","getSelection","rangeCount","getRangeAt","getAncestorNode","commonAncestorContainer","currentInsertContentLength","currentLength","selectionLength","totalLength","action_1","itemCollection","isTableModule","tableModule","ensureInsideTableList","enterKey","onSuccess","enterAction","selectType","clipboardAction","execCommand","enableUndo","onKeyHandler","events","callbackArgs","setPlaceHolder","autoResize","undoRedoStack","quickTBarObj","IMAGE","TABLE","LINK","INSERT_ROW","INSERT_COLUMN","DELETEROW","DELETECOLUMN","REMOVETABLE","TABLEHEADER","TABLE_VERTICAL_ALIGN","TABLE_MERGE","TABLE_VERTICAL_SPLIT","TABLE_HORIZONTAL_SPLIT","TABLE_MOVE","ALIGNMENT_TYPE","INDENT_TYPE","DEFAULT_TAG","BLOCK_TAGS","IGNORE_BLOCK_TAGS","TABLE_BLOCK_TAGS","SELECTION_TYPE","INSERTHTML_TYPE","INSERT_TEXT_TYPE","CLEAR_TYPE","SELF_CLOSING_TAGS","NodeSelection","startNodeName","endNodeName","saveInstance","cloneRange","rootNode","documentFromRange","getNodeArray","html","docElement","collapse","defaultView","getIndex","isChildNode","nodeCollection","getNode","endNode","getParentNodes","reverse","getSelectionNodeCollection","getSelectionNodes","getSelectionNodeCollectionBr","getSelectionNodesBr","getInsertNodeCollection","getInsertNodes","isStart","array","setRangePoint","isvalid","constant","selectRange","removeAllRanges","addRange","setSelectionNode","getSelectedNodes","insertParentNode","newNode","surroundContents","setCursorPoint","point","htmlKeyConfig","selfClosingTags","markerClassName","startSelection","endSelection","DOMNode","currentDocument","isBlockNode","Node","ELEMENT_NODE","isLink","blockParentNode","hasClass","rawAttributes","rawAttr","orderRawAttr","attrKey","attrValue","clearAttributes","openTagString","closeTagString","createTagString","relativeElement","isList","isEditable","replaceWith","parseHTMLFragment","DocumentFragment","createContextualFragment","insertAfter","referenceNode","wrapInner","unWrap","unWrapNode","getSelectedNode","TEXT_NODE","nodeFinds","existNodes","isEditorArea","getRangePoint","ranges","getPreviousNode","encode","saveMarker","startTextNode","endTextNode","marker","setMarker","isTableStart","existNode","textNodes","markerStart","markerEnd","ensureSelfClosingTag","isTable","parNode","tdNode","lastNode","createTempNode","ignoreBr","getImageTagInSelection","focusNode","blockNodes","collectionNodes","ignoreTableTag","listNodes","Lists","domNode","applyListsHandler","spaceKeyAction","testList","olListRegex","elementStart","testCurrentList","olListStartRegex","currentContent","spaceList","preElement","nextElement","preElemULStart","nextElemULStart","startElementOLTest","preElementOLTest","nextElementOLTest","enterList","startNodeParent","nearBlockNode","nodeCutter","GetSpliceNode","insertTag","backspaceList","parentList","commonAncestor","startEle","endEle","isNested","ignoreDefault","currentAction","getAction","shiftKey","revertList","revertClean","nestedList","cleanNode","prevSibling","noPreviousElement","firstNode","firstNodeOL","siblingListOL","siblingListLI","siblingListLIFirst","nestedElement","nestedElementLI","firstNodeLI","lastSelectionNode","listsNodes","setSelectionBRConfig","allSelectedNode","selectedNodes","currentFormatNodes","currentNode","previousCurrentNode","previousNode","tempElem","preNode","postNode","applyLists","startElem","endElem","isRevert","removeEmptyListElements","checkLists","elemAtt","openTag","closeTag","newTag","replaceHTML","collectionString","listElem","listStyleType","nodesTemp","liParents","contentNodes","findUnSelected","rightIndent","indentElements","lastElement","childElements","z","childLI","viewNode","siblingList","wrapperclass","childNode","nodeInnerHtml","emptyUl","emptyLi","InsertMethods","WrapBefore","textNode","isAfter","AppendBefore","Wrap","unwrap","NodeCutter","SplitNode","isCollapsed","clone","setStartBefore","setEndAfter","fragment","extractContents","spliceEmptyNode","isEmpty","isImgElm","GetCursorStart","indexes","GetCursorRange","cursorRange","TrimLineBreak","GetCursorNode","line","Formats","applyFormats","endCon","pTag","replaceChild","brNode","startCon","preElem","endPreElem","liParent","deleteContent","removeCodeContent","lastEmpty","lastBeforeBr","startParent","paraFocus","isNotEndCursor","pointer","deleteContents","referNode","isEnd","insertMarker","brTag","previousSib","insertAdjacentHTML","setCursorPosition","markerElem","mrkParentElem","focusSelectionParent","brElm","tempSpanPElem","tempSpan","isSelectAll","formatsNodes","exeValue","cleanFormats","replaceNode","replaceTag","preFormatMerge","preNodes","ignoreAttr","InsertHtml","Insert","editNode","isExternal","currentIndex","closestParentNode","closestEle","pasteInsertHTML","sibNode","lasNode","removeEmptyElements","parentNode1","imageFocus","frag","createDocumentFragment","paraElem","isSingleNode","currentBlockNode","getImmediateBlockNode","containsBlockNode","removingComments","allChildNodes","insertTempNode","isFirstTextNode","contentsDeleted","firstParaElm","nearestAnchor","immediateBlockNode","rangeElement","placeCursorEnd","cursorPos","blockNode","liNode","splitedElm","createTextNode","elm","innerElement","findDetachEmptyElem","removableElement","emptyElements","detachableElement","LinkCommand","linkCommand","createLink","closestAnchor","domSelection","localeCompare","anchor","createAchorNode","removeText","createLinkNode","anchorEle","txtArray","inlineNodes","removeNodes","anchorNodes","finalinlineNodes","check","j_1","cln","j_2","arr","linkNode","containsNode","Alignments","applyAlignment","getTableNode","cellNode","isTableAlign","alignmentNodes","imageTags","elementNode","imgObj","imageCommand","Indents","indentValue","applyIndents","editEle","indentsNodes","parentNodes","marginLeftOrRight","indentsValue","CLASS_IMAGE_RIGHT","CLASS_IMAGE_LEFT","CLASS_IMAGE_CENTER","CLASS_IMAGE_BREAK","CLASS_CAPTION","CLASS_CAPTION_INLINE","CLASS_IMAGE_INLINE","ImageCommand","createImage","insertImageLink","openImageLink","editImageLink","removeImageLink","removeImage","insertAltTextImage","imageDimension","imageCaption","imageJustifyLeft","imageJustifyCenter","imageJustifyRight","imageInline","imageBreak","isReplaced","imgElm_1","calculateStyleValue","styleValue","capImgWrap","textEle","newTextEle","TableCommand","createTable","insertRow","insertColumn","deleteRow","deleteColumn","removeTable","tableHeader","tableVerticalAlign","cellMerge","HorizontalSplit","VerticalSplit","tableMove","table","tblBody","tdWid","rows","cell","removeEmptyNode","insertElem","emptyLiChild","getSelectedCellMinMaxIndex","selectedCells","curTable","minI","maxI","minJ","maxJ","selectedCellIndex","getCorrespondingIndex","minMaxIndex","FindIndex","startRow","endRow","startColumn","endColumn","isBelow","selectedCell","lastRow","cloneRow","allCells","getCorrespondingColumns","minVal","newRow","isHeaderSelect","tdElement","selectedRow","curCell","curRow","allRows","colIndex","previousWidth","currentTabElm","thTdElm","oldWidth","colTemplate","tBodyHeadEle","rowIndex","deleteIndex","selectedMinMaxIndex","minCol","maxCol","currentRow","currentCell","currentCellIndex","colSpanVal","rowHeadEle","nextFocusCell","sContainer","startChildLength","rowSpanVal","prepend","focusTrEle","selectedTable","headerExit","cellCount","colSpanCount","createTHead","th","deleteTHead","tableCell","verticalAlign","mergeCellContent","minMaxIndexes","getSelectedMinMaxIndexes","firstCell","rowSelectedCells","totalWidth","updateRowSpanStyle","updateColSpanStyle","colValue","colMin","eleArray","updateCellAttribute","rowValue","rowMin","firstIndex","spanCount","innerHtml","correspondingCells","minRow","maxRow","currentRowCol","targetRowCol","activeCell","newCell","activeCellIndex","activeCellRowSpan","avgCount","avgRowIndex","newTrEle","avgWidth","correspondingColumns","activeCellcolSpan","elementArray","colspan","colEle","colspan_1","rowSpan","columnIndex","cells","nextIndex","nextCol","highlightCells","startCell","endCell","minRowIndex","maxRowIndex","minColIndex","maxColIndex","minMaxValues","MinMax","activeCellTag","targetCellTag","activeRowIndex","activeColumnIndex","targetRowIndex","targetColumnIndex","activeCellList","activeIndexes","targetIndexes","IsFormatted","getFormattedNode","getFormatParent","isFormattedNode","isBold","isItalic","isUnderline","isStrikethrough","isSuperscript","isSubscript","isFontColor","isFontName","isFontSize","isBackgroundColor","validTags","inlineTags","fontWeight","fontStyle","textDecoration","backColor","SelectionCommands","applyFormat","validFormats","isFormatted","isFormat","preventRestore","isFontStyle","currentFormatNode","currentSelector","cursorNode","insertCursorNode","isSubSup","formatNode","insertFormat","removeFormat","applySelection","cursorNodes","cursorFormat","getCursorFormat","emptySpaceNode","brElem","getInsertNode","bgStyle","splitNode","startText","bg","formatNodeStyles","formatNodeTagName","nodeTraverse","nodeTraverseCondition","GetFormatNode","currentNodeElem","curParentElem","toLocaleUpperCase","applyStyles","getChildNode","updateStyles","SelectionBasedExec","InsertHtmlExec","applyHtml","pastedElements","allPastedElements","imgElements","allImgElm","imgElem","ClearFormat","defaultTag","lastText","exactNodes","cloneSelectNodes","clearInlines","reSelection","cloneParentNodes","clearBlocks","selectionNodes","endIndexNode","spliceParent","removeParent","index1","index2","index3","parentIndex","elementIndex","NONVALID_TAGS","NONVALID_PARENT_TAGS","IGNORE_PARENT_TAGS","currentInlineNode","removeInlineParent","ClearFormatExec","applyClear","UndoRedoManager","undoRedoSteps","undoRedoTimer","debounceListener","onAction","redo","currentContainer","changEle","shift","removedContent","MsWordPaste","olData","ulData","ignorableNodes","borderStyle","removableElements","listContents","wordCleanup","wordPasteStyleConfig","allowedStylePropertiesArray","tempHTMLContent","getData","rtfData","patern","patern2","patern3","pattern4","imageConversion","addListClass","cleanUp","listConverter","styleCorrection","removeUnwantedElements","breakLineAddition","removeClassName","addTableBorderClass","allNodes","allTableElm","hasTableBorder","checkVShape","imgSrc","base64Src","imgName","linkRegex","hexValue","hexConversion","convertToBase64","byteArr","conHexStringToBytes","conBytesToBase64","base64","base64Str","base64Char","byteArrLen","array3","array3length","array4","picHead","pic","source","fullImg","elmWithClass","allElements","findDetachElem","brElement","regExpStartElem","regExpEndElem","styleElement","styleClassObject_1","findStyleObject","removeUnwantedStyle","filterStyles","resultElem","fromClass","styleProperty","valueSplit","changedValue","elmWithStyles","elemStyleProperty","styleValues","styleClassObject","tempStyle","classNameCollection","stylesCollection","classNames","prevflagState","tempCleaner","level","stNode","collection","currentListStyle","getListContent","getlistStyleType","currentClassName","textAlign","listType","nestedLevel","listStyleTypeName","makeConversion","elemColl","temp1","listContent","currentListClass","prevList","pLevel","listCount","pElement","getNamedItem","currentStyle","pushContent","styleNodes","InsertTextExec","insertText","EditorManager","listObj","formatObj","alignmentObj","indentsObj","linkObj","selectionObj","inserthtmlObj","insertTextObj","clearObj","tableObj","msWordPaste","editorKeyDown","editorKeyUp","onWordPaste","onBegin","HTMLFormatter","updateFormatter","editElement","statusCollection","ToolbarStatus","targetNode","fontName","documentNode","formatCollection","nodesLength","isNodeChanged","isOrderedList","isUnorderedList","isAlignment","isFormats","isNumberFormatList","isBulletFormatList","pattern","search","HtmlToolbarStatus","toolbarStatus","prevToolbarStatus","onRefreshHandler","tbStatusString","markdown","ContentRender","rteObj","rteContent","contentPanel","textString","IFRAMEHEADER","IframeContentRender","iFrameBodyContent","iFrameContent","contentDocument","setThemeColor","write","ColorPickerInput","renderColorPickerInput","targetID","suffixID","fontNode","fontColorPicker","fontColorDropDown","backNode","backgroundColorPicker","backgroundColorDropDown","defaultColorPicker","destroyColorPicker","colorPickerObj","font","fontBorder","backgroundBorder","XhtmlValidation","enableXhtmlValidation","enableXhtml","clean","AddRootElement","ImageTags","removeTags","RemoveUnsupported","selfEncloseValidation","valueLength","arrayValue","valueTemp","valueDupe","valueOriginal","imgRegexp","imgNodes","RemoveElementNode","rmvNode","parentArray","rmvArray","underlineEle","strongEle","boldEle","RemoveAttributeByName","attrName","hasChildNodes","childEle","HtmlEditor","rangeCollection","isImageDelete","xhtmlValidation","sanitizeHelper","nodeSelectionObj","colorPickerModule","instantiateRenderer","onToolbarClick","selectAll","getSelectedHtml","onSelectionSave","onSelectionRestore","updateReadOnly","onPaste","restrictKeys","currentRange","backSpaceCleanup","deleteCleanup","enableTabKey","textCont","spaceLink","currentRange_1","editorValue","orderedList_1","unOrderedList","isUnOrderedList","oldRangeElement","deleteRangeElement","deleteOldRangeElement","ulListStartRegex","isLiElement","getRootBlockNode","getRangeLiNode","normalize","getRangeElement","getCaretIndex","preCaretRange","rangeBlockNode","rangeLiNode","isWordPaste","httpRegex","wwwRegex","enterSplitText","contentInnerElem","contentWithSpace","spaceBetweenContent","spaceSplit","divElement","splitTextContent","resultSplitContent","pasteCleanupModule","splitText","urlText","urlTextRange","imageDialog","print","option","formatterClass","toolbarUpdate","BaseQuickToolbar","isDOMElement","popupRenderer","Popup","dropDownButtons","appendPopupContent","popupType","popupId","stringItems","toolbarItems","createToolbar","setPosition","imgWrapper","targetOffsetTop","parentOffsetTop","parentData","editTop","tBarElementHeight","editHeight","popWidth","viewPort","contentTop","windowY","posY","windowHeight","windowWidth","bodyRightSpace","beforeQuickToolbarArgs","editPanelTop","editPanelHeight","bodyRight","paddingRight","innerWidth","toolbarAvail","getToolbar","expTBHeight","tBarHeight","cntEle","enableToolbarItem","showPopupData","outerWidth","viewSourcePanel","sourceCodeModule","getViewPanel","removeEleFromDOM","removeQTBarItem","PopupRenderer","quickToolbarOpen","popupPanel","QuickToolbar","formattedItems","getQTBarOptions","popType","renderType","qTBar","initializeQuickToolbars","onSelection","selectionChangeHandler","onMouseDown","isRTE","keyUpQT","hideQuickToolbars","renderQuickToolbars","textQTBar","LinkToolbar","TextToolbar","TableToolbar","renderInlineQuickToolbar","InlineToolbar","showInlineQTBar","hideInlineQTBar","deBounce","deBouncer","mouseUpHandler","touchData","prevClientX","prevClientY","inlineQTBarMouseDownHandler","onSelectionChange","getInlineBaseToolbar","wireInlineQTBarEvents","unWireInlineQTBarEvents","toolbarUpdated","actionOnScroll","baseQTObj","baseQuickToolbarObj","provide","richtexteditor","bus","console","scopedSlots","_u","fn","callback","$$v","expression","active","limit","mixins","Colorable","genPickerButton","kebabCase","isArray","PickerButton","date","selectingYear","year","yearIcon","isReversing","computedTransition","genYearIcon","VIcon","dark","getYearBtn","genTitleText","genTitleDate","currentLocale","targetLength","padString","createNativeLocaleFormatter","substrOptions","makeIsoString","dateString","month","pad","intlFormatter","Intl","DateTimeFormat","Localable","Themeable","Function","nextAriaLabel","nextIcon","prevAriaLabel","prevIcon","timeZone","newVal","oldVal","genBtn","ariaLabelId","ariaLabel","calculateChange","VBtn","light","monthChange","genHeader","setTextColor","$slots","themeClasses","createItemTypeNativeListeners","itemTypeSuffix","$listeners","endsWith","createItemTypeListeners","isDateAllowed","allowedFn","directives","Touch","allowedDates","eventColor","scrollable","tableDate","wheelThrottle","displayedMonth","displayedYear","mounted","throttle","wheel","genButtonClasses","isAllowed","isFloating","isSelected","isCurrent","isFirst","isLast","genButtonEvents","mouseEventType","mergeListeners","genButton","isOtherMonth","setColor","setBackgroundColor","genEvents","getEventColors","eventData","arrayize","eventColors","isValidScroll","calculateTableDate","sanitizeType","sanitizeDateString","touch","genTable","touchDirective","from","to","createUTCDate","day","UTC","isFinite","getUTCFullYear","setUTCFullYear","firstWeekOffset","firstDayOfWeek","firstDayOfYear","firstWeekDayInFirstWeek","firstWeekDayOfYear","getUTCDay","dayOfYear","isLeapYear","weeksInYear","weekOffset","weekOffsetNext","daysInYear","weekNumber","localeFirstDayOfYear","week","DatePickerTable","showAdjacentMonths","showWeek","weekdayFormat","weekdayFormatter","weekday","weekDays","genTHead","days","unshift","genTR","weekDaysBeforeFirstDayOfTheMonth","firstDayOfTheMonth","weekDay","getWeekNumber","dayInMonth","genWeekNumber","genTBody","daysInMonth","getDate","prevMonthYear","prevMonth","firstDayFromPreviousMonth","cellsInRow","nextMonthYear","nextMonth","nextMonthDay","cols","fill","tds","_","col","activeItem","$el","genYearItem","formatted","genYearItems","selectedYear","getFullYear","maxYear","minYear","Elevatable","flat","fullWidth","landscape","noTitle","computedTitleColor","defaultTitleColor","isDark","genTitle","genBodyTransition","genBody","convertToUnit","genActions","actions","elevationClasses","VPicker","headerColor","genPickerTitle","genPickerBody","genPickerActionsSlot","genPicker","slot","elevation","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP","Picker","activePicker","dayFormat","headerDateFormat","monthFormat","nextMonthAriaLabel","nextYearAriaLabel","pickerDate","prevMonthAriaLabel","prevYearAriaLabel","reactive","showCurrent","selectedItemsText","titleDateFormat","yearFormat","now","internalActivePicker","inputDay","inputMonth","inputYear","multipleValue","getMonth","isMultiple","lastValue","selectedMonths","inputDate","tableMonth","tableYear","minMonth","maxMonth","formatters","titleDate","defaultTitleMultipleDateFormatter","defaultTitleDateFormatter","dates","titleFormats","titleDateFormatter","landscapeFormatter","nonDigit","digit","newValue","oldValue","checkMultipleProp","setInputDate","output","emitInput","newInput","valueType","consoleWarn","yearClick","monthClick","dateClick","VDatePickerTitle","genTableHeader","VDatePickerHeader","genDateTable","VDatePickerDateTable","genMonthTable","VDatePickerMonthTable","genYears","VDatePickerYears","VDatePicker","VMenu","removeBasePathFromImage","DeleteFile","VFileInput","ripple","genRipple","center","prevent","VInput","Rippleable","Comparable","falseValue","trueValue","hasColor","computedColor","isActive","appIsDark","some","valueComparator","rippleState","validationState","genLabel","assign","computedId","onBlur","onChange","onFocus","keydown","onKeydown","onClick","isInteractive","validate","Selectable","inset","hasError","shouldValidate","hasSuccess","switchData","genDefaultSlot","genSwitch","attrs$","switchAttrs","onSwipeLeft","onSwipeRight","genProgress","VFabTransition","progress","VProgressCircular","keyCodes","VSwitch","valueKey","log","VSelect","cache","m","defaultMenuProps","VSelectMenuProps","offsetOverflow","allowOverflow","autoSelectFirst","queryText","itemText","hideNoData","menuProps","noFilter","searchInput","lazySearch","selectedIndex","computedItems","filteredItems","selectedValues","selectedItems","hasDisplayedItems","hideSelected","hasItem","selectedItem","isSearching","internalSearch","allItems","getPropertyFromItem","isAnyValueAllowed","searchIsDirty","menuCanShow","$_menuProps","contentClass","find","listData","virtualizedItems","onCopy","updateSelf","isMenuActive","hasSlot","activateMenu","setSearch","destroyed","onFilteredItemsChanged","preSelectedItem","menu","listIndex","setMenuIndex","findIndex","$nextTick","getTiles","onInternalSearchChanged","updateMenuDimensions","updateDimensions","changeSelectedIndex","backspace","deleteCurrentItem","curIndex","curItem","getDisabled","lastIndex","nextItem","selectItem","mergeData","getObjectValueByPath","genInputSlot","isAppendInner","badInput","validity","onSpaceDown","onTabDown","onUpDown","setSelectedItems","currentItem","currentItemText","setData","VAutocomplete","delimiters","returnObject","editingIndex","delimiter","updateTags","genChipSelection","chip","componentOptions","listeners","dblclick","onChipInput","onEnterDown","getMenuIndex","updateEditing","updateCombobox","isUsingSlot","menuIndex","itemToSelect","pastedItemText","_event$clipboardData","findExistingIndex","VCombobox","dateInput","generateInputHtml","DateInputComponent","dateFromInput","dateToInput","contentInput","RichInputComponent","breifInput","skillsInput","TextInputComponent","levelInput","valueInput","imgInput","FileInputComponent","isImg","imgInput2","fundInput","titleInput","videoInput","linkInput","websiteInput","instagramInput","twitterInput","categoryInput","ComboInputComponent","cityInput","eventsCategoryInput","videosCategoryInput","projectsCategoryInput","postsCategoryInput","statusInput","SelectInputComponent","roleInput","serviceInput","newRoleInput","featuredInput","SwitchInputComponent","activeInput","activeFilterInput","i18n","articlesStatusInput","projectStatusInput","nameArInput","nameArInput2","nameInput","userNameInput","nameFilterInput","serialInput","priceInput","viewsCounterInput","priceFromInput","priceToInput","emailInput","email","emailFilterInput","passwordInput","phoneInput","iconInput","convertToRequred","req"],"mappings":"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","file":"js/chunk-4e1740e2.41282c18.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar $repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = toString(requireObjectCoercible($this));\n    var intMaxLength = toLength(maxLength);\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : toString(fillString);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringSlice(stringFiller, 0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","// Styles\nimport './VFileInput.sass'\n\n// Extensions\nimport VTextField from '../VTextField'\n\n// Components\nimport { VChip } from '../VChip'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n// Utilities\nimport { deepEqual, humanReadableFileSize, wrapInArray } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport { mergeStyles } from '../../util/mergeData'\n\nexport default VTextField.extend({\n  name: 'v-file-input',\n\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n\n  props: {\n    chips: Boolean,\n    clearable: {\n      type: Boolean,\n      default: true,\n    },\n    counterSizeString: {\n      type: String,\n      default: '$vuetify.fileInput.counterSize',\n    },\n    counterString: {\n      type: String,\n      default: '$vuetify.fileInput.counter',\n    },\n    hideInput: Boolean,\n    multiple: Boolean,\n    placeholder: String,\n    prependIcon: {\n      type: String,\n      default: '$file',\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    showSize: {\n      type: [Boolean, Number],\n      default: false,\n      validator: (v: boolean | number) => {\n        return (\n          typeof v === 'boolean' ||\n          [1000, 1024].includes(v)\n        )\n      },\n    } as PropValidator<boolean | 1000 | 1024>,\n    smallChips: Boolean,\n    truncateLength: {\n      type: [Number, String],\n      default: 22,\n    },\n    type: {\n      type: String,\n      default: 'file',\n    },\n    value: {\n      default: undefined,\n      validator: val => {\n        return wrapInArray(val).every(v => v != null && typeof v === 'object')\n      },\n    } as PropValidator<File | File[]>,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-file-input': true,\n      }\n    },\n    computedCounterValue (): string {\n      const fileCount = (this.multiple && this.lazyValue)\n        ? this.lazyValue.length\n        : (this.lazyValue instanceof File) ? 1 : 0\n\n      if (!this.showSize) return this.$vuetify.lang.t(this.counterString, fileCount)\n\n      const bytes = this.internalArrayValue.reduce((bytes: number, { size = 0 }: File) => {\n        return bytes + size\n      }, 0)\n\n      return this.$vuetify.lang.t(\n        this.counterSizeString,\n        fileCount,\n        humanReadableFileSize(bytes, this.base === 1024)\n      )\n    },\n    internalArrayValue (): File[] {\n      return wrapInArray(this.internalValue)\n    },\n    internalValue: {\n      get (): File[] {\n        return this.lazyValue\n      },\n      set (val: File | File[]) {\n        this.lazyValue = val\n        this.$emit('change', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.internalArrayValue.length > 0\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    text (): string[] {\n      if (!this.isDirty && (this.persistentPlaceholder || this.isFocused || !this.hasLabel)) return [this.placeholder]\n\n      return this.internalArrayValue.map((file: File) => {\n        const {\n          name = '',\n          size = 0,\n        } = file\n\n        const truncatedText = this.truncateText(name)\n\n        return !this.showSize\n          ? truncatedText\n          : `${truncatedText} (${humanReadableFileSize(size, this.base === 1024)})`\n      })\n    },\n    base (): 1000 | 1024 | undefined {\n      return typeof this.showSize !== 'boolean' ? this.showSize : undefined\n    },\n    hasChips (): boolean {\n      return this.chips || this.smallChips\n    },\n  },\n\n  watch: {\n    readonly: {\n      handler (v) {\n        if (v === true) consoleError('readonly is not supported on <v-file-input>', this)\n      },\n      immediate: true,\n    },\n    value (v) {\n      const value = this.multiple ? v : v ? [v] : []\n      if (!deepEqual(value, this.$refs.input.files)) {\n        // When the input value is changed programatically, clear the\n        // internal input's value so that the `onInput` handler\n        // can be triggered again if the user re-selects the exact\n        // same file(s). Ideally, `input.files` should be\n        // manipulated directly but that property is readonly.\n        this.$refs.input.value = ''\n      }\n    },\n  },\n\n  methods: {\n    clearableCallback () {\n      this.internalValue = this.multiple ? [] : null\n      this.$refs.input.value = ''\n    },\n    genChips () {\n      if (!this.isDirty) return []\n\n      return this.text.map((text, index) => this.$createElement(VChip, {\n        props: { small: this.smallChips },\n        on: {\n          'click:close': () => {\n            const internalValue = this.internalValue\n            internalValue.splice(index, 1)\n            this.internalValue = internalValue // Trigger the watcher\n          },\n        },\n      }, [text]))\n    },\n    genControl () {\n      const render = VTextField.options.methods.genControl.call(this)\n\n      if (this.hideInput) {\n        render.data!.style = mergeStyles(\n          render.data!.style,\n          { display: 'none' }\n        )\n      }\n\n      return render\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data!.attrs!.multiple = this.multiple\n\n      // We should not be setting value\n      // programmatically on the input\n      // when it is using type=\"file\"\n      delete input.data!.domProps!.value\n\n      // This solves an issue in Safari where\n      // nothing happens when adding a file\n      // do to the input event not firing\n      // https://github.com/vuetifyjs/vuetify/issues/7941\n      delete input.data!.on!.input\n      input.data!.on!.change = this.onInput\n\n      return [this.genSelections(), input]\n    },\n    genPrependSlot () {\n      if (!this.prependIcon) return null\n\n      const icon = this.genIcon('prepend', () => {\n        this.$refs.input.click()\n      })\n\n      return this.genSlot('prepend', 'outer', [icon])\n    },\n    genSelectionText (): string[] {\n      const length = this.text.length\n\n      if (length < 2) return this.text\n      if (this.showSize && !this.counter) return [this.computedCounterValue]\n      return [this.$vuetify.lang.t(this.counterString, length)]\n    },\n    genSelections () {\n      const children = []\n\n      if (this.isDirty && this.$scopedSlots.selection) {\n        this.internalArrayValue.forEach((file: File, index: number) => {\n          if (!this.$scopedSlots.selection) return\n\n          children.push(\n            this.$scopedSlots.selection({\n              text: this.text[index],\n              file,\n              index,\n            })\n          )\n        })\n      } else {\n        children.push(this.hasChips && this.isDirty ? this.genChips() : this.genSelectionText())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-file-input__text',\n        class: {\n          'v-file-input__text--placeholder': this.placeholder && !this.isDirty,\n          'v-file-input__text--chips': this.hasChips && !this.$scopedSlots.selection,\n        },\n      }, children)\n    },\n    genTextFieldSlot () {\n      const node = VTextField.options.methods.genTextFieldSlot.call(this)\n\n      node.data!.on = {\n        ...(node.data!.on || {}),\n        click: () => this.$refs.input.click(),\n      }\n\n      return node\n    },\n    onInput (e: Event) {\n      const files = [...(e.target as HTMLInputElement).files || []]\n\n      this.internalValue = this.multiple ? files : files[0]\n\n      // Set initialValue here otherwise isFocused\n      // watcher in VTextField will emit a change\n      // event whenever the component is blurred\n      this.initialValue = this.internalValue\n    },\n    onKeyDown (e: KeyboardEvent) {\n      this.$emit('keydown', e)\n    },\n    truncateText (str: string) {\n      if (str.length < Number(this.truncateLength)) return str\n      const charsKeepOneSide = Math.floor((Number(this.truncateLength) - 1) / 2)\n      return `${str.slice(0, charsKeepOneSide)}…${str.slice(str.length - charsKeepOneSide)}`\n    },\n  },\n})\n","import VTextField from './VTextField'\n\nexport { VTextField }\nexport default VTextField\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.es/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","import { serializeQuery } from '@/utils/helpers';\nimport { FormInterface, InputInterface, SelectInputInterface } from '../interface';\nimport Api from '@/utils/axios/Api';\n\nconst Http = Api.getInstance();\nexport default class Input {\n    field: InputInterface\n    loading: boolean = false\n    constructor(field: InputInterface) {\n        this.field = field\n        this._init()\n    }\n\n    // this function responsible for creating object of all inputs with key value to use it in submit or whatever\n    // and if the input is select or combobox and needs to get the items from the server we get this from here too\n    private _init() {\n        if (this.field.type == 'select' || this.field.type == 'combo') {\n            const select = this.field as SelectInputInterface\n            // check if the items is not initialized to set it to an empty array to avoid errors\n            if (typeof select.items == 'undefined') {\n                select.items = []\n            }\n            // initialFetch is simple flag to indicate that this input needs to load its data from the server\n            if (select.initialFetch) this.getInputItems()\n        }\n    }\n\n\n    // this function loads the data from the server to set select or combo items\n    public getInputItems() {\n        const field = this.field as  SelectInputInterface\n        let url = `${field.url}`\n        if (typeof field.payload != 'undefined') url += `?${serializeQuery(field.payload)}`\n        return new Promise(() => {\n            this.loading = true\n            Http.get<any[]>(url)\n                .then((res:any) => {\n                    field.items = res as unknown as any[]\n                })\n        })\n    }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.es/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-text-field',{attrs:{\"label\":_vm.$t(_vm.input.label),\"type\":_vm.input.type,\"prepend-icon\":_vm.input.icon,\"clearable\":!_vm.input.required,\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"rules\":_vm.input.rules ? _vm.input.rules : [],\"value\":_vm.initial,\"hint\":_vm.input.hint,\"outlined\":\"\"},on:{\"input\":_vm.change}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Api from '@/utils/axios/Api';\nimport { serializeQuery } from \"@/utils/helpers\";\nconst Http = Api.getInstance();\nexport default Vue.extend({\n  data(){\n    return{\n      loading:false,\n      model:null as Object | null\n    }\n  },\n  props: {\n    input: Object,\n  },\n  methods:{\n      change(val:any){\n        const value = typeof val == 'undefined' || val == null ? null :val[this.input.valueKey]\n        this.$emit('input' , value)\n      },\n       getData(){\n        this.loading = true\n        Http.get(`${this.input.url}?${serializeQuery(this.input.payload)}`)\n        .then((d) => {\n          this.loading = false\n          this.input.items = d\n          let m = this.input.items.filter((item:any)=>{\n            console.log(item[`${this.input.valueKey}`])\n            return item[`${this.input.valueKey}`] == this.input.value\n          })[0]\n         this.model = m\n        })\n      }\n  },\n  created(){\n    if (this.input.initialFetch) this.getData()\n  }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Text.vue?vue&type=template&id=59420106&\"\nimport script from \"./Text.vue?vue&type=script&lang=ts&\"\nexport * from \"./Text.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /Version\\/10(?:\\.\\d+){1,2}(?: [\\w./]+)?(?: Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticClass:\"mb-8\"},[_vm._v(_vm._s(_vm.$t(_vm.input.label)))]),_c('ejs-richtexteditor',{ref:\"defaultRTE\",attrs:{\"height\":400},on:{\"change\":_vm.change}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.initial)}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightAttributes = { 'role': 'button', 'id': id.concat('_right'), 'aria-label': 'Scroll right' };\n        var nav = this.createElement('div', { className: clsRight, attrs: rightAttributes });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var leftAttributes = { 'role': 'button', 'id': id.concat('_left'), 'aria-label': 'Scroll left' };\n        var navEle = this.createElement('div', { className: clsLeft + ' ' + CLS_DISABLE, attrs: leftAttributes });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else if (addDisable && removeDisable) {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @class */ (function (_super) {\n    __extends(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = buildTag('div', { className: CLS_VSCROLLCON });\n        var scrollBar = buildTag('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflow = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = buildTag('div', { id: id.concat('down'), className: clsDown });\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = buildTag('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = buildTag('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = buildTag('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var classList = trgt.classList;\n        if (classList.contains(CLS_VSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (classList.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\nexport { VScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle, select } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNOU(el) && !isNOU(el.ej2_instances) && !isNOU(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.tbarItemsCol = [];\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNOU(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyle(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            if (this.cssClass) {\n                addClass([innerItems[0]], this.cssClass.split(' '));\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            if (this.cssClass) {\n                addClass([ele], this.cssClass.split(' '));\n            }\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyle(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyle(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            if (keyVal === 'class') {\n                this.add(element, attr[keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNOU(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNOU(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE);\n            }\n            else {\n                addClass(elements, CLS_DISABLE);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNOU(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                if (item.template) {\n                    this.tbarEle.splice(this.tbarEle.length - 1, 1);\n                }\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNOU(btnItem) && !isNOU(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            var regEx = new RegExp(/<(?=.*? .*?\\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\\/\\1>/i);\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (typeof (templateProp) === 'string' && regEx.test(val)) {\n                    innerEle.innerHTML = val;\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n                else {\n                    templateFn = templateCompiler(val);\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNOU(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNOU(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL);\n                    }\n                    if (!isNOU(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL);\n                        }\n                    }\n                    if (!isNOU(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n            }\n            if (value && isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNOU(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNOU(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property, addClass, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @param {Object} props - Specifies the properties\n * @param {string[]} model - Specifies the model\n * @returns {Object} Component Model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\n/** @hidden\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {number} keyCode - Specifies the keycode\n * @returns {void}\n */\nexport function upDownKeyHandler(ul, keyCode) {\n    var defaultIdx = keyCode === 40 ? 0 : ul.childElementCount - 1;\n    var liIdx = defaultIdx;\n    var li;\n    var selectedLi = ul.querySelector('.e-selected');\n    if (selectedLi) {\n        selectedLi.classList.remove('e-selected');\n    }\n    for (var i = 0, len = ul.children.length; i < len; i++) {\n        if (ul.children[i].classList.contains('e-focused')) {\n            li = ul.children[i];\n            liIdx = i;\n            li.classList.remove('e-focused');\n            if (keyCode === 40) {\n                liIdx++;\n            }\n            else {\n                liIdx--;\n            }\n            if (liIdx === (keyCode === 40 ? ul.childElementCount : -1)) {\n                liIdx = defaultIdx;\n            }\n        }\n    }\n    li = ul.children[liIdx];\n    liIdx = isValidLI(ul, li, liIdx, keyCode);\n    if (liIdx !== -1) {\n        addClass([ul.children[liIdx]], 'e-focused');\n        ul.children[liIdx].focus();\n    }\n}\n/**\n * Get Valid LI element\n *\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {Element} li - Specifies the LI element\n * @param {number} index - Specifies the index\n * @param {number} keyCode - Specifies the keycode\n * @param {number} count - Specifies the count\n * @returns {number} - Index\n */\nfunction isValidLI(ul, li, index, keyCode, count) {\n    if (count === void 0) { count = 0; }\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        if (index === (keyCode === 40 ? ul.childElementCount - 1 : 0)) {\n            index = keyCode === 40 ? 0 : ul.childElementCount - 1;\n        }\n        else {\n            if (keyCode === 40) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n    }\n    li = ul.children[index];\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        count++;\n        if (count === ul.childElementCount) {\n            return index = -1;\n        }\n        index = isValidLI(ul, li, index, keyCode, count);\n    }\n    return index;\n}\n/** @hidden\n * @param {HTMLElement} popup - Specifies the popup element.\n * @returns {void}\n */\nexport function setBlankIconStyle(popup) {\n    var blankIconList = [].slice.call(popup.getElementsByClassName('e-blank-icon'));\n    if (!blankIconList.length) {\n        return;\n    }\n    var iconLi = popup.querySelector('.e-item:not(.e-blank-icon):not(.e-separator)');\n    if (isNullOrUndefined(iconLi)) {\n        return;\n    }\n    if (iconLi.classList.contains('e-url')) {\n        iconLi = iconLi.querySelector('.e-menu-url');\n    }\n    var icon = iconLi.querySelector('.e-menu-icon');\n    var cssProp;\n    var enableRtl = popup.classList.contains('e-rtl');\n    if (enableRtl) {\n        cssProp = { padding: 'paddingRight', margin: 'marginLeft' };\n    }\n    else {\n        cssProp = { padding: 'paddingLeft', margin: 'marginRight' };\n    }\n    /* eslint-disable */\n    var size = parseInt(getComputedStyle(icon).fontSize, 10) + parseInt((enableRtl ? getComputedStyle(icon)[cssProp.margin] : getComputedStyle(icon)[cssProp.margin]), 10)\n        + parseInt(getComputedStyle(iconLi).paddingLeft, 10) + \"px\";\n    blankIconList.forEach(function (li) {\n        if (li.classList.contains('e-url')) {\n            li.querySelector('.e-menu-url').style[cssProp.padding] = size;\n        }\n        else {\n            li.style[cssProp.padding] = size;\n        }\n    });\n    /* eslint-enable */\n}\n/**\n * Defines the items of Split Button/DropDownButton.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","/* eslint-disable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\nimport { createElement, attributes, addClass, removeClass, detach, classList } from '@syncfusion/ej2-base';\nimport { closest, formatUnit, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    var isBindClearAction = true;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     *\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        isBindClearAction = args.bindClearAction;\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) &&\n            args.properties.showClearButton && args.element.tagName !== 'TEXTAREA') {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons) && args.element.tagName !== 'TEXTAREA') {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!isNullOrUndefined(args.element) && args.element.tagName === 'TEXTAREA') {\n            addClass([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        validateInputType(inputObject.container, args.element);\n        inputObject = setPropertyValue(args, inputObject);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        args.element.addEventListener('input', function () {\n            checkInputValue(floatType, args.element);\n        });\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        if (inputValue !== '' && !isNullOrUndefined(inputValue) && inputElement.parentElement) {\n            inputElement.parentElement.classList.add('e-valid-input');\n        }\n        else if (floatLabelType !== 'Always' && inputElement.parentElement) {\n            inputElement.parentElement.classList.remove('e-valid-input');\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(label)) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!isNullOrUndefined(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            if (args.element.parentNode) {\n                args.element.parentNode.insertBefore(inputObject.container, args.element);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        var floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        var floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement, args.element);\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button, readonly) {\n        if (value && !readonly) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label, element) {\n        if (element === void 0) { element = null; }\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            var isNotFocused = element != null ? element !== document.activeElement : true;\n            if (isNotFocused) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = isNullOrUndefined(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function wireClearBtnEvents(element, button, container) {\n        if (isBindClearAction == undefined || isBindClearAction) {\n            button.addEventListener('click', function (event) {\n                if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                    event.preventDefault();\n                    if (element !== document.activeElement) {\n                        element.focus();\n                    }\n                    element.value = '';\n                    addClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button, element.readOnly);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }, 200);\n        });\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label, element);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     *\n     * @param {string} value - Specify the value of the input element.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the specified value is updated.\n     * @param {string} floatLabelType - Specify the float label type of the input element.\n     * @param {boolean} clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!isNullOrUndefined(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (!isNullOrUndefined(button)) {\n                    if (element.value && parentElement.classList.contains('e-input-focus')) {\n                        removeClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                    else {\n                        addClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     *\n     * @param {string} cssClass - Css class names which are needed to add.\n     * @param {Element[] | NodeList} elements - The elements which are needed to add / remove classes.\n     * @param {string} oldClass\n     * - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     *\n     * @param {number | string} width - Width value which is need to add.\n     * @param {HTMLElement} container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n        }\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     *\n     * @param {string} placeholder - Placeholder value which is need to add.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        placeholder = encodePlaceHolder(placeholder);\n        var parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     *\n     * @param {boolean} isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     *\n     * @param {boolean} isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param {Element[] | NodeList} elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     *\n     * @param {boolean} isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            remove(inputObject.clearButton);\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which are need to removed from the element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which is added to element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type,\n                customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n                if (isNullOrUndefined(iconEle)) {\n                    container.classList.remove(CLASSNAMES.INPUTGROUP);\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     *\n     * @param {boolean} isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param {InputObject[]} inputObj\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        setTimeout(function () {\n            ele.classList.remove('e-input-btn-ripple');\n        }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param {string | string[]} icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} input - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function addIcon(position, icons, container, input, internalCreate) {\n        /* eslint-enable @typescript-eslint/indent */\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} inputElement - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        /* eslint-enable @typescript-eslint/indent */\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if (isNullOrUndefined(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                innerWrapper.appendChild(result[i]);\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n    function validateInputType(containerElement, input) {\n        if (input.type === 'hidden') {\n            containerElement.classList.add('e-hidden');\n        }\n        else if (containerElement.classList.contains('e-hidden')) {\n            containerElement.classList.remove('e-hidden');\n        }\n    }\n    Input.validateInputType = validateInputType;\n})(Input || (Input = {}));\n/* eslint-enable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect, getComponent } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { upDownKeyHandler } from './../common/common';\nimport { getModel, Item, setBlankIconStyle } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ```html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {DropDownButtonModel} options - Specifies dropdown button model\n     * @param  {string|HTMLButtonElement} element - Specifies element\n     * @hidden\n     */\n    function DropDownButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPopupCreated = true;\n        return _this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @returns {void}\n     */\n    DropDownButton.prototype.toggle = function () {\n        if (this.canOpen()) {\n            this.openPopUp();\n        }\n        else {\n            this.closePopup();\n        }\n    };\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.addItems = function (items, text) {\n        var newItem;\n        var idx = this.items.length;\n        for (var j = 0, len = this.items.length; j < len; j++) {\n            if (text === this.items[j].text) {\n                idx = j;\n                break;\n            }\n        }\n        for (var i = items.length - 1; i >= 0; i--) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            newItem = new Item(this, 'items', items[i], true);\n            this.items.splice(idx, 0, newItem);\n        }\n        if (!this.canOpen()) {\n            this.createItems();\n        }\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.removeItems = function (items, isUniqueId) {\n        var refresh = false;\n        for (var i = 0, len = items.length; i < len; i++) {\n            for (var j = 0, len_1 = this.items.length; j < len_1; j++) {\n                if (items[i] === (isUniqueId ? this.items[j].id : this.items[j].text)) {\n                    this.items.splice(j, 1);\n                    refresh = true;\n                    break;\n                }\n            }\n        }\n        if (refresh && this.getULElement()) {\n            this.createItems();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var _a;\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a['aria-label'] = this.element.textContent ? this.element.textContent : 'dropdownbutton',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        this.isPopupCreated = true;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (appendItems) {\n        var items = this.items;\n        var showIcon = this.hasIcon(this.items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.getULElement();\n        if (ul) {\n            ul.innerHTML = '';\n        }\n        else {\n            ul = this.createElement('ul', {\n                attrs: { 'role': 'menu', 'tabindex': '0' }\n            });\n        }\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            var tempItem = item.text;\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : tempItem,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1', 'aria-label': tempItem },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (this.enableHtmlSanitizer) {\n                li.textContent = item.url ? '' : tempItem;\n            }\n            else {\n                li.innerHTML = item.url ? '' : tempItem;\n            }\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n                li.classList.add('e-url');\n            }\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                if (item.url) {\n                    li.childNodes[0].appendChild(span);\n                }\n                else {\n                    li.insertBefore(span, li.childNodes[0]);\n                }\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.disabled) {\n                li.classList.add('e-disabled');\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        if (appendItems) {\n            this.getPopUpElement().appendChild(ul);\n        }\n        if (showIcon) {\n            setBlankIconStyle(this.getPopUpElement());\n        }\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        var tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: tempItem, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.setActiveElem([this.element]);\n        if ((this.target && !this.isColorPicker()) || !this.createPopupOnClick) {\n            this.createPopup();\n        }\n        else {\n            this.isPopupCreated = false;\n        }\n    };\n    DropDownButton.prototype.isColorPicker = function () {\n        if (!this.element) {\n            return false;\n        }\n        var prevElem = this.element.previousSibling;\n        if (prevElem && prevElem.classList && prevElem.classList.contains('e-split-colorpicker')) {\n            return true;\n        }\n        return false;\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        var val = false;\n        if (this.isPopupCreated) {\n            val = this.getPopUpElement().classList.contains('e-popup-close');\n        }\n        return val;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'dropdown-btn') {\n            var classList_1;\n            if (this.element.querySelector('span.e-caret')) {\n                detach(this.element.querySelector('span.e-caret'));\n            }\n            if (this.cssClass) {\n                classList_1 = this.cssClass.split(' ');\n            }\n            this.button.destroy();\n            if (classList_1) {\n                removeClass([this.element], classList_1);\n            }\n            removeClass(this.activeElem, ['e-active']);\n            var attrList = this.element.getAttribute('class') ? ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type']\n                : ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type', 'class'];\n            attrList.forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n            this.popupUnWireEvents();\n            this.destroyPopup();\n            this.isPopupCreated = false;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n        }\n    };\n    DropDownButton.prototype.destroyPopup = function () {\n        if (this.isPopupCreated) {\n            this.dropDown.destroy();\n            if (this.getPopUpElement()) {\n                var popupEle = document.getElementById(this.getPopUpElement().id);\n                if (popupEle) {\n                    removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n                    detach(popupEle);\n                }\n            }\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n            if (this.isPopupCreated) {\n                this.dropDown = undefined;\n            }\n        }\n        this.isPopupCreated = false;\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        var val = null;\n        if (this.dropDown) {\n            val = this.dropDown.element;\n        }\n        return val;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        var val = null;\n        if (this.getPopUpElement()) {\n            val = this.getPopUpElement().children[0];\n        }\n        return val;\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        if (!this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n    };\n    DropDownButton.prototype.popupWireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        if (popupElement) {\n            EventHandler.add(popupElement, 'click', this.clickHandler, this);\n            EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        }\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.popupUnWireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        if (popupElement && popupElement.parentElement) {\n            EventHandler.remove(popupElement, 'click', this.clickHandler);\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n    };\n    /**\n     * Handles the keyboard interactions.\n     *\n     * @param {KeyboardEventArgs} e - Specifies keyboard event args.\n     * @returns {void}\n     * @hidden\n     */\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        upDownKeyHandler(this.getULElement(), e.keyCode);\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.target && e.target.className.indexOf('e-edit-template') > -1 && e.keyCode === 32) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (this.dropDown && !this.canOpen() && !(closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')\n            || closest(trgt, '[id=\"' + this.element.id + '\"]'))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        if (closest(trgt, '[id=\"' + this.element.id + '\"]')) {\n            if (!this.createPopupOnClick || (this.target && !this.isColorPicker())) {\n                if (this.getPopUpElement().classList.contains('e-popup-close')) {\n                    this.openPopUp(e);\n                }\n                else {\n                    this.closePopup(e);\n                }\n            }\n            else if (this.isPopupCreated) {\n                this.closePopup(e, this.activeElem[0]);\n            }\n            else {\n                this.createPopup();\n                this.openPopUp(e);\n            }\n        }\n        else {\n            if (closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        var isReact = false;\n        var popupElem = this.getPopUpElement();\n        if (!this.target) {\n            this.createItems(true);\n        }\n        else {\n            if (this.activeElem.length > 1) {\n                var splitButton = getComponent(this.activeElem[0], 'split-btn');\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (splitButton.isReact && popupElem.childNodes.length < 1) {\n                    isReact = true;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    splitButton.appendReactElement(this.getTargetElement(), this.getPopUpElement());\n                    this.renderReactTemplates();\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (this.isReact && popupElem.childNodes.length < 1) {\n                    isReact = true;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.appendReactElement(this.getTargetElement(), this.getPopUpElement());\n                    this.renderReactTemplates();\n                }\n            }\n        }\n        var ul = this.getULElement();\n        this.popupWireEvents();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var ul_1 = _this.getULElement();\n                _this.dropDown.show(null, _this.element);\n                addClass([_this.element], 'e-active');\n                _this.element.setAttribute('aria-expanded', 'true');\n                ul_1.focus();\n                var openArgs = { element: ul_1, items: _this.items };\n                _this.trigger('open', openArgs);\n            }\n        });\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        var popupElement = this.getPopUpElement();\n        if (popupElement) {\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n        this.trigger('beforeClose', beforeCloseArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.popupUnWireEvents();\n                var ul_2 = _this.getULElement();\n                var selectedLi = ul_2.querySelector('.e-selected');\n                if (selectedLi) {\n                    selectedLi.classList.remove('e-selected');\n                }\n                _this.dropDown.hide();\n                removeClass(_this.activeElem, 'e-active');\n                _this.element.setAttribute('aria-expanded', 'false');\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                var closeArgs = { element: ul_2, items: _this.items };\n                _this.trigger('close', closeArgs);\n                if (!_this.target && ul_2) {\n                    detach(ul_2);\n                }\n                if (!_this.target || _this.isColorPicker()) {\n                    if (_this.createPopupOnClick) {\n                        _this.destroyPopup();\n                    }\n                }\n                if (_this.target) {\n                    _this.isPopupCreated = _this.createPopupOnClick ? false : true;\n                }\n            }\n        });\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        if (!this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        if (this.isPopupCreated) {\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {DropDownButtonModel} newProp - Specifies new properties\n     * @param  {DropDownButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement;\n        if (this.isPopupCreated) {\n            popupElement = this.getPopUpElement();\n            this.dropDown.setProperties(getModel(newProp, ['enableRtl']));\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (this.isPopupCreated && !this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (this.isPopupCreated) {\n                        if (oldProp.cssClass) {\n                            removeClass([popupElement], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([popupElement], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'target':\n                    this.dropDown.content = this.getTargetElement();\n                    this.dropDown.dataBind();\n                    break;\n                case 'items':\n                    if (this.isPopupCreated && this.getULElement()) {\n                        this.createItems();\n                    }\n                    break;\n                case 'createPopupOnClick':\n                    if (newProp.createPopupOnClick) {\n                        this.destroyPopup();\n                    }\n                    else {\n                        this.createPopup();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to DropDownButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    DropDownButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"created\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {SplitButtonModel} options - Specifies the splitbutton model\n     * @param  {string|HTMLButtonElement} element - Specifies the element\n     * @hidden\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     *\n     * @private\n     * @returns {void}\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the Component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.renderControl();\n    };\n    SplitButton.prototype.renderControl = function () {\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    SplitButton.prototype.addItems = function (items, text) {\n        _super.prototype.addItems.call(this, items, text);\n        this.secondaryBtnObj.items = this.items;\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    SplitButton.prototype.removeItems = function (items, isUniqueId) {\n        _super.prototype.removeItems.call(this, items, isUniqueId);\n        this.secondaryBtnObj.items = this.items;\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            createPopupOnClick: this.createPopupOnClick\n        };\n        dropDownBtnModel.beforeItemRender = function (args) {\n            if (_this.createPopupOnClick) {\n                _this.secondaryBtnObj.dropDown.relateTo = _this.wrapper;\n                _this.dropDown = _this.secondaryBtnObj.dropDown;\n            }\n            _this.trigger('beforeItemRender', args);\n        };\n        dropDownBtnModel.open = function (args) {\n            _this.trigger('open', args);\n        };\n        dropDownBtnModel.close = function (args) {\n            _this.trigger('close', args);\n        };\n        dropDownBtnModel.select = function (args) {\n            _this.trigger('select', args);\n        };\n        dropDownBtnModel.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        dropDownBtnModel.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeClose', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        if (!this.createPopupOnClick) {\n            this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n            this.dropDown = this.secondaryBtnObj.dropDown;\n        }\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.element.id + '_dropdownbtn-popup'\n        });\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @returns {void}\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        var classList = [RTL];\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        if (this.element) {\n            var element = document.getElementById(this.element.id);\n            if (element && element.parentElement === this.wrapper) {\n                if (this.wrapper.tagName === TAGNAME) {\n                    this.wrapper.innerHTML = '';\n                    removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                    removeClass([this.wrapper], this.cssClass.split(' '));\n                }\n                else {\n                    removeClass([this.element], classList);\n                    ['aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                        _this.element.removeAttribute(key);\n                    });\n                    this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                    remove(this.wrapper);\n                }\n                this.unWireEvents();\n            }\n        }\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        _super.prototype.destroy.call(this);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {SplitButtonModel} newProp - Specifies new properties\n     * @param  {SplitButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl', 'createPopupOnClick'];\n        if (Object.keys(newProp).indexOf('items') > -1) {\n            this.secondaryBtnObj.items = newProp.items;\n            this.secondaryBtnObj.dataBind();\n        }\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to SplitButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    SplitButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"created\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit, select, selectAll } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else if ((tipPosExclude) && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n                    leftValue = (this.tipPointerPosition === 'End') ? ((target.offsetWidth + ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2)) - (tipWidth / 2)) - POINTER_ADJUST + 'px' : ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2) - (tipWidth / 2) + POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                // eslint-disable-next-line\n                var tempFunction = compile(this.content);\n                var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        var nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            append(tempArr, tooltipContent);\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                    this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    PopupAnimation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            PopupAnimation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\nvar NUMERIC_FOCUS = 'e-input-focus';\nvar HIDDENELEMENT = 'e-numeric-hidden';\nvar wrapperAttributes = ['title', 'style', 'class'];\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    /**\n     *\n     * @param {NumericTextBoxModel} options - Specifies the NumericTextBox model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function NumericTextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isVue = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isDynamicChange = false;\n        _this.numericOptions = options;\n        return _this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        // eslint-disable-next-line no-useless-escape\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\n        this.angularTagName = null;\n        this.formEle = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id' && attributeName !== 'class') {\n                    input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                    input.innerHTML = this.element.innerHTML;\n                }\n                else if (attributeName === 'class') {\n                    input.setAttribute(attributeName, this.element.className.split(' ').filter(function (item) { return item.indexOf('ng-') !== 0; }).join(' '));\n                }\n            }\n            if (this.element.hasAttribute('name')) {\n                this.element.removeAttribute('name');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = {\n            incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: this.placeholder\n        };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('numerictextbox'));\n        }\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.prevValue = this.value;\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if (this.formEle) {\n            this.inputEleValue = this.value;\n        }\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            this.setElementWidth(this.width);\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ?\n                null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n            if (this.element.getAttribute('value') || this.value) {\n                this.element.setAttribute('value', this.element.value);\n                this.hiddenInput.setAttribute('value', this.hiddenInput.value);\n            }\n            this.elementPrevValue = this.element.value;\n            if (this.element.hasAttribute('data-val')) {\n                this.element.setAttribute('data-val', 'false');\n            }\n            this.renderComplete();\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['value'] === undefined)) || isDynamic) {\n                            var setNumber = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['min'] === undefined)) || isDynamic) {\n                            var minValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (minValue !== null && !isNaN(minValue)) {\n                                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['max'] === undefined)) || isDynamic) {\n                            var maxValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (maxValue !== null && !isNaN(maxValue)) {\n                                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'step':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['step'] === undefined)) || isDynamic) {\n                            var stepValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (stepValue !== null && !isNaN(stepValue)) {\n                                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        {\n                            var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                                this.setProperties(setValue(prop, value, {}), true);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\n        }\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        this.updateHTMLAttrToWrapper();\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'text',\n                'validateHidden': 'true', 'class': HIDDENELEMENT } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        this.updateDataAttribute(false);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\n        var attr = {};\n        if (!isDynamic) {\n            for (var a = 0; a < this.element.attributes.length; a++) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        else {\n            attr = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key.indexOf('data') === 0) {\n                this.hiddenInput.setAttribute(key, attr[key]);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\n    };\n    NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\n        var result = numericClassName;\n        if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\n            result = (numericClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\n                        if (updatedClassValue !== '') {\n                            addClass([this.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var numericStyle = this.container.getAttribute(pro);\n                        numericStyle = !isNullOrUndefined(numericStyle) ? (numericStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.container.setAttribute(pro, numericStyle);\n                    }\n                    else {\n                        this.container.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) || this.inputWrapper.container.classList.contains('e-static-clear')) {\n            this.clear(e);\n        }\n        this.isInteract = true;\n        this.raiseChangeEvent(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n        this.hiddenInput.value = '';\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.resetFormHandler = function () {\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.updateValue(null);\n        }\n        else {\n            this.updateValue(this.inputEleValue);\n        }\n    };\n    NumericTextBox.prototype.setSpinButton = function () {\n        if (!isNullOrUndefined(this.spinDown)) {\n            attributes(this.spinDown, {\n                'title': this.l10n.getConstant('decrementTitle'),\n                'aria-label': this.l10n.getConstant('decrementTitle')\n            });\n        }\n        if (!isNullOrUndefined(this.spinUp)) {\n            attributes(this.spinUp, {\n                'title': this.l10n.getConstant('incrementTitle'),\n                'aria-label': this.l10n.getConstant('incrementTitle')\n            });\n        }\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n            if (this.formEle) {\n                EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\n            }\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n        if (this.formEle) {\n            EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\n        }\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        event.stopPropagation();\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteracted: this.isInteract,\n                isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            if (this.changeEventArgs.event === undefined) {\n                this.changeEventArgs.isInteracted = false;\n                this.changeEventArgs.isInteraction = false;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.elementPrevValue = this.element.value;\n            this.preventChange = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                var ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            // eslint-disable-next-line no-self-assign\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                    if (_this.element.value[_this.element.selectionStart - 1] === decimalSeparator && _this.decimals === 0 && _this.validateDecimalOnType) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n        var parseValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\n        this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.inputHandler = function (event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var numerictextboxObj = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n        /* istanbul ignore next */\n        if (this.isAngular\n            && this.element.value !== getValue('decimal', getNumericObject(this.locale))\n            && this.element.value !== getValue('minusSign', getNumericObject(this.locale))) {\n            var parsedValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            parsedValue = isNaN(parsedValue) ? null : parsedValue;\n            numerictextboxObj.localChange({ value: parsedValue });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            var current = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            var previous = this.instance.getNumberParser({ format: 'n' })(this.elementPrevValue);\n            //EJ2-54963-if type \".\" or \".0\" or \"-.0\" it converts to \"0\" automatically when binding v-model\n            var nonZeroRegex = new RegExp('[^1-9]+$');\n            if (nonZeroRegex.test(this.element.value)) {\n                current = this.value;\n            }\n            var eventArgs = {\n                event: event,\n                value: (current === null || isNaN(current) ? null : current),\n                previousValue: (previous === null || isNaN(previous) ? null : previous)\n            };\n            this.preventChange = true;\n            this.elementPrevValue = this.element.value;\n            this.trigger('input', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        /* istanbul ignore next */\n        if (!this.isDynamicChange) {\n            this.raiseChangeEvent(event);\n        }\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = this.getNumberOfDecimals(value);\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = this.value.toString();\n            if (this.value !== null && this.serverDecimalSeparator) {\n                this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\n            }\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.getNumberOfDecimals = function (value) {\n        var numberOfDecimals;\n        // eslint-disable-next-line no-useless-escape\n        var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\n        var valueString = value.toString();\n        if (EXPREGEXP.test(valueString)) {\n            var result = EXPREGEXP.exec(valueString);\n            if (!isNullOrUndefined(result)) {\n                valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\n            }\n        }\n        var decimalPart = valueString.split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return numberOfDecimals;\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals = this.getNumberOfDecimals(this.value);\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return true;\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var decimalSeparator = getValue('decimal', getNumericObject(this.locale));\n        var isAlterNumPadDecimalChar = event.code === \"NumpadDecimal\" && currentChar !== decimalSeparator;\n        //EJ2-59813-replace the culture decimal separator value with numberpad decimal separator value when culture decimal separator and numberpad decimal separator are different\n        if (isAlterNumPadDecimalChar) {\n            currentChar = decimalSeparator;\n        }\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            //EJ2-59813-update the numberpad decimal separator and update the cursor position\n            if (isAlterNumPadDecimalChar) {\n                var start = this.element.selectionStart + 1;\n                this.element.value = text;\n                this.element.setSelectionRange(start, start);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            return true;\n        }\n    };\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusHandler = function (event) {\n        var _this = this;\n        this.focusEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('focus', this.focusEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                if (!Browser.isDevice && Browser.info.version === '11.0') {\n                    this.element.setSelectionRange(0, formatValue_1.length);\n                }\n                else {\n                    var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                    setTimeout(function () {\n                        _this.element.setSelectionRange(0, formatValue_1.length);\n                    }, delay);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    NumericTextBox.prototype.focusOutHandler = function (event) {\n        var _this = this;\n        this.blurEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('blur', this.blurEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', false, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () {\n            _this.isCalled = true;\n            _this.action(action, event);\n        }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target;\n        if (event.type === \"touchmove\") {\n            var touchEvent = event.touches;\n            target = touchEvent.length && document.elementFromPoint(touchEvent[0].pageX, touchEvent[0].pageY);\n        }\n        else {\n            target = document.elementFromPoint(event.clientX, event.clientY);\n        }\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        this.prevValue = this.value;\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     *\n     * @param {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     *\n     * @param {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly',\n            'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize',\n            'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin',\n            'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\n        for (var i = 0; i < attrArray.length; i++) {\n            this.element.removeAttribute(attrArray[i]);\n        }\n        this.element.classList.remove('e-input');\n        this.container.insertAdjacentElement('afterend', this.element);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     *\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.element && this.enabled) {\n            this.element.focus();\n            addClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.element && this.enabled) {\n            this.element.blur();\n            removeClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {NumericTextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {NumericTextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.updateDataAttribute(true);\n                    this.checkAttributes(true);\n                    Input.validateInputType(this.container, this.element);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    this.updateSpinButton(newProp);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.isDynamicChange = (this.isAngular || this.isVue) && this.preventChange;\n                    this.updateValue(newProp.value);\n                    if (this.isDynamicChange) {\n                        this.preventChange = false;\n                        this.isDynamicChange = false;\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    this.setSpinButton();\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    {\n                        var propVal = getValue(prop, newProp);\n                        this.setProperties({ currencyCode: propVal }, true);\n                        this.updateCurrency(prop, propVal);\n                    }\n                    break;\n                case 'currencyCode':\n                    {\n                        var propValue = getValue(prop, newProp);\n                        this.setProperties({ currency: propValue }, true);\n                        this.updateCurrency('currency', propValue);\n                    }\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateClearButton = function (newProp) {\n        Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n        this.bindClearEvent();\n    };\n    NumericTextBox.prototype.updateSpinButton = function (newProp) {\n        if (newProp.showSpinButton) {\n            this.spinBtnCreation();\n        }\n        else {\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], NumericTextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"blur\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Tooltip, getZindexPartial } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the color track data in slider.\n * {% codeBlock src='slider/colorrange/index.md' %}{% endcodeBlock %}\n */\nvar ColorRangeData = /** @class */ (function (_super) {\n    __extends(ColorRangeData, _super);\n    function ColorRangeData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"end\", void 0);\n    return ColorRangeData;\n}(ChildProperty));\nexport { ColorRangeData };\n/**\n * It illustrates the limit data in slider.\n * {% codeBlock src='slider/limits/index.md' %}{% endcodeBlock %}\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar bootstrap4TooltipOffset = 3;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHorizantalColor: 'e-slider-horizantal-color',\n    sliderVerticalColor: 'e-slider-vertical-color',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        _this.isDragComplete = false;\n        _this.initialTooltip = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        // eslint-disable-next-line\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.formChecker();\n    };\n    Slider.prototype.formChecker = function () {\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            this.isForm = true;\n            // this condition needs to be checked, if the slider is going to be refreshed by `refresh()`\n            // then we need to revert the slider `value` back to `formResetValue` to preserve the initial value\n            if (!isNullOrUndefined(this.formResetValue)) {\n                this.setProperties({ 'value': this.formResetValue }, true);\n            }\n            this.formResetValue = this.value;\n            if (this.type === 'Range' &&\n                (isNullOrUndefined(this.formResetValue) || typeof (this.formResetValue) !== 'object')) {\n                this.formResetValue = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n            }\n            else if (isNullOrUndefined(this.formResetValue)) {\n                this.formResetValue = parseFloat(formatUnit(this.min));\n            }\n            this.formElement = formElement;\n        }\n        else {\n            this.isForm = false;\n        }\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n        this.renderComplete();\n        if (this.element.tagName === 'EJS-SLIDER') {\n            if (this.getTheme(this.sliderContainer) == \"none\") {\n                setTimeout(function () {\n                    _this.refresh();\n                }, 0);\n            }\n        }\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.sliderContainer.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.sliderContainer.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.add(classNames.sliderDisabled);\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.remove(classNames.sliderDisabled);\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.setElementWidth(this.width);\n        this.element.tabIndex = -1;\n        this.getThemeInitialization();\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.getThemeInitialization = function () {\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material'\n            || this.getTheme(this.sliderContainer) === 'material-dark';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap'\n            || this.getTheme(this.sliderContainer) === 'bootstrap-dark';\n        this.isBootstrap4 = this.getTheme(this.sliderContainer) === 'bootstrap4';\n        this.isTailwind = this.getTheme(this.sliderContainer) === 'tailwind' || this.getTheme(this.sliderContainer) === 'tailwind-dark';\n        this.isBootstrap5 = this.getTheme(this.sliderContainer) === 'bootstrap5';\n        this.isFluent = this.getTheme(this.sliderContainer) === 'FluentUI';\n        this.isMaterialTooltip = this.isMaterial && this.type !== 'Range' && this.tooltip.isVisible;\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterialTooltip) {\n            this.materialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.materialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        if (this.type !== 'Range') {\n            this.firstHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n            if (this.isMaterialTooltip) {\n                this.materialHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n                if (this.tooltipElement) {\n                    this.tooltipElement.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        if (e.propertyName !== 'transform') {\n            this.handleStart();\n            if (!this.enableAnimation) {\n                this.getHandle().style.transition = 'none';\n            }\n            if (this.type !== 'Default') {\n                this.rangeBar.style.transition = 'none';\n            }\n            if (this.isMaterial && this.tooltip.isVisible && this.type === 'Default') {\n                this.tooltipElement.style.transition = this.transition.handle;\n            }\n            this.tooltipToggle(this.getHandle());\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        this.focusSliderElement();\n        this.sliderBarClick(e);\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n            this.firstHandle.classList.add(classNames.sliderTabHandle);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n            this.secondHandle.classList.add(classNames.sliderTabHandle);\n        }\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipToggle(e.currentTarget);\n        }\n        if (this.type === 'Default') {\n            this.tooltipToggle(this.getHandle());\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n        this.setBarColor();\n    };\n    Slider.prototype.tooltipValue = function () {\n        var _this = this;\n        var text;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        if (this.initialTooltip) {\n            this.initialTooltip = false;\n            this.setTooltipContent();\n            args.text = text = this.tooltipObj.content;\n            this.trigger('tooltipChange', args, function (observedArgs) {\n                _this.addTooltipClass(observedArgs.text);\n                if (text !== observedArgs.text) {\n                    _this.customAriaText = observedArgs.text;\n                    _this.tooltipObj.content = observedArgs.text;\n                    _this.setAriaAttrValue(_this.firstHandle);\n                    if (_this.type === 'Range') {\n                        _this.setAriaAttrValue(_this.secondHandle);\n                    }\n                }\n            });\n            if (this.isMaterialTooltip) {\n                this.setPreviousVal('change', this.value);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        content = this.formatContent(this.tooltipFormatInfo, false);\n        this.tooltipObj.content = content;\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        if (this.isMaterialTooltip) {\n            var count = content.toString().length;\n            if (!this.tooltipElement) {\n                var cssClass = count > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                this.tooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n            }\n            else {\n                var cssClass = count > 4 ?\n                    { oldCss: classNames.sliderMaterialDefault, newCss: classNames.sliderMaterialRange } :\n                    { oldCss: classNames.sliderMaterialRange, newCss: classNames.sliderMaterialDefault };\n                this.tooltipElement.classList.remove(cssClass.oldCss);\n                if (!this.tooltipElement.classList.contains(cssClass.newCss)) {\n                    this.tooltipElement.classList.add(cssClass.newCss);\n                    this.tooltipElement.style.transform = count > 4 ? 'scale(1)' :\n                        this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        return this.orientation === 'Horizontal' ? (this.tooltip.placement === 'Before' ? 'TopCenter' : 'BottomCenter') :\n            (this.tooltip.placement === 'Before' ? 'LeftCenter' : 'RightCenter');\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        this.tooltipElement = args.element;\n        if (this.tooltip.cssClass) {\n            addClass([this.tooltipElement], this.tooltip.cssClass.split(' ').filter(function (css) { return css; }));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.firstElementChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.tooltipCollision = function (position) {\n        if (this.isBootstrap || this.isBootstrap4 || (this.isMaterial && !this.isMaterialTooltip)) {\n            var tooltipOffsetValue = this.isBootstrap4 ? bootstrap4TooltipOffset : bootstrapTooltipOffset;\n            switch (position) {\n                case 'TopCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'BottomCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': tooltipOffsetValue }, false);\n                    break;\n                case 'LeftCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'RightCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': tooltipOffsetValue }, false);\n                    break;\n            }\n        }\n    };\n    Slider.prototype.materialTooltipEventCallBack = function (event) {\n        this.sliderBarClick(event);\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterialTooltip) {\n            if (!destroy) {\n                EventHandler.add(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack, this);\n            }\n            else {\n                EventHandler.remove(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack);\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        var transformProperties;\n        if (this.tooltipElement) {\n            var position = this.orientation === 'Horizontal' ?\n                ((this.tooltipElement.clientHeight + 14) - (this.tooltipElement.clientHeight / 2)) :\n                ((this.tooltipElement.clientWidth + 14) - (this.tooltipElement.clientWidth / 2));\n            transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n        }\n        return transformProperties;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            this.refreshTooltip(this.firstHandle);\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            tooltipContentElement.classList.remove(classNames.materialTooltipHide);\n            tooltipContentElement.classList.add(classNames.materialTooltipShow);\n            this.firstHandle.style.cursor = 'default';\n            this.tooltipElement.style.transition = this.scaleTransform;\n            this.tooltipElement.classList.add(classNames.materialTooltipOpen);\n            this.materialHandle.style.transform = 'scale(0)';\n            if (tooltipContentElement.innerText.length > 4) {\n                this.tooltipElement.style.transform = 'scale(1)';\n            }\n            else {\n                this.tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (this.type === 'Default') {\n                setTimeout(function () { _this.tooltipElement.style.transition = _this.transition.handle; }, 2500);\n            }\n            else {\n                setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n            }\n        }\n    };\n    Slider.prototype.closeMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            this.tooltipElement.style.transition = this.scaleTransform;\n            tooltipContentElement.classList.remove(classNames.materialTooltipShow);\n            tooltipContentElement.classList.add(classNames.materialTooltipHide);\n            this.firstHandle.style.cursor = '-webkit-grab';\n            this.firstHandle.style.cursor = 'grab';\n            if (this.materialHandle) {\n                this.materialHandle.style.transform = 'scale(1)';\n            }\n            this.tooltipElement.classList.remove(classNames.materialTooltipOpen);\n            this.setTooltipTransform();\n            this.tooltipTarget = undefined;\n            setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n        if (this.tooltipCollidedPosition === undefined ||\n            this.tooltipCollidedPosition !== args.collidedPosition || !args.element.classList.contains(tooltipClass)) {\n            if (this.isMaterialTooltip) {\n                if (tooltipClass !== undefined) {\n                    args.element.classList.remove(this.previousTooltipClass);\n                    args.element.classList.add(tooltipClass);\n                    this.previousTooltipClass = tooltipClass;\n                }\n                if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                    args.element.firstElementChild.innerText.length <= 4) {\n                    args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n            this.tooltipCollidedPosition = args.collidedPosition;\n        }\n        if (this.isMaterialTooltip && this.tooltipElement && this.tooltipElement.style.transform.indexOf('translate') !== -1) {\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.setTooltipTransform = function () {\n        var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n        if (this.tooltipElement.firstElementChild.innerText.length > 4) {\n            this.tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n        }\n        else {\n            this.tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n        }\n    };\n    Slider.prototype.renderTooltip = function () {\n        this.tooltipObj = new Tooltip({\n            showTipPointer: this.isBootstrap || this.isMaterial || this.isBootstrap4 || this.isTailwind || this.isBootstrap5 || this.isFluent,\n            cssClass: classNames.sliderTooltip,\n            height: this.isMaterial ? 30 : 'auto',\n            animation: { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            beforeClose: this.tooltipBeforeClose.bind(this),\n            enableHtmlSanitizer: this.enableHtmlSanitizer\n        });\n        this.tooltipObj.appendTo(this.firstHandle);\n        this.initializeTooltipProps();\n    };\n    Slider.prototype.initializeTooltipProps = function () {\n        var tooltipShowOn = (this.tooltip.showOn === 'Auto' ? 'Hover' : this.tooltip.showOn);\n        this.setProperties({ tooltip: { showOn: tooltipShowOn } }, true);\n        this.tooltipObj.position = this.tooltipPlacement();\n        this.tooltipCollision(this.tooltipObj.position);\n        [this.firstHandle, this.rangeBar, this.secondHandle].forEach(function (handle) {\n            if (!isNullOrUndefined(handle)) {\n                handle.style.transition = 'none';\n            }\n        });\n        if (this.isMaterialTooltip) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.tooltipObj.animation.close.effect = 'None';\n            this.tooltipObj.open(this.firstHandle);\n        }\n    };\n    Slider.prototype.tooltipBeforeClose = function () {\n        this.tooltipElement = undefined;\n        this.tooltipCollidedPosition = undefined;\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        if (this.isTailwind) {\n            this.firstBtn.querySelector('span').classList.add('e-icons');\n        }\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        if (this.isTailwind) {\n            this.secondBtn.querySelector('span').classList.add('e-icons');\n        }\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.tooltipToggle(this.getHandle());\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.focusHandle = function () {\n        if (!this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.getHandle().classList.add(classNames.sliderTabHandle);\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed', e);\n        this.closeTooltip();\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Slider.prototype.renderScale = function () {\n        var liElementPosition = 0;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    if (orien === 'h') {\n                        islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(startValue - parseFloat(max.toString())) % largestep === 0) ? true : false;\n                    }\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start, tickWidth);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.ticksAlignment(orien, tickWidth);\n    };\n    Slider.prototype.ticksAlignment = function (orien, tickWidth, triggerEvent) {\n        if (triggerEvent === void 0) { triggerEvent = true; }\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        if (triggerEvent) {\n            this.trigger('renderedTicks', eventArgs);\n        }\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start, tickWidth) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        if (isNullOrUndefined(this.customValues)) {\n            this.formatTicksValue(li, start, span, tickWidth);\n        }\n        else {\n            if (this.enableHtmlSanitizer) {\n                span.innerHTML = SanitizeHtmlHelper.sanitize(start.toString());\n            }\n            else {\n                span.innerHTML = start.toString();\n            }\n        }\n    };\n    Slider.prototype.formatTicksValue = function (li, start, spanElement, tickWidth) {\n        var _this = this;\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs, function (observedArgs) {\n            li.setAttribute('title', observedArgs.text.toString());\n            if (spanElement) {\n                if (_this.enableHtmlSanitizer) {\n                    spanElement.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\n                }\n                else {\n                    spanElement.innerHTML = observedArgs.text.toString();\n                }\n            }\n        });\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        this.firstChild = this.element.querySelector('ul').children[0];\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var otherChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            // eslint-disable-next-line\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        this.getHandle().focus();\n        this.focusHandle();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipToggle = function (target) {\n        if (this.isMaterialTooltip) {\n            // eslint-disable-next-line\n            !this.tooltipElement.classList.contains(classNames.materialTooltipOpen) ?\n                this.openMaterialTooltip() : this.refreshTooltip(this.firstHandle);\n        }\n        else {\n            // eslint-disable-next-line\n            !this.tooltipElement ? this.openTooltip(target) : this.refreshTooltip(target);\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n            this.setBarColor();\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        // eslint-disable-next-line\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            // eslint-disable-next-line no-self-assign\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition(null);\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed', null);\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n            }\n        }\n        else if (this.isMaterialTooltip && this.tooltipElement) {\n            this.tooltipElement.style.zIndex = getZindexPartial(this.element) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function (event) {\n        var _this = this;\n        var handle;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        if (this.isMaterialTooltip) {\n            handle = [this.firstHandle, this.materialHandle];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        this.handleStart();\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                // eslint-disable-next-line\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change', event);\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition(null);\n        this.activeHandle = 2;\n        this.setHandlePosition(null);\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName, e) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value && (!this.isMaterialTooltip || !this.initialTooltip)) {\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.initialTooltip = true;\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.initialTooltip = false;\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.initialTooltip = true;\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName, e) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.tooltipObj && this.initialTooltip) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.tooltipObj.content, isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString)),\n                isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    /**\n     * It is used to reposition slider.\n     * @returns void\n     */\n    Slider.prototype.reposition = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            // eslint-disable-next-line\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                // eslint-disable-next-line\n                this.enableRtl ? this.materialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.materialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                // eslint-disable-next-line\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                this.materialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.ul = undefined;\n            this.renderScale();\n        }\n        this.handleStart();\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip(this.tooltipTarget);\n        this.setBarColor();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition(null);\n        }\n    };\n    // eslint-disable-next-line\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    // eslint-disable-next-line\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        // eslint-disable-next-line\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'mouseup' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchend' || evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.sliderBarUp(evt);\n            this.tooltipToggle(this.getHandle());\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition(evt);\n        if (this.isMaterialTooltip) {\n            this.initialTooltip = false;\n        }\n        this.changeEvent('changed', evt);\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        var _a, _b;\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        this.rangeBarDragged = true;\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition(event);\n        this.activeHandle = 2;\n        this.setHandlePosition(event);\n        this.tooltipToggle(this.rangeBar);\n        this.setRangeBar();\n    };\n    Slider.prototype.sliderBarUp = function (event) {\n        this.changeEvent('changed', event);\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.initialTooltip = false;\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        this.closeTooltip();\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.isMaterialTooltip) {\n                this.tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition(evt);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        if (!this.rangeBarDragged) {\n            this.focusSliderElement();\n            this.sliderBarClick(event);\n        }\n        else {\n            this.isDragComplete = true;\n        }\n        this.changeEvent('changed', event);\n        this.closeTooltip();\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n        this.rangeBarDragged = false;\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj) {\n            this.tooltipValue();\n            if (target) {\n                this.tooltipObj.refresh(target);\n                this.tooltipTarget = target;\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.open(target);\n            this.tooltipTarget = target;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible && this.tooltipObj && this.tooltip.showOn !== 'Always' && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.close();\n            this.tooltipTarget = undefined;\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.rangeBarMousedown = function (event) {\n        var _a, _b;\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.tooltipToggle(this.rangeBar);\n            var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.sliderTabHandle);\n            }\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n    };\n    Slider.prototype.elementClick = function (event) {\n        if (this.isDragComplete) {\n            this.isDragComplete = false;\n            return;\n        }\n        event.preventDefault();\n        this.focusSliderElement();\n        this.sliderBarClick(event);\n        this.focusHandle();\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.reposition.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'click', this.elementClick, this);\n            if (this.type === 'Range' && this.drag) {\n                EventHandler.add(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown, this);\n            }\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n            if (this.isForm) {\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n            }\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.elementClick);\n        if (this.type === 'Range' && this.drag) {\n            EventHandler.remove(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown);\n        }\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n        EventHandler.remove(this.element, 'reset', this.formResetHandler);\n    };\n    Slider.prototype.formResetHandler = function () {\n        this.setProperties({ 'value': this.formResetValue }, true);\n        this.setValue();\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipToggle(this.getHandle());\n            }\n        }\n        this.closeTooltip();\n        this.changeEvent('changed', event);\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n                var curTarget = event.currentTarget;\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && this.tooltipObj && this.isMaterialTooltip &&\n                    !curTarget.classList.contains(classNames.sliderHandleFocused) &&\n                    !curTarget.classList.contains(classNames.sliderTabHandle)) {\n                    this.closeMaterialTooltip();\n                }\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            this.closeMaterialTooltip();\n            this.closeTooltip();\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type, args) {\n        if (this.isMaterialTooltip && this.materialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.materialHandle);\n            this.materialHandle = undefined;\n        }\n        this.removeElement(this.firstHandle);\n        this.firstHandle = undefined;\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n                this.secondHandle = undefined;\n            }\n            this.removeElement(this.rangeBar);\n            this.rangeBar = undefined;\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.tooltipObj)) {\n            this.tooltipObj.destroy();\n            this.tooltipElement = undefined;\n            this.tooltipCollidedPosition = undefined;\n        }\n        if (this.limits.enabled) {\n            if (type === 'MinRange' || type === 'Default') {\n                if (!isNullOrUndefined(this.limitBarFirst)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.limitBarFirst = undefined;\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarSecond);\n                    this.limitBarSecond = undefined;\n                }\n            }\n        }\n        this.activeHandle = 1;\n        this.getThemeInitialization();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.setBarColor();\n        if (args !== 'tooltip') {\n            this.updateConfig();\n        }\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.refresh(this.firstHandle);\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type, 'null');\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip(this.tooltipTarget);\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.ul = undefined;\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.destroy();\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    // tslint:disable-next-line\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    if (newProp && oldProp) {\n                        var value = isNullOrUndefined(newProp.value) ?\n                            (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\n                        this.setProperties({ 'value': value }, true);\n                        if (!isNullOrUndefined(oldProp.value) && oldProp.value.toString() !== value.toString()) {\n                            this.setValue();\n                            this.refreshTooltip(this.tooltipTarget);\n                            if (this.type === 'Range') {\n                                if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                                    this.activeHandle = 1;\n                                }\n                                else {\n                                    this.activeHandle = 2;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip(prop);\n                    }\n                    break;\n                case 'type':\n                    if (!isNullOrUndefined(oldProp) && Object.keys(oldProp).length\n                        && !isNullOrUndefined(oldProp.type)) {\n                        this.changeSliderType(oldProp.type, prop);\n                        this.setZindex();\n                    }\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.reposition();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.sliderContainer.classList.remove(classNames.sliderButtonClass);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                            this.reposition();\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValues':\n                    this.setValue();\n                    this.reposition();\n                    break;\n                case 'colorRange':\n                    this.reposition();\n                    break;\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    this.setMinMaxValue();\n                    if (this.limits) {\n                        this.limitsPropertyChange();\n                    }\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip(this.tooltipTarget);\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function (args) {\n        this.changeSliderType(this.type, args);\n    };\n    Slider.prototype.setBarColor = function () {\n        var trackPosition;\n        var trackClassName;\n        var child = this.sliderTrack.lastElementChild;\n        while (child) {\n            this.sliderTrack.removeChild(child);\n            child = this.sliderTrack.lastElementChild;\n        }\n        for (var i = 0; i < this.colorRange.length; i++) {\n            if (!isNullOrUndefined(this.colorRange[i].start) && !isNullOrUndefined(this.colorRange[i].end)) {\n                if (this.colorRange[i].end > this.colorRange[i].start) {\n                    if (this.colorRange[i].start < this.min) {\n                        this.colorRange[i].start = this.min;\n                    }\n                    if (this.colorRange[i].end > this.max) {\n                        this.colorRange[i].end = this.max;\n                    }\n                    var startingPosition = this.checkHandlePosition(this.colorRange[i].start);\n                    var endPosition = this.checkHandlePosition(this.colorRange[i].end);\n                    var trackContainer = this.createElement('div');\n                    trackContainer.style.backgroundColor = this.colorRange[i].color;\n                    trackContainer.style.border = '1px solid ' + this.colorRange[i].color;\n                    if (this.orientation === 'Horizontal') {\n                        trackClassName = classNames.sliderHorizantalColor;\n                        if (this.enableRtl) {\n                            if (isNullOrUndefined(this.customValues)) {\n                                trackPosition = this.checkHandlePosition(this.max) - this.checkHandlePosition(this.colorRange[i].end);\n                            }\n                            else {\n                                trackPosition = this.checkHandlePosition(this.customValues.length - this.colorRange[i].end - 1);\n                            }\n                        }\n                        else {\n                            trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        }\n                        trackContainer.style.width = endPosition - startingPosition + 'px';\n                        trackContainer.style.left = trackPosition + 'px';\n                    }\n                    else {\n                        trackClassName = classNames.sliderVerticalColor;\n                        trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        trackContainer.style.height = endPosition - startingPosition + 'px';\n                        trackContainer.style.bottom = trackPosition + 'px';\n                    }\n                    trackContainer.classList.add(trackClassName);\n                    this.sliderTrack.appendChild(trackContainer);\n                }\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"width\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Collection([{}], ColorRangeData)\n    ], Slider.prototype, \"colorRange\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable prefer-spread */\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Deferred } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var ele = this.element;\n        this.formElement = closest(this.element, 'form');\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n        if (ele.getAttribute('ejs-for') && !ele.getAttribute('name')) {\n            ele.setAttribute('name', ele.id);\n        }\n    };\n    /**\n     * To Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n        this.renderComplete();\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        if (this.noColor && this.mode === 'Palette' && this.value === '') {\n            value = '';\n        }\n        var slicedValue = value.slice(0, 7);\n        if (isNullOrUndefined(this.initialInputValue)) {\n            this.initialInputValue = slicedValue;\n        }\n        this.element.value = slicedValue;\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': slicedValue }, true);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            createPopupOnClick: this.createPopupOnClick,\n            open: this.onOpen.bind(this),\n            click: function () {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }, value: _this.value\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n        this.bindCallBackEvent();\n    };\n    ColorPicker.prototype.onOpen = function () {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.bindCallBackEvent = function () {\n        var _this = this;\n        this.splitBtn.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observeOpenArgs) {\n                if (!observeOpenArgs.cancel) {\n                    var popupEle = _this.getPopupEle();\n                    popupEle.style.top = formatUnit(0 + pageYOffset);\n                    popupEle.style.left = formatUnit(0 + pageXOffset);\n                    popupEle.style.display = 'block';\n                    _this.createWidget();\n                    popupEle.style.display = '';\n                    if (Browser.isDevice) {\n                        _this.modal = _this.createElement('div');\n                        _this.modal.className = 'e-' + _this.getModuleName() + ' e-modal';\n                        _this.modal.style.display = 'none';\n                        document.body.insertBefore(_this.modal, popupEle);\n                        document.body.className += ' e-colorpicker-overflow';\n                        _this.modal.style.display = 'block';\n                        _this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n                    }\n                }\n                args.cancel = observeOpenArgs.cancel;\n                callBackPromise.resolve(observeOpenArgs);\n            });\n            return callBackPromise;\n        };\n        this.splitBtn.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            if (!isNullOrUndefined(args.event)) {\n                var beforeCloseArgs = { element: _this.container, event: args.event, cancel: false };\n                _this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    if (Browser.isDevice && args.event.target === _this.modal) {\n                        observedCloseArgs.cancel = true;\n                    }\n                    if (!observedCloseArgs.cancel) {\n                        _this.onPopupClose();\n                    }\n                    args.cancel = observedCloseArgs.cancel;\n                    callBackPromise.resolve(observedCloseArgs);\n                });\n            }\n            else {\n                callBackPromise.resolve(args);\n            }\n            return callBackPromise;\n        };\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'presentation' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false', 'tabindex': '0' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = this.container.querySelector('.e-row').children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        if (refEle) {\n            this.container.insertBefore(ele, refEle);\n        }\n        else {\n            this.container.appendChild(ele);\n        }\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        if (this.value === null) {\n            this.value = '#008000ff';\n        }\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        var opacityEle = select('.e-opacity-empty-track', this.opacitySlider.element);\n        if (opacityEle) {\n            opacityEle.style.background =\n                'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                    this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n        }\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        this.updateOpacityInput(value);\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.updateOpacityInput = function (value) {\n        if (this.enableOpacity && !this.getWrapper().classList.contains(HIDEVALUE)) {\n            var opacityTextBoxInst = getInstance(select('.' + OPACITY, this.container), NumericTextBox);\n            opacityTextBoxInst.value = value;\n            opacityTextBoxInst.dataBind();\n        }\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            if (isPicker) {\n                this.appendElement(inputWrap, 2);\n            }\n            else {\n                this.appendElement(inputWrap, 1);\n            }\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', {\n            className: 'e-icons e-css e-btn e-flat e-icon-btn ' + FORMATSWITCH\n        });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-css e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-css e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        if (enable) {\n            this.getWrapper().classList.add(DISABLED);\n        }\n        else {\n            this.getWrapper().classList.remove(DISABLED);\n        }\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                if (enable) {\n                    attributes(ele, { 'disabled': '' });\n                }\n                else {\n                    ele.removeAttribute('disabled');\n                }\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     *\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @returns {string} - Color value\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @method toggle\n     * @returns {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        if (this.container.parentElement.classList.contains('e-popup-close')) {\n            this.splitBtn.toggle();\n        }\n        else {\n            this.closePopup(null);\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.formResetHandler = function () {\n        this.value = this.initialInputValue;\n        attributes(this.element, { 'value': this.initialInputValue });\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        var ctrlSwitchBtn = select('.' + CTRLSWITCH, this.container);\n        if (ctrlSwitchBtn) {\n            EventHandler.add(ctrlSwitchBtn, 'click', this.btnClickHandler, this);\n        }\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13: {\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue, e);\n            }\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value, e) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                _this.splitBtn.toggle();\n                _this.onPopupClose();\n            }\n        });\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) },\n            value: this.enableOpacity ? value : hex\n        });\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': hex }, true);\n        }\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Palette' });\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function () {\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler();\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Picker' });\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '', e);\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        if (idx < 0) {\n            idx += n + emptyCount;\n        }\n        else {\n            idx %= n + emptyCount;\n        }\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX': {\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            }\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        if (!this.showButtons && !isKey) {\n            this.trigger('change', { currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }, value: cValue });\n            if (this.enableOpacity) {\n                this.setProperties({ 'value': cValue }, true);\n            }\n            else {\n                this.setProperties({ 'value': hex }, true);\n            }\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', {\n                currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n            });\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        if (this.element.nextElementSibling) {\n            detach(this.element.nextElementSibling);\n        }\n        if (wrapper) {\n            wrapper.parentElement.insertBefore(this.element, wrapper);\n            detach(wrapper);\n        }\n        this.container = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var v = max;\n        var d = max - min;\n        var s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        var i = Math.floor(h);\n        var f = h - i;\n        var p = v * (1 - s);\n        var q = v * (1 - s * f);\n        var t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n            if (this.rgb.length === 4) {\n                this.updateOpacityInput(this.rgb[3] * 100);\n            }\n        }\n        else {\n            this.removeTileSelection();\n            var ele = this.container.querySelector('span[aria-label=\"' + this.roundValue(newProp) + '\"]');\n            if (ele) {\n                this.addTileSelection(ele);\n            }\n        }\n    };\n    ColorPicker.prototype.setInputEleProps = function () {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps();\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ColorPickerModel} newProp - Specifies new properties\n     * @param  {ColorPickerModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.value)) {\n            var value = this.roundValue(newProp.value);\n            if (value.length === 9) {\n                this.element.value = this.roundValue(value).slice(0, 7);\n                var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n                if (preview) {\n                    preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(newProp.value));\n                }\n            }\n            else {\n                this.value = oldProp.value;\n            }\n        }\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass': {\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                }\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps();\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    if (this_1.value !== oldProp.value) {\n                        this_1.changeValueProp(newProp.value);\n                    }\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    /**\n     * Sets the focus to Colorpicker\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    ColorPicker.prototype.focusIn = function () {\n        this.element.parentElement.focus();\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"onModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","import { addClass, Browser, removeClass, EventHandler, formatUnit, isNullOrUndefined, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { getInstance, closest, selectAll, detach } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as classes from '../base/classes';\nimport * as events from '../base/constant';\nimport { CLS_TOOLBAR, CLS_DROPDOWN_BTN, CLS_RTE_ELEMENTS, CLS_TB_BTN, CLS_INLINE_DROPDOWN, CLS_COLOR_CONTENT, CLS_FONT_COLOR_DROPDOWN, CLS_BACKGROUND_COLOR_DROPDOWN, CLS_COLOR_PALETTE, CLS_FONT_COLOR_PICKER, CLS_BACKGROUND_COLOR_PICKER, CLS_CUSTOM_TILE, CLS_NOCOLOR_ITEM, CLS_BULLETFORMATLIST_TB_BTN, CLS_NUMBERFORMATLIST_TB_BTN, CLS_LIST_PRIMARY_CONTENT } from '../base/classes';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { hasClass } from '../base/util';\n/**\n * `Toolbar renderer` module is used to render toolbar in RichTextEditor.\n *\n * @hidden\n\n */\nvar ToolbarRenderer = /** @class */ (function () {\n    /**\n     * Constructor for toolbar renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     */\n    function ToolbarRenderer(parent) {\n        this.parent = parent;\n        this.wireEvent();\n    }\n    ToolbarRenderer.prototype.wireEvent = function () {\n        this.parent.on(events.destroy, this.unWireEvent, this);\n    };\n    ToolbarRenderer.prototype.unWireEvent = function () {\n        this.parent.off(events.destroy, this.unWireEvent);\n        if (this.popupOverlay) {\n            EventHandler.remove(this.popupOverlay, 'click touchmove', this.onPopupOverlay);\n        }\n        this.removePopupContainer();\n    };\n    ToolbarRenderer.prototype.toolbarBeforeCreate = function (e) {\n        if (this.mode === 'Extended') {\n            e.enableCollision = false;\n        }\n    };\n    ToolbarRenderer.prototype.toolbarCreated = function () {\n        this.parent.notify(events.toolbarCreated, this);\n    };\n    ToolbarRenderer.prototype.toolbarClicked = function (args) {\n        if (!this.parent.enabled) {\n            return;\n        }\n        if (!this.parent.readonly || isNullOrUndefined(args.item)) {\n            this.parent.notify(events.toolbarClick, args);\n        }\n        this.parent.trigger('toolbarClick', args);\n    };\n    ToolbarRenderer.prototype.dropDownSelected = function (args) {\n        this.parent.notify(events.dropDownSelect, args);\n        this.onPopupOverlay();\n    };\n    ToolbarRenderer.prototype.beforeDropDownItemRender = function (args) {\n        if (this.parent.readonly || !this.parent.enabled) {\n            return;\n        }\n        this.parent.notify(events.beforeDropDownItemRender, args);\n    };\n    ToolbarRenderer.prototype.dropDownOpen = function (args) {\n        if (args.element.parentElement.getAttribute('id').indexOf('TableCell') > -1 && !isNOU(args.element.parentElement.querySelector('.e-cell-merge')) &&\n            (!isNOU(args.element.parentElement.querySelector('.e-cell-horizontal-split')) || !isNOU(args.element.parentElement.querySelector('.e-cell-vertical-split')))) {\n            var listEle = args.element.querySelectorAll('li');\n            if (this.parent.inputElement.querySelectorAll('.e-cell-select').length === 1) {\n                addClass([listEle[0]], 'e-disabled');\n                removeClass([listEle[1], listEle[2]], 'e-disabled');\n            }\n            else if (this.parent.inputElement.querySelectorAll('.e-cell-select').length > 1) {\n                removeClass([listEle[0]], 'e-disabled');\n                addClass([listEle[1], listEle[2]], 'e-disabled');\n            }\n        }\n        if (Browser.isDevice && !args.element.parentElement.classList.contains(classes.CLS_QUICK_DROPDOWN)) {\n            this.popupModal(args.element.parentElement);\n        }\n        this.parent.notify(events.selectionSave, args);\n    };\n    ToolbarRenderer.prototype.dropDownClose = function (args) {\n        this.removePopupContainer();\n        this.parent.notify(events.selectionRestore, args);\n    };\n    ToolbarRenderer.prototype.removePopupContainer = function () {\n        if (Browser.isDevice && !isNullOrUndefined(this.popupContainer)) {\n            var popupEle = this.popupContainer.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n            if (popupEle) {\n                this.popupContainer.parentNode.insertBefore(popupEle, this.popupContainer.nextSibling);\n                popupEle.style.removeProperty('position');\n                removeClass([popupEle], 'e-popup-modal');\n            }\n            detach(this.popupContainer);\n            this.popupContainer = undefined;\n        }\n    };\n    /**\n     * renderToolbar method\n     *\n     * @param {IToolbarOptions} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderToolbar = function (args) {\n        this.setPanel(args.target);\n        this.renderPanel();\n        this.mode = args.overflowMode;\n        args.rteToolbarObj.toolbarObj = new Toolbar({\n            items: args.items,\n            width: '100%',\n            overflowMode: args.overflowMode,\n            beforeCreate: this.toolbarBeforeCreate.bind(this),\n            created: this.toolbarCreated.bind(this),\n            clicked: this.toolbarClicked.bind(this),\n            enablePersistence: args.enablePersistence,\n            enableRtl: args.enableRtl,\n            cssClass: args.cssClass\n        });\n        args.rteToolbarObj.toolbarObj.isStringTemplate = true;\n        args.rteToolbarObj.toolbarObj.createElement = this.parent.createElement;\n        args.rteToolbarObj.toolbarObj.appendTo(args.target);\n    };\n    /**\n     * renderDropDownButton method\n     *\n     * @param {IDropDownModel} args - specifies the the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderDropDownButton = function (args) {\n        var _this = this;\n        var css;\n        args.element.classList.add(CLS_DROPDOWN_BTN);\n        css = args.cssClass + ' ' + CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN;\n        if (this.parent.inlineMode.enable && Browser.isDevice) {\n            css = css + ' ' + CLS_INLINE_DROPDOWN;\n        }\n        // eslint-disable-next-line\n        var proxy = this;\n        var dropDown = new DropDownButton({\n            items: args.items,\n            iconCss: args.iconCss,\n            cssClass: css,\n            content: args.content,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            select: this.dropDownSelected.bind(this),\n            beforeOpen: function (args) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    args.cancel = true;\n                    return;\n                }\n                // eslint-disable-next-line\n                for (var index = 0; index < args.element.childNodes.length; index++) {\n                    var divNode = _this.parent.createElement('div');\n                    divNode.innerHTML = dropDown.content.trim();\n                    if (divNode.textContent.trim() !== ''\n                        && args.element.childNodes[index].textContent.trim() === divNode.textContent.trim()) {\n                        if (!args.element.childNodes[index].classList.contains('e-active')) {\n                            addClass([args.element.childNodes[index]], 'e-active');\n                        }\n                    }\n                    else {\n                        removeClass([args.element.childNodes[index]], 'e-active');\n                    }\n                }\n                proxy.parent.notify(events.beforeDropDownOpen, args);\n            },\n            close: this.dropDownClose.bind(this),\n            open: this.dropDownOpen.bind(this),\n            beforeItemRender: this.beforeDropDownItemRender.bind(this)\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        args.element.tabIndex = -1;\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        return dropDown;\n    };\n    /**\n     * renderListDropDown method\n     *\n     * @param {IDropDownModel} args - specifies the the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderListDropDown = function (args) {\n        // eslint-disable-next-line\n        var proxy = this;\n        var css = CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN + ((this.parent.inlineMode) ? (' ' + CLS_INLINE_DROPDOWN) : '');\n        css += (' ' + ((args.itemName === 'NumberFormatList') ? CLS_NUMBERFORMATLIST_TB_BTN : CLS_BULLETFORMATLIST_TB_BTN));\n        var content = proxy.parent.createElement('span', { className: CLS_LIST_PRIMARY_CONTENT });\n        var inlineEle = proxy.parent.createElement('span', { className: args.cssClass });\n        content.appendChild(inlineEle);\n        var dropDown = new DropDownButton({\n            items: args.items,\n            cssClass: css,\n            content: args.content,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            select: this.dropDownSelected.bind(this),\n            beforeOpen: function (args) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    args.cancel = true;\n                    return;\n                }\n                var element = (args.event) ? args.event.target : null;\n                proxy.currentElement = dropDown.element;\n                proxy.currentDropdown = dropDown;\n                if (args.event && args.event.type === 'click' && (element.classList.contains(CLS_LIST_PRIMARY_CONTENT)\n                    || element.parentElement.classList.contains(CLS_LIST_PRIMARY_CONTENT))) {\n                    args.cancel = true;\n                    return;\n                }\n                proxy.parent.notify(events.beforeDropDownOpen, args);\n            },\n            close: this.dropDownClose.bind(this),\n            open: this.dropDownOpen.bind(this),\n            beforeItemRender: this.beforeDropDownItemRender.bind(this)\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        args.element.tabIndex = -1;\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        if (args.element.childElementCount === 1) {\n            dropDown.element.insertBefore(content, dropDown.element.querySelector('.e-caret'));\n        }\n        args.element.tabIndex = -1;\n        dropDown.element.removeAttribute('type');\n        return dropDown;\n    };\n    // eslint-disable-next-line\n    ToolbarRenderer.prototype.onPopupOverlay = function (args) {\n        if (!isNullOrUndefined(this.popupOverlay)) {\n            closest(this.popupOverlay, '.e-popup-container').style.display = 'none';\n            this.popupOverlay.style.display = 'none';\n            removeClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.setIsModel = function (element) {\n        if (!closest(element, '.e-popup-container')) {\n            this.popupContainer = this.parent.createElement('div', {\n                className: 'e-rte-modal-popup e-popup-container e-center'\n            });\n            element.parentNode.insertBefore(this.popupContainer, element);\n            this.popupContainer.appendChild(element);\n            this.popupContainer.style.zIndex = element.style.zIndex;\n            this.popupContainer.style.display = 'flex';\n            element.style.position = 'relative';\n            addClass([element], 'e-popup-modal');\n            this.popupOverlay = this.parent.createElement('div', { className: 'e-popup-overlay' });\n            // eslint-disable-next-line\n            this.popupOverlay.style.zIndex = (parseInt(element.style.zIndex, null) - 1).toString();\n            this.popupOverlay.style.display = 'block';\n            this.popupContainer.appendChild(this.popupOverlay);\n            EventHandler.add(this.popupOverlay, 'click touchmove', this.onPopupOverlay, this);\n        }\n        else {\n            element.parentElement.style.display = 'flex';\n            this.popupOverlay = element.nextElementSibling;\n            this.popupOverlay.style.display = 'block';\n            addClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.paletteSelection = function (dropDownArgs, currentElement) {\n        var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n        var colorbox = [].slice.call(selectAll('.e-tile', ele.parentElement));\n        removeClass(colorbox, 'e-selected');\n        var style = currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n        (colorbox.filter(function (colorbox) {\n            if (colorbox.style.backgroundColor === style) {\n                addClass([colorbox], 'e-selected');\n            }\n        }));\n    };\n    /**\n     * renderColorPickerDropDown method\n     *\n     * @param {IColorPickerModel} args - specifies the arguments.\n     * @param {string} item - specifies the item.\n     * @param {ColorPicker} colorPicker - specifies the colorpicker.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPickerDropDown = function (args, item, colorPicker, defaultColor) {\n        var _this = this;\n        // eslint-disable-next-line\n        var proxy = this;\n        var css = CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN + ((this.parent.inlineMode) ? (' ' + CLS_INLINE_DROPDOWN) : '');\n        css += (' ' + ((item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_DROPDOWN : CLS_FONT_COLOR_DROPDOWN));\n        css += ' ' + this.parent.cssClass;\n        var content = proxy.parent.createElement('span', { className: CLS_COLOR_CONTENT });\n        var inlineEle = proxy.parent.createElement('span', { className: args.cssClass });\n        var range;\n        var initialBackgroundColor = (isNullOrUndefined(defaultColor)) ? proxy.parent.backgroundColor.default : defaultColor;\n        inlineEle.style.borderBottomColor = (item === 'backgroundcolor') ?\n            initialBackgroundColor : proxy.parent.fontColor.default;\n        content.appendChild(inlineEle);\n        var dropDown = new DropDownButton({\n            target: colorPicker.element.parentElement, cssClass: css,\n            enablePersistence: this.parent.enablePersistence, enableRtl: this.parent.enableRtl,\n            beforeOpen: function (dropDownArgs) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    dropDownArgs.cancel = true;\n                    return;\n                }\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                proxy.currentElement = dropDown.element;\n                proxy.currentDropdown = dropDown;\n                proxy.paletteSelection(dropDownArgs, proxy.currentElement);\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    dropDownArgs.cancel = true;\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    proxy.parent.notify(events.selectionRestore, {});\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    var parentNode = range.startContainer.parentNode;\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        (closest(range.startContainer.parentNode, 'td,th')) ||\n                        (proxy.parent.iframeSettings.enable && !hasClass(parentNode.ownerDocument.querySelector('body'), 'e-lib')))\n                        && range.collapsed && args.subCommand === 'BackgroundColor') {\n                        proxy.parent.notify(events.tableColorPickerChanged, {\n                            item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n                else {\n                    var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                    var inst = getInstance(ele, ColorPicker);\n                    inst.showButtons = (dropDownArgs.element.querySelector('.e-color-palette')) ? false : true;\n                    inst.dataBind();\n                }\n                dropDownArgs.element.onclick = function (args) {\n                    if (args.target.classList.contains('e-cancel')) {\n                        dropDown.toggle();\n                    }\n                };\n            },\n            open: function (dropDownArgs) {\n                _this.setColorPickerContentWidth(colorPicker);\n                var focusEle;\n                var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                if (dropDownArgs.element.querySelector('.e-color-palette')) {\n                    focusEle = ele.parentElement.querySelector('.e-palette');\n                }\n                else {\n                    focusEle = ele.parentElement.querySelector('e-handler');\n                }\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                if (Browser.isDevice) {\n                    _this.popupModal(dropDownArgs.element.parentElement);\n                }\n                _this.pickerRefresh(dropDownArgs);\n            },\n            beforeClose: function (dropDownArgs) {\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        closest(range.startContainer.parentNode, 'td,th')) && range.collapsed) {\n                        proxy.parent.notify(events.tableColorPickerChanged, { item: {\n                                command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue\n                            }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n            },\n            close: function (dropDownArgs) {\n                proxy.parent.notify(events.selectionRestore, {});\n                var dropElement = closest(dropDownArgs.element.parentElement, '.e-popup-container');\n                if (dropElement) {\n                    dropElement.style.display = 'none';\n                    dropElement.lastElementChild.style.display = 'none';\n                    removeClass([dropElement.lastElementChild], 'e-popup-overlay');\n                }\n                if (Browser.isDevice && !isNullOrUndefined(dropElement)) {\n                    var popupEle = dropElement.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n                    if (popupEle) {\n                        dropElement.parentNode.insertBefore(popupEle, dropElement.nextSibling);\n                        popupEle.style.removeProperty('position');\n                        removeClass([popupEle], 'e-popup-modal');\n                    }\n                    detach(dropElement);\n                    proxy.popupContainer = undefined;\n                }\n            }\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        args.element.setAttribute('role', 'button');\n        dropDown.appendTo(args.element);\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        dropDown.element.insertBefore(content, dropDown.element.querySelector('.e-caret'));\n        args.element.tabIndex = -1;\n        dropDown.element.removeAttribute('type');\n        dropDown.element.onmousedown = function () {\n            proxy.parent.notify(events.selectionSave, {});\n        };\n        dropDown.element.onkeydown = function () {\n            proxy.parent.notify(events.selectionSave, {});\n        };\n        return dropDown;\n    };\n    ToolbarRenderer.prototype.pickerRefresh = function (dropDownArgs) {\n        if (this.parent.backgroundColor.mode === 'Picker') {\n            var popupElem = dropDownArgs.element.parentElement;\n            popupElem.style.width = (popupElem.offsetWidth + 5).toString() + 'px';\n            getInstance(popupElem, Popup).refreshPosition(popupElem);\n            popupElem.style.width = (popupElem.offsetWidth - 5).toString() + 'px';\n        }\n    };\n    ToolbarRenderer.prototype.popupModal = function (element) {\n        var popupInst = getInstance(element, Popup);\n        popupInst.relateTo = document.body;\n        popupInst.position = { X: 0, Y: 0 };\n        popupInst.targetType = 'container';\n        popupInst.collision = { X: 'fit', Y: 'fit' };\n        popupInst.offsetY = 4;\n        popupInst.dataBind();\n        this.setIsModel(element);\n    };\n    ToolbarRenderer.prototype.setColorPickerContentWidth = function (colorPicker) {\n        var colorPickerContent = colorPicker.element.nextSibling;\n        if (colorPickerContent.style.width === '0px') {\n            colorPickerContent.style.width = '';\n            var borderWidth = parseInt(getComputedStyle(colorPickerContent).borderBottomWidth, 10);\n            colorPickerContent.style.width = formatUnit(colorPickerContent.children[0].offsetWidth\n                + borderWidth + borderWidth);\n        }\n    };\n    /**\n     * renderColorPicker method\n     *\n     * @param {IColorPickerModel} args - specifies the arguments\n     * @param {string} item - specifies the string values\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPicker = function (args, item) {\n        var _this = this;\n        // eslint-disable-next-line\n        var proxy = this;\n        var value;\n        var colorPicker = new ColorPicker({\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            inline: true,\n            value: '#fff',\n            created: function () {\n                var value = (item === 'backgroundcolor') ? proxy.parent.backgroundColor.default : proxy.parent.fontColor.default;\n                colorPicker.setProperties({ value: value });\n            },\n            mode: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.mode : proxy.parent.fontColor.mode),\n            modeSwitcher: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.modeSwitcher : proxy.parent.fontColor.modeSwitcher),\n            beforeTileRender: function (args) {\n                args.element.classList.add(CLS_COLOR_PALETTE);\n                args.element.classList.add(CLS_CUSTOM_TILE);\n                if (!isNullOrUndefined(_this.parent.cssClass)) {\n                    var allClassName = _this.parent.cssClass.split(' ');\n                    for (var i = 0; i < allClassName.length; i++) {\n                        if (allClassName[i].trim() !== '') {\n                            args.element.classList.add(allClassName[i]);\n                        }\n                    }\n                }\n                if (args.value === '') {\n                    args.element.classList.add(CLS_NOCOLOR_ITEM);\n                }\n            },\n            change: function (colorPickerArgs) {\n                var colorpickerValue = colorPickerArgs.currentValue.rgba;\n                colorPickerArgs.item = {\n                    command: args.command,\n                    subCommand: args.subCommand,\n                    value: colorpickerValue\n                };\n                proxy.parent.notify(events.selectionRestore, {});\n                proxy.currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor = colorpickerValue;\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                var closestElement = closest(range.startContainer.parentNode, 'table');\n                if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' || range.startContainer.nodeName === 'BODY' ||\n                    closest(range.startContainer.parentNode, 'td,th')) && range.collapsed && args.subCommand === 'BackgroundColor' && closest(closestElement, '.' + classes.CLS_RTE)) {\n                    proxy.parent.notify(events.tableColorPickerChanged, colorPickerArgs);\n                }\n                else {\n                    proxy.parent.notify(events.colorPickerChanged, colorPickerArgs);\n                }\n                proxy.currentDropdown.toggle();\n            },\n            beforeModeSwitch: function (args) {\n                value = colorPicker.value;\n                if (value === '') {\n                    colorPicker.setProperties({ value: ((args.mode === 'Picker') ? '#008000ff' : '') }, true);\n                }\n                colorPicker.showButtons = args.mode === 'Palette' ? false : true;\n            }\n        });\n        colorPicker.isStringTemplate = true;\n        colorPicker.columns = (item === 'backgroundcolor') ? this.parent.backgroundColor.columns : this.parent.fontColor.columns;\n        colorPicker.presetColors = (item === 'backgroundcolor') ? this.parent.backgroundColor.colorCode :\n            this.parent.fontColor.colorCode;\n        colorPicker.cssClass = ((item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_PICKER : CLS_FONT_COLOR_PICKER) + ' ' + args.cssClass;\n        colorPicker.createElement = this.parent.createElement;\n        colorPicker.appendTo(document.getElementById(args.target));\n        return colorPicker;\n    };\n    /**\n     * The function is used to render Rich Text Editor toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_TOOLBAR);\n    };\n    /**\n     * Get the toolbar element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.getPanel = function () {\n        return this.toolbarPanel;\n    };\n    /**\n     * Set the toolbar element of RichTextEditor\n     *\n     * @returns {void}\n     * @param  {Element} panel - specifies the element.\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.setPanel = function (panel) {\n        this.toolbarPanel = panel;\n    };\n    return ToolbarRenderer;\n}());\nexport { ToolbarRenderer };\n","import { RenderType } from '../base/enum';\nimport { CLS_HR_SEPARATOR } from '../base/classes';\nimport * as events from '../base/constant';\nimport { getTooltipText, toObjectLowerCase } from '../base/util';\nimport { tools, templateItems } from '../models/items';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar BaseToolbar = /** @class */ (function () {\n    function BaseToolbar(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    BaseToolbar.prototype.addEventListener = function () {\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    BaseToolbar.prototype.removeEventListener = function () {\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    BaseToolbar.prototype.setCssClass = function (e) {\n        if (!isNullOrUndefined(this.toolbarObj)) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                this.toolbarObj.setProperties({ cssClass: (this.toolbarObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                this.toolbarObj.setProperties({ cssClass: (this.toolbarObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    BaseToolbar.prototype.setRtl = function (args) {\n        if (!isNullOrUndefined(this.toolbarObj)) {\n            this.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    BaseToolbar.prototype.getClass = function (item) {\n        var classes;\n        switch (item) {\n            case 'fontsize':\n                classes = 'e-rte-inline-size-template';\n                break;\n            case 'fontcolor':\n            case 'backgroundcolor':\n                classes = 'e-rte-inline-color-template';\n                break;\n            default:\n                classes = 'e-rte-inline-template';\n                break;\n        }\n        return classes;\n    };\n    BaseToolbar.prototype.getTemplateObject = function (itemStr, container) {\n        var tagName;\n        switch (itemStr) {\n            case 'fontcolor':\n            case 'backgroundcolor':\n            case 'numberformatlist':\n            case 'bulletformatlist':\n                tagName = 'span';\n                break;\n            default:\n                tagName = 'button';\n                break;\n        }\n        return {\n            command: this.tools[itemStr.toLocaleLowerCase()].command,\n            subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand,\n            template: this.parent.createElement(tagName, {\n                id: this.parent.getID() + '_' + container\n                    + '_' + this.tools[itemStr.toLocaleLowerCase()].id\n            }).outerHTML,\n            cssClass: this.parent.inlineMode.enable ? this.getClass(itemStr) : '',\n            tooltipText: getTooltipText(itemStr, this.locator)\n        };\n    };\n    /**\n     * getObject method\n     *\n     * @param {string} item - specifies the string value\n     * @param {string} container - specifies the value of string\n     * @returns {IToolbarItemModel} - returns the model element\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getObject = function (item, container) {\n        var itemStr = item.toLowerCase();\n        if (templateItems.indexOf(itemStr) !== -1) {\n            return this.getTemplateObject(itemStr, container);\n        }\n        else {\n            switch (itemStr) {\n                case '|':\n                    return { type: 'Separator' };\n                case '-':\n                    return { type: 'Separator', cssClass: CLS_HR_SEPARATOR };\n                default:\n                    return {\n                        id: this.parent.getID() + '_' + container + '_' + this.tools[itemStr.toLocaleLowerCase()].id,\n                        prefixIcon: this.tools[itemStr.toLocaleLowerCase()].icon,\n                        tooltipText: getTooltipText(itemStr, this.locator),\n                        command: this.tools[itemStr.toLocaleLowerCase()].command,\n                        subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand\n                    };\n            }\n        }\n    };\n    /**\n     * @param {string} tbItems - specifies the string value\n     * @param {string} container - specifies the container value\n     * @returns {ItemModel} - retunrs the model element\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getItems = function (tbItems, container) {\n        var _this = this;\n        if (this.parent.toolbarSettings.items.length < 1) {\n            return [];\n        }\n        var items = [];\n        var _loop_1 = function (item) {\n            switch (typeof item) {\n                case 'string':\n                    items.push(this_1.getObject(item, container));\n                    break;\n                default:\n                    if (!isNullOrUndefined(item.click)) {\n                        var proxy_1 = item;\n                        var callback_1 = proxy_1.click;\n                        proxy_1.click = function () {\n                            if (proxy_1.undo && _this.parent.formatter.getUndoRedoStack().length === 0) {\n                                _this.parent.formatter.saveData();\n                            }\n                            callback_1.call(_this);\n                            if ((_this.parent.formatter.getUndoRedoStack()[_this.parent.formatter.getUndoRedoStack().length - 1].text.trim()\n                                === _this.parent.inputElement.innerHTML.trim())) {\n                                return;\n                            }\n                            if (proxy_1.undo) {\n                                _this.parent.formatter.saveData();\n                            }\n                        };\n                    }\n                    items.push(item);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, tbItems_1 = tbItems; _i < tbItems_1.length; _i++) {\n            var item = tbItems_1[_i];\n            _loop_1(item);\n        }\n        return items;\n    };\n    BaseToolbar.prototype.getToolbarOptions = function (args) {\n        return {\n            target: args.target,\n            rteToolbarObj: this,\n            items: this.getItems(args.items, args.container),\n            overflowMode: args.mode,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            cssClass: args.cssClass,\n        };\n    };\n    /**\n     * render method\n     *\n     * @param {IToolbarRenderOptions} args - specifies the toolbar options\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseToolbar.prototype.render = function (args) {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.toolbarRenderer.renderToolbar(this.getToolbarOptions(args));\n    };\n    return BaseToolbar;\n}());\nexport { BaseToolbar };\n","import { addClass, isNullOrUndefined, removeClass, select, closest } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport { getIndex } from '../base/util';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getDropDownValue, getFormattedFontSize, getTooltipText } from '../base/util';\nimport * as model from '../models/items';\nimport { dispatchEvent } from '../base/util';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar DropDownButtons = /** @class */ (function () {\n    function DropDownButtons(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    DropDownButtons.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    DropDownButtons.prototype.beforeRender = function (args) {\n        var item = args.item;\n        if (item.cssClass) {\n            addClass([args.element], item.cssClass);\n        }\n        if (item.command === 'Alignments' || item.subCommand === 'JustifyLeft'\n            || item.subCommand === 'JustifyRight' || item.subCommand === 'JustifyCenter') {\n            args.element.setAttribute('title', getTooltipText(item.subCommand.toLocaleLowerCase(), this.locator));\n        }\n    };\n    DropDownButtons.prototype.dropdownContent = function (width, type, content) {\n        return ('<span style=\"display: inline-flex;' + 'width:' + ((type === 'quick') ? 'auto' : width) + '\" >' +\n            '<span class=\"e-rte-dropdown-btn-text\">' + content + '</span></span>');\n    };\n    /**\n     * renderDropDowns method\n     *\n     * @param {IDropDownRenderArgs} args - specifies the arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    DropDownButtons.prototype.renderDropDowns = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var type = args.containerType;\n        var tbElement = args.container;\n        model.templateItems.forEach(function (item) {\n            var targetElement = undefined;\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'numberformatlist': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_NumberFormatList', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatOLItem = _this.parent.numberFormatList.types.slice();\n                        formatOLItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Lists', enumerable: true }, subCommand: { value: 'NumberFormatList', enumerable: true }\n                            });\n                        });\n                        _this.numberFormatListDropDown = _this.toolbarRenderer.renderListDropDown({\n                            cssClass: 'e-order-list' + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            itemName: 'NumberFormatList', items: formatOLItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'bulletformatlist': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_BulletFormatList', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatULItem = _this.parent.bulletFormatList.types.slice();\n                        formatULItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Lists', enumerable: true }, subCommand: { value: 'BulletFormatList', enumerable: true }\n                            });\n                        });\n                        _this.bulletFormatListDropDown = _this.toolbarRenderer.renderListDropDown({\n                            cssClass: 'e-unorder-list' + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            itemName: 'BulletFormatList', items: formatULItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'formats': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Formats', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatItem = _this.parent.format.types.slice();\n                        formatItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Formats', enumerable: true }, subCommand: { value: item.value, enumerable: true }\n                            });\n                        });\n                        var formatContent = isNullOrUndefined(_this.parent.format.default) ? formatItem[0].text :\n                            _this.parent.format.default;\n                        _this.formatDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-formats e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItem, formatContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FORMATS_TB_BTN,\n                            itemName: 'Formats', items: formatItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'fontname': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontName', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontItem = _this.parent.fontFamily.items.slice();\n                        fontItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontName', enumerable: true }\n                            });\n                        });\n                        var fontNameContent = isNullOrUndefined(_this.parent.fontFamily.default) ? fontItem[0].text :\n                            _this.parent.fontFamily.default;\n                        _this.fontNameDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-font-name e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItem, fontNameContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_NAME_TB_BTN,\n                            itemName: 'FontName', items: fontItem, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontFamily.default)) {\n                            _this.getEditNode().style.fontFamily = _this.parent.fontFamily.default;\n                        }\n                        break;\n                    }\n                    case 'fontsize': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontSize', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontsize = _this.parent.fontSize.items.slice();\n                        fontsize.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontSize', enumerable: true }\n                            });\n                        });\n                        var fontSizeContent = isNullOrUndefined(_this.parent.fontSize.default) ? fontsize[1].text :\n                            _this.parent.fontSize.default;\n                        _this.fontSizeDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            content: _this.dropdownContent(_this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_SIZE_TB_BTN,\n                            itemName: 'FontSize', items: fontsize, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontSize.default)) {\n                            _this.getEditNode().style.fontSize = _this.parent.fontSize.default;\n                        }\n                        break;\n                    }\n                    case 'alignments':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Alignments', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        _this.alignDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: 'e-justify-left e-icons',\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_ALIGN_TB_BTN,\n                            itemName: 'Alignments', items: model.alignmentItems, element: targetElement\n                        });\n                        break;\n                    case 'align':\n                        _this.imageAlignmentDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'display':\n                        _this.imageDisplayDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablerows':\n                        _this.rowDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecolumns':\n                        _this.columnDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecell':\n                        _this.cellDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecellverticalalign':\n                        _this.verticalAlignDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'styles':\n                        _this.tableStylesDropDown(type, tbElement, targetElement);\n                        break;\n                }\n            }\n        });\n        if (this.parent.inlineMode.enable) {\n            this.setCssClass({ cssClass: this.parent.cssClass });\n        }\n    };\n    DropDownButtons.prototype.getUpdateItems = function (items, value) {\n        var dropDownItems = items.slice();\n        dropDownItems.forEach(function (item) {\n            Object.defineProperties(item, {\n                command: { value: (value === 'Format' ? 'Formats' : 'Font'), enumerable: true },\n                subCommand: { value: (value === 'Format' ? item.value : value), enumerable: true }\n            });\n        });\n        return dropDownItems;\n    };\n    DropDownButtons.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var type;\n        var content;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontFamily':\n                    if (this.fontNameDropDown) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontFamily); _b < _c.length; _b++) {\n                            var fontFamily = _c[_b];\n                            switch (fontFamily) {\n                                case 'default':\n                                case 'width': {\n                                    var fontItems = this.fontNameDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontNameDropDown.element, '.' + classes.CLS_QUICK_TB)) ?\n                                        'quick' : 'toolbar';\n                                    var fontNameContent = isNullOrUndefined(this.parent.fontFamily.default) ? fontItems[0].text :\n                                        this.parent.fontFamily.default;\n                                    content = this.dropdownContent(this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItems, fontNameContent, 'text', 'text')));\n                                    this.fontNameDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontFamily.default)) {\n                                        this.getEditNode().style.fontFamily = this.parent.fontFamily.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-family');\n                                    }\n                                    break;\n                                }\n                                case 'items':\n                                    this.fontNameDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontFamily.items, 'FontName')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'fontSize':\n                    if (this.fontSizeDropDown) {\n                        for (var _d = 0, _e = Object.keys(newProp.fontSize); _d < _e.length; _d++) {\n                            var fontSize = _e[_d];\n                            switch (fontSize) {\n                                case 'default':\n                                case 'width': {\n                                    var fontsize = this.fontSizeDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontSizeDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var fontSizeContent = isNullOrUndefined(this.parent.fontSize.default) ? fontsize[1].text :\n                                        this.parent.fontSize.default;\n                                    content = this.dropdownContent(this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text')));\n                                    this.fontSizeDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontSize.default)) {\n                                        this.getEditNode().style.fontSize = this.parent.fontSize.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-size');\n                                    }\n                                    break;\n                                }\n                                case 'items':\n                                    this.fontSizeDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontSize.items, 'FontSize')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'format':\n                    if (this.formatDropDown) {\n                        for (var _f = 0, _g = Object.keys(newProp.format); _f < _g.length; _f++) {\n                            var format = _g[_f];\n                            switch (format) {\n                                case 'default':\n                                case 'width': {\n                                    var formatItems = this.formatDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.formatDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var formatContent = isNullOrUndefined(this.parent.format.default) ? formatItems[0].text :\n                                        this.parent.format.default;\n                                    content = this.dropdownContent(this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItems, formatContent, 'text', 'text')));\n                                    this.formatDropDown.setProperties({ content: content });\n                                    break;\n                                }\n                                case 'types':\n                                    this.formatDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.format.types, 'Format')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownButtons.prototype.getEditNode = function () {\n        return this.parent.contentModule.getEditPanel();\n    };\n    DropDownButtons.prototype.rowDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableRows', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableRowsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-rows e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableRows',\n            items: model.tableRowsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.columnDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableColumns', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableColumnsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-columns e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableColumns',\n            items: model.tableColumnsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.cellDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableCell', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableRowsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-cell e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableCell',\n            items: model.tableCellItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.verticalAlignDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableCellVerticalAlign', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableCellVerticalAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-cell-ver-align e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableCellVerticalAlign',\n            items: model.TableCellVerticalAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageDisplayDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Display', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.displayDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-display e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Display',\n            items: model.imageDisplayItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageAlignmentDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Align', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-justify-left e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Align',\n            items: model.imageAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.tableStylesDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Styles', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-style e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Styles',\n            items: this.parent.tableSettings.styles,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.removeDropDownClasses = function (target) {\n        removeClass([target], [\n            classes.CLS_DROPDOWN_BTN,\n            classes.CLS_DROPDOWN_POPUP,\n            classes.CLS_DROPDOWN_ICONS,\n            classes.CLS_DROPDOWN_ITEMS\n        ]);\n    };\n    /**\n     * destroyDropDowns method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    DropDownButtons.prototype.destroyDropDowns = function () {\n        if (this.formatDropDown) {\n            this.removeDropDownClasses(this.formatDropDown.element);\n            this.formatDropDown.destroy();\n        }\n        if (this.fontNameDropDown) {\n            this.removeDropDownClasses(this.fontNameDropDown.element);\n            this.fontNameDropDown.destroy();\n        }\n        if (this.fontSizeDropDown) {\n            this.removeDropDownClasses(this.fontSizeDropDown.element);\n            this.fontSizeDropDown.destroy();\n        }\n        if (this.alignDropDown) {\n            this.removeDropDownClasses(this.alignDropDown.element);\n            this.alignDropDown.destroy();\n        }\n        if (this.imageAlignDropDown) {\n            this.removeDropDownClasses(this.imageAlignDropDown.element);\n            this.imageAlignDropDown.destroy();\n        }\n        if (this.displayDropDown) {\n            this.removeDropDownClasses(this.displayDropDown.element);\n            this.displayDropDown.destroy();\n        }\n        if (this.tableRowsDropDown) {\n            this.removeDropDownClasses(this.tableRowsDropDown.element);\n            this.tableRowsDropDown.destroy();\n        }\n        if (this.tableColumnsDropDown) {\n            this.removeDropDownClasses(this.tableColumnsDropDown.element);\n            this.tableColumnsDropDown.destroy();\n        }\n        if (this.tableCellVerticalAlignDropDown) {\n            this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element);\n            this.tableCellVerticalAlignDropDown.destroy();\n        }\n        if (this.numberFormatListDropDown) {\n            this.removeDropDownClasses(this.numberFormatListDropDown.element);\n            this.numberFormatListDropDown.destroy();\n        }\n        if (this.bulletFormatListDropDown) {\n            this.removeDropDownClasses(this.bulletFormatListDropDown.element);\n            this.bulletFormatListDropDown.destroy();\n        }\n    };\n    DropDownButtons.prototype.setRtl = function (args) {\n        if (this.formatDropDown) {\n            this.formatDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontNameDropDown) {\n            this.fontNameDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontSizeDropDown) {\n            this.fontSizeDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.alignDropDown) {\n            this.alignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageAlignDropDown) {\n            this.imageAlignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.displayDropDown) {\n            this.displayDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.numberFormatListDropDown) {\n            this.numberFormatListDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.bulletFormatListDropDown) {\n            this.bulletFormatListDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    DropDownButtons.prototype.updateCss = function (dropDownObj, e) {\n        if (dropDownObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                dropDownObj.setProperties({ cssClass: (dropDownObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                dropDownObj.setProperties({ cssClass: (dropDownObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    DropDownButtons.prototype.setCssClass = function (e) {\n        var dropDownObj = [\n            this.formatDropDown, this.fontNameDropDown, this.fontSizeDropDown, this.alignDropDown, this.imageAlignDropDown,\n            this.displayDropDown, this.numberFormatListDropDown, this.bulletFormatListDropDown, this.tableRowsDropDown,\n            this.tableColumnsDropDown, this.tableCellVerticalAlignDropDown\n        ];\n        for (var i = 0; i < dropDownObj.length; i++) {\n            this.updateCss(dropDownObj[i], e);\n        }\n    };\n    DropDownButtons.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.beforeDropDownItemRender, this.beforeRender, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n    };\n    DropDownButtons.prototype.onIframeMouseDown = function () {\n        dispatchEvent(document, 'mousedown');\n    };\n    DropDownButtons.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.beforeDropDownItemRender, this.beforeRender);\n        this.parent.off(events.destroy, this.removeEventListener);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n    };\n    return DropDownButtons;\n}());\nexport { DropDownButtons };\n","import { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\n/**\n * `ToolbarAction` module is used to toolbar click action\n */\nvar ToolbarAction = /** @class */ (function () {\n    function ToolbarAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n        this.serviceLocator = new ServiceLocator;\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n    }\n    ToolbarAction.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarClick, this.toolbarClick, this);\n        this.parent.on(events.dropDownSelect, this.dropDownSelect, this);\n        this.parent.on(events.colorPickerChanged, this.renderSelection, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    ToolbarAction.prototype.toolbarClick = function (args) {\n        if (isNOU(args.item)) {\n            return;\n        }\n        if (!isNOU(args.item.controlParent)) {\n            // eslint-disable-next-line\n            var activeEle = args.item.controlParent\n                .activeEle;\n            if (activeEle) {\n                activeEle.tabIndex = -1;\n            }\n        }\n        if (args.item.command === 'NumberFormatList' || args.item.command === 'BulletFormatList') {\n            if (args.originalEvent.target.classList.contains('e-order-list') || args.originalEvent.target.classList.contains('e-unorder-list')) {\n                args.item.command = 'Lists';\n                args.item.subCommand = args.item.subCommand === 'NumberFormatList' ? 'OL' : 'UL';\n            }\n        }\n        if (args.item.command === 'Lists') {\n            if (args.originalEvent.target.classList.contains('e-caret') &&\n                (args.originalEvent.target.parentElement.classList.contains('e-rte-bulletformatlist-dropdown') || args.originalEvent.target.parentElement.classList.contains('e-rte-numberformatlist-dropdown'))) {\n                args.item.command = args.item.subCommand = null;\n            }\n        }\n        this.parent.notify(events.htmlToolbarClick, args);\n        this.parent.notify(events.markdownToolbarClick, args);\n    };\n    ToolbarAction.prototype.dropDownSelect = function (e) {\n        this.parent.notify(events.selectionRestore, {});\n        if (!(document.body.contains(document.body.querySelector('.e-rte-quick-toolbar'))\n            && e.item && (e.item.command === 'Images' || e.item.command === 'Display' || e.item.command === 'Table'))) {\n            var value = e.item.controlParent && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar\n                && this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element) ? 'Table' : null;\n            if (e.item.command === 'Lists') {\n                var listItem = { listStyle: e.item.value, listImage: e.item.listImage, type: e.item.subCommand };\n                this.parent.formatter.process(this.parent, e, e.originalEvent, listItem);\n            }\n            else {\n                this.parent.formatter.process(this.parent, e, e.originalEvent, value);\n            }\n        }\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.renderSelection = function (args) {\n        this.parent.notify(events.selectionRestore, {});\n        this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarClick, this.toolbarClick);\n        this.parent.off(events.dropDownSelect, this.dropDownSelect);\n        this.parent.off(events.colorPickerChanged, this.renderSelection);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    return ToolbarAction;\n}());\nexport { ToolbarAction };\n","import { addClass, Browser, EventHandler, detach, removeClass, select, selectAll, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType, ToolbarType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, getTBarItemsIndex, getCollection, toObjectLowerCase, isIDevice } from '../base/util';\nimport { updateDropDownFontFormatLocale } from '../base/util';\nimport * as model from '../models/items';\nimport { ToolbarRenderer } from '../renderer/toolbar-renderer';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ToolbarAction } from './toolbar-action';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.parent = parent;\n        this.isToolbar = false;\n        this.locator = serviceLocator;\n        this.isTransformChild = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        model.updateDropDownLocale(this.parent);\n        updateDropDownFontFormatLocale(this.parent);\n        this.renderFactory.addRenderer(RenderType.Toolbar, new ToolbarRenderer(this.parent));\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.baseToolbar = new BaseToolbar(this.parent, this.locator);\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, model.tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = model.tools;\n        }\n    }\n    Toolbar.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editableElement = this.contentRenderer.getEditPanel();\n        this.editPanel = this.contentRenderer.getPanel();\n    };\n    Toolbar.prototype.toolbarBindEvent = function () {\n        if (!this.parent.inlineMode.enable) {\n            this.keyBoardModule = new KeyboardEvents(this.getToolbarElement(), {\n                keyAction: this.toolBarKeyDown.bind(this), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n            });\n        }\n    };\n    Toolbar.prototype.toolBarKeyDown = function (e) {\n        switch (e.action) {\n            case 'escape':\n                this.parent.contentModule.getEditPanel().focus();\n                break;\n        }\n    };\n    Toolbar.prototype.createToolbarElement = function () {\n        this.tbElement = this.parent.createElement('div', { id: this.parent.getID() + '_toolbar' });\n        if (!Browser.isDevice && this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        else {\n            if (this.parent.toolbarSettings.enableFloating && !this.parent.inlineMode.enable) {\n                this.tbWrapper = this.parent.createElement('div', {\n                    id: this.parent.getID() + '_toolbar_wrapper',\n                    innerHTML: this.tbElement.outerHTML,\n                    className: classes.CLS_TB_WRAP\n                });\n                this.tbElement = this.tbWrapper.firstElementChild;\n                this.parent.element.insertBefore(this.tbWrapper, this.editPanel);\n            }\n            else {\n                this.parent.element.insertBefore(this.tbElement, this.editPanel);\n            }\n        }\n    };\n    Toolbar.prototype.getToolbarMode = function () {\n        var tbMode;\n        switch (this.parent.toolbarSettings.type) {\n            case ToolbarType.Expand:\n                tbMode = 'Extended';\n                break;\n            case ToolbarType.Scrollable:\n                tbMode = 'Scrollable';\n                break;\n            default:\n                tbMode = 'MultiRow';\n        }\n        if (isIDevice() && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tbMode = ToolbarType.Scrollable;\n        }\n        return tbMode;\n    };\n    Toolbar.prototype.checkToolbarResponsive = function (ele) {\n        if (!Browser.isDevice || isIDevice()) {\n            return false;\n        }\n        var tBarMode;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tBarMode = ToolbarType.MultiRow;\n        }\n        else {\n            tBarMode = this.parent.toolbarSettings.type;\n        }\n        this.baseToolbar.render({\n            container: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items,\n            mode: tBarMode,\n            target: ele,\n            cssClass: this.parent.cssClass\n        });\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            addClass([ele], ['e-rte-tb-mobile']);\n            if (this.parent.inlineMode.enable) {\n                this.addFixedTBarClass();\n            }\n            else {\n                addClass([ele], [classes.CLS_TB_STATIC]);\n            }\n        }\n        this.wireEvents();\n        this.dropDownModule.renderDropDowns({\n            container: ele,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        this.parent.notify(events.renderColorPicker, {\n            container: this.tbElement,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        return true;\n    };\n    Toolbar.prototype.checkIsTransformChild = function () {\n        this.isTransformChild = false;\n        var transformElements = selectAll('[style*=\"transform\"]', document);\n        for (var i = 0; i < transformElements.length; i++) {\n            if (!isNullOrUndefined(transformElements[i].contains) && transformElements[i].contains(this.parent.element)) {\n                this.isTransformChild = true;\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.toggleFloatClass = function (e) {\n        var topValue;\n        var isBody = false;\n        var isFloat = false;\n        var scrollParent;\n        var floatOffset = this.parent.floatingToolbarOffset;\n        if (e && this.parent.iframeSettings.enable && this.parent.inputElement.ownerDocument === e.target) {\n            scrollParent = e.target.body;\n        }\n        else if (e && e.target !== document) {\n            scrollParent = e.target;\n        }\n        else {\n            isBody = true;\n            scrollParent = document.body;\n        }\n        var tbHeight = this.getToolbarHeight() + this.getExpandTBarPopHeight();\n        if (this.isTransformChild) {\n            topValue = 0;\n            var scrollParentRelativeTop = 0;\n            var trgHeight = this.parent.element.offsetHeight;\n            if (isBody) {\n                var bodyStyle = window.getComputedStyle(scrollParent);\n                scrollParentRelativeTop = parseFloat(bodyStyle.marginTop.split('px')[0]) + parseFloat(bodyStyle.paddingTop.split('px')[0]);\n            }\n            var targetTop = this.parent.element.getBoundingClientRect().top;\n            var scrollParentYOffset = (Browser.isMSPointer && isBody) ? window.pageYOffset : scrollParent.parentElement.scrollTop;\n            var scrollParentRect = scrollParent.getBoundingClientRect();\n            var scrollParentTop = (!isBody) ? scrollParentRect.top : (scrollParentRect.top + scrollParentYOffset);\n            var outOfRange = ((targetTop - ((!isBody) ? scrollParentTop : 0))\n                + trgHeight > tbHeight + floatOffset) ? false : true;\n            if (targetTop > (scrollParentTop + floatOffset) || targetTop < -trgHeight || ((targetTop < 0) ? outOfRange : false)) {\n                isFloat = false;\n                removeClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n            }\n            else if (targetTop < (scrollParentTop + floatOffset)) {\n                if (targetTop < 0) {\n                    topValue = (-targetTop) + scrollParentTop;\n                }\n                else {\n                    topValue = scrollParentTop - targetTop;\n                }\n                topValue = (isBody) ? topValue - scrollParentRelativeTop : topValue;\n                addClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n                isFloat = true;\n            }\n        }\n        else {\n            var parent_1 = this.parent.element.getBoundingClientRect();\n            if (window.innerHeight < parent_1.top) {\n                return;\n            }\n            topValue = (e && e.target !== document) ? scrollParent.getBoundingClientRect().top : 0;\n            if ((parent_1.bottom < (floatOffset + tbHeight + topValue)) || parent_1.bottom < 0 || parent_1.top > floatOffset + topValue) {\n                isFloat = false;\n            }\n            else if (parent_1.top < floatOffset || parent_1.top < floatOffset + topValue) {\n                isFloat = true;\n            }\n        }\n        if (!isFloat) {\n            removeClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { top: 0 + 'px', width: '100%' });\n        }\n        else {\n            addClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { width: this.parent.element.offsetWidth + 'px', top: (floatOffset + topValue) + 'px' });\n        }\n    };\n    Toolbar.prototype.renderToolbar = function () {\n        this.initializeInstance();\n        this.createToolbarElement();\n        if (this.checkToolbarResponsive(this.tbElement)) {\n            return;\n        }\n        if (this.parent.inlineMode.enable) {\n            this.parent.notify(events.renderInlineToolbar, {});\n        }\n        else {\n            this.baseToolbar.render({\n                container: 'toolbar',\n                items: this.parent.toolbarSettings.items,\n                mode: this.getToolbarMode(),\n                target: this.tbElement,\n                cssClass: this.parent.cssClass\n            });\n            if (!this.parent.inlineMode.enable) {\n                if (this.parent.toolbarSettings.enableFloating) {\n                    this.checkIsTransformChild();\n                    this.toggleFloatClass();\n                }\n                addClass([this.parent.element], [classes.CLS_RTE_TB_ENABLED]);\n                if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n                    addClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n                }\n            }\n        }\n        this.wireEvents();\n        if (this.parent.inlineMode.enable && !isIDevice()) {\n            this.addFixedTBarClass();\n        }\n        if (!this.parent.inlineMode.enable) {\n            this.dropDownModule.renderDropDowns({\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.parent.notify(events.renderColorPicker, {\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.refreshToolbarOverflow();\n        }\n        var divEle = this.parent.element.querySelector('.e-rte-srctextarea');\n        var iframeEle = this.parent.element.querySelector('.e-source-content');\n        if ((!this.parent.iframeSettings.enable && (!isNOU(divEle) && divEle.style.display === 'block')) ||\n            (this.parent.iframeSettings.enable && (!isNOU(iframeEle) && iframeEle.style.display === 'block'))) {\n            this.parent.notify(events.updateToolbarItem, {\n                targetItem: 'SourceCode', updateItem: 'Preview',\n                baseToolbar: this.parent.getBaseToolbarObject()\n            });\n            this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n        }\n    };\n    /**\n     * addFixedTBarClass method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.addFixedTBarClass = function () {\n        addClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    /**\n     * removeFixedTBarClass method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.removeFixedTBarClass = function () {\n        removeClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    Toolbar.prototype.showFixedTBar = function () {\n        addClass([this.tbElement], [classes.CLS_SHOW]);\n        if (Browser.isIos) {\n            addClass([this.tbElement], [classes.CLS_TB_IOS_FIX]);\n        }\n    };\n    Toolbar.prototype.hideFixedTBar = function () {\n        // eslint-disable-next-line\n        (!this.isToolbar) ? removeClass([this.tbElement], [classes.CLS_SHOW, classes.CLS_TB_IOS_FIX]) : this.isToolbar = false;\n    };\n    /**\n     * updateItem method\n     *\n     * @param {IUpdateItemsModel} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.updateItem = function (args) {\n        var item = this.tools[args.updateItem.toLocaleLowerCase()];\n        var trgItem = this.tools[args.targetItem.toLocaleLowerCase()];\n        var index = getTBarItemsIndex(getCollection(trgItem.subCommand), args.baseToolbar.toolbarObj.items)[0];\n        if (!isNOU(index)) {\n            var prefixId = this.parent.inlineMode.enable ? '_quick_' : '_toolbar_';\n            args.baseToolbar.toolbarObj.items[index].id = this.parent.getID() + prefixId + item.id;\n            args.baseToolbar.toolbarObj.items[index].prefixIcon = item.icon;\n            args.baseToolbar.toolbarObj.items[index].tooltipText = item.tooltip;\n            args.baseToolbar.toolbarObj.items[index].subCommand = item.subCommand;\n            args.baseToolbar.toolbarObj.dataBind();\n        }\n        else {\n            this.addTBarItem(args, 0);\n        }\n    };\n    Toolbar.prototype.updateToolbarStatus = function (args) {\n        if (!this.tbElement || (this.parent.inlineMode.enable && (isIDevice() || !Browser.isDevice))) {\n            return;\n        }\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownModule,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.tbElement),\n            tbItems: this.baseToolbar.toolbarObj.items\n        };\n        setToolbarStatus(options, (this.parent.inlineMode.enable ? true : false), this.parent);\n    };\n    Toolbar.prototype.fullScreen = function (e) {\n        this.parent.fullScreenModule.showFullScreen(e);\n    };\n    Toolbar.prototype.hideScreen = function (e) {\n        this.parent.fullScreenModule.hideFullScreen(e);\n    };\n    /**\n     * getBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getBaseToolbar = function () {\n        return this.baseToolbar;\n    };\n    /**\n     * addTBarItem method\n     *\n     * @param {IUpdateItemsModel} args - specifies the arguments.\n     * @param {number} index - specifies the index value.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.addTBarItem = function (args, index) {\n        args.baseToolbar.toolbarObj.addItems([args.baseToolbar.getObject(args.updateItem, 'toolbar')], index);\n    };\n    /**\n     * enableTBarItems method\n     *\n     * @param {BaseToolbar} baseToolbar - specifies the toolbar.\n     * @param {string} items - specifies the string value.\n     * @param {boolean} isEnable - specifies the boolean value.\n     * @param {boolean} muteToolbarUpdate - specifies the toolbar.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.enableTBarItems = function (baseToolbar, items, isEnable, muteToolbarUpdate) {\n        var trgItems = getTBarItemsIndex(getCollection(items), baseToolbar.toolbarObj.items);\n        this.tbItems = selectAll('.' + classes.CLS_TB_ITEM, baseToolbar.toolbarObj.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            var item = this.tbItems[trgItems[i]];\n            if (item) {\n                baseToolbar.toolbarObj.enableItems(item, isEnable);\n            }\n        }\n        if (!select('.e-rte-srctextarea', this.parent.element) && !muteToolbarUpdate) {\n            updateUndoRedoStatus(baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * removeTBarItems method\n     *\n     * @param {string} items - specifies the string value.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.removeTBarItems = function (items) {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var trgItems = getTBarItemsIndex(getCollection(items), this.baseToolbar.toolbarObj.items);\n        this.tbItems = (this.parent.inlineMode.enable) ? selectAll('.' + classes.CLS_TB_ITEM, this.baseToolbar.toolbarObj.element)\n            : selectAll('.' + classes.CLS_TB_ITEM, this.parent.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            this.baseToolbar.toolbarObj.removeItems(this.tbItems[trgItems[i]]);\n        }\n    };\n    /**\n     * getExpandTBarPopHeight method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getExpandTBarPopHeight = function () {\n        var popHeight = 0;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand && this.tbElement.classList.contains('e-extended-toolbar')) {\n            var expandPopup = select('.e-toolbar-extended', this.tbElement);\n            if (expandPopup && this.tbElement.classList.contains('e-expand-open')\n                || expandPopup && expandPopup.classList.contains('e-popup-open')) {\n                addClass([expandPopup], [classes.CLS_VISIBLE]);\n                popHeight = popHeight + expandPopup.offsetHeight;\n                removeClass([expandPopup], [classes.CLS_VISIBLE]);\n            }\n            else {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n            }\n        }\n        return popHeight;\n    };\n    /**\n     * getToolbarHeight method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarHeight = function () {\n        return this.tbElement.offsetHeight;\n    };\n    /**\n     * getToolbarElement method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarElement = function () {\n        return select('.' + classes.CLS_TOOLBAR, this.parent.element);\n    };\n    /**\n     * refreshToolbarOverflow method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.refreshToolbarOverflow = function () {\n        this.baseToolbar.toolbarObj.refreshOverflow();\n    };\n    Toolbar.prototype.isToolbarDestroyed = function () {\n        return this.baseToolbar.toolbarObj && !this.baseToolbar.toolbarObj.isDestroyed;\n    };\n    Toolbar.prototype.destroyToolbar = function () {\n        if (this.isToolbarDestroyed()) {\n            this.parent.unWireScrollElementsEvents();\n            this.unWireEvents();\n            this.parent.notify(events.destroyColorPicker, {});\n            this.dropDownModule.destroyDropDowns();\n            this.baseToolbar.toolbarObj.destroy();\n            this.removeEventListener();\n            removeClass([this.parent.element], [classes.CLS_RTE_TB_ENABLED]);\n            removeClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n            var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n            var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n            if (!isNullOrUndefined(tbWrapper)) {\n                detach(tbWrapper);\n            }\n            else if (!isNullOrUndefined(tbElement)) {\n                detach(tbElement);\n            }\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.isToolbarDestroyed()) {\n            this.destroyToolbar();\n            if (this.keyBoardModule) {\n                this.keyBoardModule.destroy();\n            }\n        }\n    };\n    Toolbar.prototype.scrollHandler = function (e) {\n        if (!this.parent.inlineMode.enable) {\n            if (this.parent.toolbarSettings.enableFloating && this.getDOMVisibility(this.tbElement)) {\n                this.toggleFloatClass(e.args);\n            }\n        }\n    };\n    Toolbar.prototype.getDOMVisibility = function (el) {\n        if (!el.offsetParent && el.offsetWidth === 0 && el.offsetHeight === 0) {\n            return false;\n        }\n        return true;\n    };\n    Toolbar.prototype.mouseDownHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.showFixedTBar();\n        }\n    };\n    Toolbar.prototype.focusChangeHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.isToolbar = false;\n            this.hideFixedTBar();\n        }\n    };\n    Toolbar.prototype.dropDownBeforeOpenHandler = function () {\n        this.isToolbar = true;\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.tbFocusHandler = function (e) {\n        var activeElm = document.activeElement;\n        var isToolbaractive = closest(activeElm, '.e-rte-toolbar');\n        if (activeElm === this.parent.getToolbarElement() || isToolbaractive === this.parent.getToolbarElement()) {\n            var toolbarItem = this.parent.getToolbarElement().querySelectorAll('.e-expended-nav');\n            for (var i = 0; i < toolbarItem.length; i++) {\n                if (isNOU(this.parent.getToolbarElement().querySelector('.e-insert-table-btn'))) {\n                    toolbarItem[i].setAttribute('tabindex', '0');\n                }\n                else {\n                    toolbarItem[i].setAttribute('tabindex', '1');\n                }\n            }\n        }\n    };\n    Toolbar.prototype.tbKeydownHandler = function (e) {\n        if (e.target.classList.contains('e-dropdown-btn') ||\n            e.target.getAttribute('id') === this.parent.getID() + '_toolbar_CreateTable') {\n            e.target.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (e) {\n        var trg = closest(e.originalEvent.target, '.e-hor-nav');\n        if (trg && this.parent.toolbarSettings.type === ToolbarType.Expand && !isNOU(trg)) {\n            if (!trg.classList.contains('e-nav-active')) {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', false);\n            }\n            else {\n                addClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', true);\n            }\n        }\n        else if (Browser.isDevice || this.parent.inlineMode.enable) {\n            this.isToolbar = true;\n        }\n        if (isNOU(trg) && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        if (this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        EventHandler.add(this.tbElement, 'focusin', this.tbFocusHandler, this);\n        EventHandler.add(this.tbElement, 'keydown', this.tbKeydownHandler, this);\n    };\n    Toolbar.prototype.unWireEvents = function () {\n        EventHandler.remove(this.tbElement, 'focusin', this.tbFocusHandler);\n        EventHandler.remove(this.tbElement, 'keydown', this.tbKeydownHandler);\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.dropDownModule = new DropDownButtons(this.parent, this.locator);\n        this.toolbarActionModule = new ToolbarAction(this.parent);\n        this.parent.on(events.initialEnd, this.renderToolbar, this);\n        this.parent.on(events.scroll, this.scrollHandler, this);\n        this.parent.on(events.bindOnEnd, this.toolbarBindEvent, this);\n        this.parent.on(events.toolbarUpdated, this.updateToolbarStatus, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.refreshBegin, this.onRefresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.enableFullScreen, this.fullScreen, this);\n        this.parent.on(events.disableFullScreen, this.hideScreen, this);\n        this.parent.on(events.updateToolbarItem, this.updateItem, this);\n        this.parent.on(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler, this);\n        this.parent.on(events.expandPopupClick, this.parent.setContentHeight, this.parent);\n        this.parent.on(events.focusChange, this.focusChangeHandler, this);\n        this.parent.on(events.mouseDown, this.mouseDownHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseDownHandler, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        if (!this.parent.inlineMode.enable && !isIDevice()) {\n            this.parent.on(events.toolbarClick, this.toolbarClickHandler, this);\n        }\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderToolbar);\n        this.parent.off(events.scroll, this.scrollHandler);\n        this.parent.off(events.bindOnEnd, this.toolbarBindEvent);\n        this.parent.off(events.toolbarUpdated, this.updateToolbarStatus);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.refreshBegin, this.onRefresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.enableFullScreen, this.parent.fullScreenModule.showFullScreen);\n        this.parent.off(events.disableFullScreen, this.parent.fullScreenModule.hideFullScreen);\n        this.parent.off(events.updateToolbarItem, this.updateItem);\n        this.parent.off(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler);\n        this.parent.off(events.expandPopupClick, this.parent.setContentHeight);\n        this.parent.off(events.focusChange, this.focusChangeHandler);\n        this.parent.off(events.mouseDown, this.mouseDownHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseDownHandler);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        if (!this.parent.inlineMode.enable && !isIDevice()) {\n            this.parent.off(events.toolbarClick, this.toolbarClickHandler);\n        }\n    };\n    Toolbar.prototype.setCssClass = function (e) {\n        if (this.toolbarObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                this.toolbarObj.setProperties({ cssClass: (this.toolbarObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                this.toolbarObj.setProperties({ cssClass: (this.toolbarObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    Toolbar.prototype.onRefresh = function () {\n        if (!this.parent.inlineMode.enable) {\n            this.refreshToolbarOverflow();\n        }\n        this.parent.setContentHeight('', true);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        this.refreshToolbar();\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.refreshToolbar();\n    };\n    Toolbar.prototype.refreshToolbar = function () {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n        var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n        if (tbElement || tbWrapper) {\n            this.destroyToolbar();\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.addEventListener();\n            this.renderToolbar();\n            this.parent.wireScrollElementsEvents();\n            if (!select('.e-rte-srctextarea', this.parent.element)) {\n                updateUndoRedoStatus(this.baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n            }\n            this.parent.notify(events.dynamicModule, {});\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect, closest } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler, setHiddenInput } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\nvar containerAttr = ['title', 'class', 'style', 'disabled', 'readonly', 'name', 'value'];\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @private\n     * @param {CheckBoxModel} options - Specifies checkbox model\n     * @param {string | HTMLInputElement} element - Specifies target element\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFocused = false;\n        _this.isMouseClick = false;\n        _this.clickTriggered = false;\n        _this.validCheck = true;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n            if (this.element.required && this.validCheck) {\n                this.element.checked = false;\n                this.validCheck = false;\n            }\n            else if (this.element.required) {\n                this.validCheck = true;\n            }\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n            if (this.element.required && this.validCheck) {\n                this.element.checked = true;\n                this.validCheck = false;\n            }\n            else if (this.element.required) {\n                this.validCheck = true;\n            }\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        if (event.target.tagName === 'INPUT' && this.clickTriggered) {\n            this.clickTriggered = false;\n            return;\n        }\n        if (event.target.tagName === 'SPAN' || event.target.tagName === 'LABEL') {\n            this.clickTriggered = true;\n        }\n        if (this.isMouseClick) {\n            this.focusOutHandler();\n            this.isMouseClick = false;\n        }\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.updateVueArrayModel(false), event: event };\n        this.trigger('change', changeEventArgs);\n        event.stopPropagation();\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (this.wrapper) {\n            wrapper = this.wrapper;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n            if (this.tagName === 'INPUT') {\n                if (this.getWrapper() && wrapper.parentNode) {\n                    wrapper.parentNode.insertBefore(this.element, wrapper);\n                }\n                detach(wrapper);\n                this.element.checked = false;\n                if (this.indeterminate) {\n                    this.element.indeterminate = false;\n                }\n                ['name', 'value', 'disabled'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n            }\n            else {\n                ['class'].forEach(function (key) {\n                    wrapper.removeAttribute(key);\n                });\n                wrapper.innerHTML = '';\n            }\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        this.isFocused = true;\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            wrapper.classList.remove('e-focus');\n        }\n        this.isFocused = false;\n    };\n    /**\n     * Gets the module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     *\n     * @private\n     * @returns {string} - Persist Data\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        if (this.element && this.element.parentElement) {\n            return this.element.parentElement.parentElement;\n        }\n        else {\n            return null;\n        }\n    };\n    CheckBox.prototype.initialize = function () {\n        if (isNullOrUndefined(this.initialCheckedValue)) {\n            this.initialCheckedValue = this.checked;\n        }\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n            if (this.isVue && typeof this.value === 'boolean' && this.value === true) {\n                this.setProperties({ 'checked': true }, true);\n            }\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        wrapper.classList.add('e-wrapper');\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        setHiddenInput(this, label);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyUpHandler = function () {\n        if (this.isFocused) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.labelMouseDownHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.labelMouseUpHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var rippleElem = rippleSpan.querySelectorAll('.e-ripple-element');\n            for (var i = 0; i < rippleElem.length - 1; i++) {\n                rippleSpan.removeChild(rippleSpan.childNodes[i]);\n            }\n            rippleMouseHandler(e, rippleSpan);\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     *\n     * @private\n     * @param {CheckBoxModel} newProp - Specifies new Properties\n     * @param {CheckBoxModel} oldProp - Specifies old Properties\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.wrapper = this.getWrapper();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition': {\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                }\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    if (this.isVue && typeof newProp.value === 'object') {\n                        break;\n                    }\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToWrapper();\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.updateHtmlAttributeToWrapper();\n        this.updateVueArrayModel(true);\n        this.renderComplete();\n        this.wrapper = this.getWrapper();\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            return;\n        }\n        var label = wrapper.getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            text = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(text) : text;\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = wrapper.getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.changeHandler = function (e) {\n        e.stopPropagation();\n    };\n    CheckBox.prototype.formResetHandler = function () {\n        this.checked = this.initialCheckedValue;\n        this.element.checked = this.initialCheckedValue;\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.wrapper;\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseDownHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseUpHandler);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.remove(formElem, 'reset', this.formResetHandler);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.remove(this.element, 'change', this.changeHandler);\n        }\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseDownHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseUpHandler, this);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.add(formElem, 'reset', this.formResetHandler, this);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.add(this.element, 'change', this.changeHandler, this);\n        }\n    };\n    CheckBox.prototype.updateVueArrayModel = function (init) {\n        if (this.isVue && typeof this.value === 'object') {\n            var value = this.element.value;\n            if (value && this.value) {\n                if (init) {\n                    for (var i = 0; i < this.value.length; i++) {\n                        if (value === this.value[i]) {\n                            this.changeState('check');\n                            this.setProperties({ 'checked': true }, true);\n                        }\n                    }\n                }\n                else {\n                    var index = this.value.indexOf(value);\n                    if (this.checked) {\n                        if (index < 0) {\n                            this.value.push(value);\n                        }\n                    }\n                    else {\n                        if (index > -1) {\n                            this.value.splice(index, 1);\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return this.value;\n                }\n            }\n        }\n        return this.validCheck ? this.element.checked : !this.element.checked;\n    };\n    CheckBox.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    var wrapper = this.getWrapper();\n                    if (key === 'class') {\n                        addClass([wrapper], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'title') {\n                        wrapper.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else if (key === 'style') {\n                        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n                        frameSpan.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else {\n                        this.element.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Click the CheckBox element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to CheckBox\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property({})\n    ], CheckBox.prototype, \"htmlAttributes\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","/**\n * Defines common util methods used by Rich Text Editor.\n */\nimport { isNullOrUndefined, Browser, createElement, detach } from '@syncfusion/ej2-base';\nvar inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n    'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n    'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n    'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'strike', 'sub', 'sup', 'svg',\n    'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n/**\n * @returns {void}\n * @hidden\n */\nexport function isIDevice() {\n    var result = false;\n    if (Browser.isDevice && Browser.isIos) {\n        result = true;\n    }\n    return result;\n}\n/**\n * @param {Element} editableElement - specifies the editable element.\n * @param {string} selector - specifies the string values.\n * @returns {void}\n * @hidden\n */\nexport function setEditFrameFocus(editableElement, selector) {\n    if (editableElement.nodeName === 'BODY' && !isNullOrUndefined(selector)) {\n        var iframe = top.window.document.querySelector(selector);\n        if (!isNullOrUndefined(iframe)) {\n            iframe.contentWindow.focus();\n        }\n    }\n}\n/**\n * @param {string} value - specifies the string value\n * @returns {void}\n * @hidden\n */\nexport function updateTextNode(value) {\n    var tempNode = document.createElement('div');\n    tempNode.innerHTML = value;\n    tempNode.setAttribute('class', 'tempDiv');\n    var resultElm = document.createElement('div');\n    var childNodes = tempNode.childNodes;\n    if (childNodes.length > 0) {\n        var isPreviousInlineElem = void 0;\n        var previousParent = void 0;\n        var paraElm = void 0;\n        while (tempNode.firstChild) {\n            if ((tempNode.firstChild.nodeName === '#text' &&\n                (tempNode.firstChild.textContent.indexOf('\\n') < 0 || tempNode.firstChild.textContent.trim() !== '')) ||\n                inlineNode.indexOf(tempNode.firstChild.nodeName.toLocaleLowerCase()) >= 0) {\n                if (!isPreviousInlineElem) {\n                    paraElm = createElement('p');\n                    resultElm.appendChild(paraElm);\n                    paraElm.appendChild(tempNode.firstChild);\n                }\n                else {\n                    previousParent.appendChild(tempNode.firstChild);\n                }\n                previousParent = paraElm;\n                isPreviousInlineElem = true;\n            }\n            else if (tempNode.firstChild.nodeName === '#text' && (tempNode.firstChild.textContent === '\\n' ||\n                (tempNode.firstChild.textContent.indexOf('\\n') >= 0 && tempNode.firstChild.textContent.trim() === ''))) {\n                detach(tempNode.firstChild);\n            }\n            else {\n                resultElm.appendChild(tempNode.firstChild);\n                isPreviousInlineElem = false;\n            }\n        }\n        var tableElm = resultElm.querySelectorAll('table');\n        for (var i = 0; i < tableElm.length; i++) {\n            if (tableElm[i].getAttribute('border') === '0') {\n                tableElm[i].removeAttribute('border');\n            }\n            var tdElm = tableElm[i].querySelectorAll('td');\n            for (var j = 0; j < tdElm.length; j++) {\n                if (tdElm[j].style.borderLeft === 'none') {\n                    tdElm[j].style.removeProperty('border-left');\n                }\n                if (tdElm[j].style.borderRight === 'none') {\n                    tdElm[j].style.removeProperty('border-right');\n                }\n                if (tdElm[j].style.borderBottom === 'none') {\n                    tdElm[j].style.removeProperty('border-bottom');\n                }\n                if (tdElm[j].style.borderTop === 'none') {\n                    tdElm[j].style.removeProperty('border-top');\n                }\n                if (tdElm[j].style.border === 'none') {\n                    tdElm[j].style.removeProperty('border');\n                }\n            }\n            if (!tableElm[i].classList.contains('e-rte-table')) {\n                tableElm[i].classList.add('e-rte-table');\n            }\n        }\n        var imageElm = resultElm.querySelectorAll('img');\n        for (var i = 0; i < imageElm.length; i++) {\n            if (!imageElm[i].classList.contains('e-rte-image')) {\n                imageElm[i].classList.add('e-rte-image');\n            }\n            if (!(imageElm[i].classList.contains('e-imginline') ||\n                imageElm[i].classList.contains('e-imgbreak'))) {\n                imageElm[i].classList.add('e-imginline');\n            }\n        }\n    }\n    return resultElm.innerHTML;\n}\n/**\n * @param {Node} startChildNodes - specifies the node\n * @returns {void}\n * @hidden\n */\nexport function getLastTextNode(startChildNodes) {\n    var finalNode = startChildNodes;\n    do {\n        if (finalNode.childNodes.length > 0) {\n            finalNode = finalNode.childNodes[0];\n        }\n    } while (finalNode.childNodes.length > 0);\n    return finalNode;\n}\n/**\n * @returns {void}\n * @hidden\n */\nexport function getDefaultHtmlTbStatus() {\n    return {\n        bold: false,\n        italic: false,\n        subscript: false,\n        superscript: false,\n        strikethrough: false,\n        orderedlist: false,\n        unorderedlist: false,\n        underline: false,\n        alignments: null,\n        backgroundcolor: null,\n        fontcolor: null,\n        fontname: null,\n        fontsize: null,\n        formats: null,\n        createlink: false,\n        insertcode: false\n    };\n}\n/**\n * @returns {void}\n * @hidden\n */\nexport function getDefaultMDTbStatus() {\n    return {\n        bold: false,\n        italic: false,\n        subscript: false,\n        superscript: false,\n        strikethrough: false,\n        orderedlist: false,\n        uppercase: false,\n        lowercase: false,\n        inlinecode: false,\n        unorderedlist: false,\n        formats: null\n    };\n}\n","import { EventHandler, detach, isNullOrUndefined, select, extend, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { closest, addClass, removeClass, Browser } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_RTE_ELEMENTS } from '../base/classes';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Link` module is used to handle undo actions.\n */\nvar Link = /** @class */ (function () {\n    function Link(parent, serviceLocator) {\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.addEventListener();\n        this.serviceLocator = serviceLocator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n    }\n    Link.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.insertLink, this.linkDialog, this);\n        this.parent.on(events.showLinkDialog, this.showDialog, this);\n        this.parent.on(events.closeLinkDialog, this.closeDialog, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.insertCompleted, this.showLinkQuickToolbar, this);\n        this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(events.linkToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.unLink, this.removeLink, this);\n        this.parent.on(events.editLink, this.editLink, this);\n        this.parent.on(events.openLink, this.openLink, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    Link.prototype.onToolbarAction = function (args) {\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'OpenLink':\n                this.parent.notify(events.openLink, args);\n                break;\n            case 'EditLink':\n                this.parent.notify(events.editLink, args);\n                break;\n            case 'RemoveLink':\n                this.parent.notify(events.unLink, args);\n                break;\n        }\n    };\n    Link.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.insertLink, this.linkDialog);\n        this.parent.off(events.showLinkDialog, this.showDialog);\n        this.parent.off(events.closeLinkDialog, this.closeDialog);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.insertCompleted, this.showLinkQuickToolbar);\n        this.parent.off(events.clearDialogObj, this.clearDialogObj);\n        this.parent.off(events.linkToolbarAction, this.onToolbarAction);\n        this.parent.off(events.unLink, this.removeLink);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.editLink, this.editLink);\n        this.parent.off(events.openLink, this.openLink);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Link.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.updateCss = function (currentObj, e) {\n        if (currentObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    Link.prototype.setCssClass = function (e) {\n        this.updateCss(this.checkBoxObj, e);\n        this.updateCss(this.dialogObj, e);\n    };\n    Link.prototype.showLinkQuickToolbar = function (e) {\n        if (!isNullOrUndefined(e.args) && e.args.action !== 'enter' &&\n            e.args.action !== 'space') {\n            var pageX = void 0;\n            var pageY = void 0;\n            if (e.type !== 'Links' || isNullOrUndefined(this.parent.quickToolbarModule) ||\n                isNullOrUndefined(this.parent.quickToolbarModule.linkQTBar)) {\n                return;\n            }\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var parentTop = this.parent.element.getBoundingClientRect().top;\n            var parentLeft = this.parent.element.getBoundingClientRect().left;\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var target_1;\n            [].forEach.call(e.elements, function (element, index) {\n                if (index === 0) {\n                    target_1 = ((element.nodeName === '#text') ? (element.parentNode) : element);\n                }\n            });\n            if (e.isNotify) {\n                var tbElement = this.parent.toolbarModule.getToolbarElement();\n                var linkTop = target_1.getBoundingClientRect().top;\n                var linkLeft = target_1.getBoundingClientRect().left;\n                var linkPos = linkTop - parentTop;\n                var tbHeight = (tbElement) ? (tbElement.offsetHeight + this.parent.toolbarModule.getExpandTBarPopHeight()) : 0;\n                pageX = (this.parent.iframeSettings.enable) ? parentLeft + linkLeft : target_1.getBoundingClientRect().left;\n                pageY = window.pageYOffset + ((this.parent.iframeSettings.enable) ?\n                    (parentTop + tbHeight + linkTop) : (parentTop + linkPos));\n            }\n            else {\n                var args = void 0;\n                args = e.args.touches ? e.args.changedTouches[0] : args = e.args;\n                pageX = (this.parent.iframeSettings.enable) ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset + parentTop + args.clientY : args.pageY;\n            }\n            if (this.quickToolObj.linkQTBar) {\n                this.quickToolObj.linkQTBar.showPopup(pageX, pageY, range.endContainer);\n            }\n        }\n    };\n    Link.prototype.hideLinkQuickToolbar = function () {\n        if (this.quickToolObj && this.quickToolObj.linkQTBar && document.body.contains(this.quickToolObj.linkQTBar.element)) {\n            this.quickToolObj.linkQTBar.hidePopup();\n        }\n    };\n    Link.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideLinkQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.linkQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            target = this.getAnchorNode(target);\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.linkQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'A' && (target.childNodes.length > 0 && target.childNodes[0].nodeName !== 'IMG') &&\n                e.args.target.nodeName !== 'IMG' &&\n                !isNOU(closest(this.parent.getRange().startContainer.parentElement, 'A')) && !isNOU(closest(this.parent.getRange().endContainer.parentElement, 'A'))) {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.showLinkQuickToolbar({\n                    args: args,\n                    isNotify: false,\n                    type: 'Links',\n                    elements: [args.target]\n                });\n            }\n            else {\n                this.hideLinkQuickToolbar();\n            }\n        }\n    };\n    Link.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'insert-link':\n                this.openDialog(true, event);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Link.prototype.openDialog = function (isInternal, event) {\n        if (!isInternal) {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        if (this.parent.editorMode === 'HTML') {\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            var selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var eventArgs = {\n                args: event ? event.args : {\n                    item: { command: 'Links', subCommand: 'CreateLink' },\n                    originalEvent: undefined\n                },\n                selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n            };\n            this.linkDialog(eventArgs);\n        }\n        else {\n            var textArea = this.parent.contentModule.getEditPanel();\n            this.parent.formatter.editorManager.markdownSelection.save(textArea.selectionStart, textArea.selectionEnd);\n            this.linkDialog({\n                args: {\n                    item: { command: 'Links', subCommand: 'Link' },\n                    originalEvent: event && event.args\n                },\n                member: 'link',\n                text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                module: 'Markdown',\n                name: 'insertLink'\n            });\n        }\n    };\n    Link.prototype.showDialog = function () {\n        this.openDialog(false);\n        this.setCssClass({ cssClass: this.parent.cssClass });\n    };\n    Link.prototype.closeDialog = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.clearDialogObj = function () {\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            detach(this.dialogObj.element);\n            this.dialogObj = null;\n        }\n    };\n    Link.prototype.linkDialog = function (e, inputDetails) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && (e.selectParent.length > 0 &&\n            !isNullOrUndefined(e.selectParent[0].classList) &&\n            e.selectParent[0].classList.contains('e-rte-anchor')) && isNullOrUndefined(inputDetails)) {\n            this.editLink(e);\n            return;\n        }\n        var linkWebAddress = this.i10n.getConstant('linkWebUrl');\n        var linkDisplayText = this.i10n.getConstant('linkText');\n        var linkTooltip = this.i10n.getConstant('linkTooltipLabel');\n        var urlPlace = this.i10n.getConstant('linkurl');\n        var textPlace = this.i10n.getConstant('textPlaceholder');\n        var title = this.i10n.getConstant('linkTitle');\n        var linkDialogEle = this.parent.createElement('div', {\n            className: 'e-rte-link-dialog' + ' ' + this.parent.cssClass, id: this.rteID + '_rtelink'\n        });\n        this.parent.element.appendChild(linkDialogEle);\n        var linkContent = this.parent.createElement('div', {\n            className: 'e-rte-linkcontent' + ' ' + this.parent.cssClass, id: this.rteID + '_linkContent'\n        });\n        var htmlTextbox = (this.parent.editorMode === 'HTML') ? '<label>' + linkTooltip +\n            '</label></div><div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder = \"' + title + '\" class=\"e-input e-rte-linkTitle' + ' ' + this.parent.cssClass + '\"></div>' +\n            '<div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\"></div>' + '<div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\">' +\n            '<input type=\"checkbox\" class=\"e-rte-linkTarget' + ' ' + this.parent.cssClass + '\"  data-role =\"none\"></div>' : '';\n        var content = '<div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\"><label>' + linkWebAddress + '</label></div>' + '<div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder=\"' + urlPlace + '\" class=\"e-input e-rte-linkurl' + ' ' + this.parent.cssClass + '\"/></div>' +\n            '<div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\">' + '<label>' + linkDisplayText + '</label></div><div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\"> ' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" class=\"e-input e-rte-linkText' + ' ' + this.parent.cssClass + '\" placeholder=\"' + textPlace + '\">' +\n            '</div><div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\">' + htmlTextbox;\n        var contentElem = parseHtml(content);\n        linkContent.appendChild(contentElem);\n        var linkTarget = linkContent.querySelector('.e-rte-linkTarget');\n        var linkUrl = linkContent.querySelector('.e-rte-linkurl');\n        var linkText = linkContent.querySelector('.e-rte-linkText');\n        var linkTitle = linkContent.querySelector('.e-rte-linkTitle');\n        var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n        this.checkBoxObj = new CheckBox({ label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl, cssClass: this.parent.cssClass });\n        this.checkBoxObj.isStringTemplate = true;\n        this.checkBoxObj.createElement = this.parent.createElement;\n        this.checkBoxObj.appendTo(linkTarget);\n        var selectText = (this.parent.editorMode === 'HTML') ?\n            e.selection.getRange(this.parent.contentModule.getDocument()).toString() : e.text;\n        var linkInsert = this.i10n.getConstant('dialogInsert');\n        var linkCancel = this.i10n.getConstant('dialogCancel');\n        var selection = e.selection;\n        var selectObj = { selfLink: this, selection: e.selection, selectParent: e.selectParent, args: e.args };\n        var dialogModel = {\n            header: this.i10n.getConstant('linkHeader'),\n            content: linkContent,\n            cssClass: CLS_RTE_ELEMENTS + ' ' + this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '310px', height: 'inherit',\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertlink.bind(selectObj),\n                    buttonModel: { content: linkInsert, cssClass: 'e-flat e-insertLink' + ' ' + this.parent.cssClass, isPrimary: true }\n                },\n                { click: this.cancelDialog.bind(selectObj), buttonModel: { cssClass: 'e-flat' + ' ' + this.parent.cssClass, content: linkCancel } }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                var args = _this.dialogObj;\n                _this.dialogRenderObj.close(args);\n                _this.dialogObj = null;\n            }\n        };\n        // eslint-disable-next-line\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(linkDialogEle);\n        linkDialogEle.style.maxHeight = 'inherit';\n        if (isNullOrUndefined(this.dialogObj)) {\n            return;\n        }\n        if (!isNullOrUndefined(inputDetails)) {\n            linkUrl.value = inputDetails.url;\n            linkText.value = inputDetails.text;\n            linkTitle.value = inputDetails.title;\n            // eslint-disable-next-line\n            (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n            this.dialogObj.header = inputDetails.header;\n            this.dialogObj.element.querySelector('.e-insertLink').textContent = inputDetails.btnText;\n        }\n        this.checkUrl(false);\n        if ((this.parent.editorMode === 'HTML' && isNullOrUndefined(inputDetails) && ((!isNullOrUndefined(selectText)\n            && selectText !== '') && (e.selection.range.startOffset === 0) || e.selection.range.startOffset !==\n            e.selection.range.endOffset)) || e.module === 'Markdown') {\n            linkText.value = selectText;\n        }\n        EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n        if (this.quickToolObj) {\n            this.hideLinkQuickToolbar();\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Link.prototype.insertlink = function (e) {\n        var linkEle = this.selfLink.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl').value;\n        var linkText = linkEle.querySelector('.e-rte-linkText').value;\n        var linkTitle;\n        if (this.selfLink.parent.editorMode === 'HTML') {\n            linkTitle = linkEle.querySelector('.e-rte-linkTitle').value;\n        }\n        var target = (this.selfLink.checkBoxObj.checked) ? '_blank' : null;\n        if (linkUrl === '') {\n            this.selfLink.checkUrl(true);\n            return;\n        }\n        if (!this.selfLink.isUrl(linkUrl)) {\n            linkText = (linkText === '') ? linkUrl : linkText;\n            if (!this.selfLink.parent.enableAutoUrl) {\n                linkUrl = linkUrl.indexOf('http') > -1 ? linkUrl : 'http://' + linkUrl;\n            }\n            else {\n                // eslint-disable-next-line\n                linkUrl = linkUrl;\n            }\n        }\n        else {\n            this.selfLink.checkUrl(false);\n        }\n        var proxy = this.selfLink;\n        if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(this.selection.range.startContainer.parentNode, '[id='\n            // eslint-disable-next-line\n            + \"'\" + proxy.parent.contentModule.getPanel().id + \"'\" + ']'))) {\n            proxy.parent.contentModule.getEditPanel().focus();\n            if (Browser.isIE && proxy.parent.iframeSettings.enable) {\n                this.selection.restore();\n            }\n            var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n            this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.parent.contentModule.getDocument());\n            this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        var value = {\n            url: linkUrl, text: linkText, title: linkTitle, target: target,\n            selection: this.selection, selectParent: this.selectParent\n        };\n        if (document.body.contains(proxy.dialogObj.element)) {\n            this.selfLink.dialogObj.hide({ returnValue: false });\n        }\n        if (isIDevice() && proxy.parent.iframeSettings.enable) {\n            select('iframe', proxy.parent.element).contentWindow.focus();\n        }\n        if (proxy.parent.editorMode === 'HTML') {\n            this.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var argsValue;\n        if (!isNullOrUndefined(this.args) &&\n            this.args.code === 'KeyK') {\n            var originalEvent = this.args;\n            extend(this.args, { item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent }, true);\n            var argsVal = {\n                item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent\n            };\n            argsValue = argsVal;\n        }\n        else {\n            argsValue = this.args;\n        }\n        this.selfLink.parent.formatter.process(this.selfLink.parent, argsValue, (!isNullOrUndefined(this.args) &&\n            this.args.originalEvent), value);\n        this.selfLink.parent.contentModule.getEditPanel().focus();\n    };\n    Link.prototype.isUrl = function (url) {\n        // eslint-disable-next-line\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Link.prototype.checkUrl = function (e) {\n        var linkEle = this.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl');\n        if (e) {\n            addClass([linkUrl], 'e-error');\n            linkUrl.setSelectionRange(0, linkUrl.value.length);\n            linkUrl.focus();\n        }\n        else {\n            removeClass([linkUrl], 'e-error');\n        }\n    };\n    Link.prototype.removeLink = function (e) {\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode, selectParent: e.selectParent, selection: e.selection,\n            text: selectParentEle.innerText,\n            subCommand: e.args.item.subCommand\n        });\n        if (isIDevice() && this.parent.iframeSettings.enable) {\n            select('iframe', this.parent.element).contentWindow.focus();\n        }\n        else {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        this.hideLinkQuickToolbar();\n    };\n    Link.prototype.openLink = function (e) {\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                url: selectParentEle.href, text: selectParentEle.innerText,\n                target: selectParentEle.target === '' ? '_self' : '_blank', selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n        }\n    };\n    Link.prototype.getAnchorNode = function (element) {\n        var selectParent = closest(element, 'a');\n        return (selectParent ? selectParent : element);\n    };\n    Link.prototype.editLink = function (e) {\n        var selectedNode = this.getAnchorNode(e.selectNode[0]);\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        selectParentEle = selectedNode.nodeName === 'A' ? selectedNode : selectParentEle;\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var inputDetails = {\n                url: selectParentEle.getAttribute('href'), text: selectParentEle.innerText,\n                title: selectParentEle.title, target: selectParentEle.target,\n                header: this.i10n.getConstant('editLink'), btnText: linkUpdate\n            };\n            this.linkDialog(e, inputDetails);\n        }\n    };\n    // eslint-disable-next-line\n    Link.prototype.cancelDialog = function (e) {\n        this.selfLink.parent.isBlur = false;\n        this.selfLink.dialogObj.hide({ returnValue: true });\n        if (isIDevice()) {\n            this.selection.restore();\n        }\n        else {\n            this.selfLink.parent.contentModule.getEditPanel().focus();\n        }\n    };\n    Link.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!isNullOrUndefined(this.dialogObj) && ((\n        // eslint-disable-next-line\n        !closest(target, '[id=' + \"'\" + this.dialogObj.element.id + \"'\" + ']') && this.parent.toolbarSettings.enable &&\n            this.parent.getToolbarElement() && !this.parent.getToolbarElement().contains(e.target)) ||\n            (((this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target)) ||\n                this.parent.inlineMode.enable && !closest(target, '#' + this.dialogObj.element.id)) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_CreateLink') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_CreateLink')))) {\n            this.dialogObj.hide({ returnValue: true });\n            EventHandler.remove(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick);\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Link.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Clears the Link Module.\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Link.prototype.moduleDestroy = function () {\n        this.parent = null;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Link.prototype.getModuleName = function () {\n        return 'link';\n    };\n    return Link;\n}());\nexport { Link };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, setValue, getValue, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, Internationalization, getUniqueID, closest } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar HIDE_CLEAR = 'e-clear-icon-hide';\nvar TEXTBOX_FOCUS = 'e-input-focus';\nvar containerAttr = ['title', 'style', 'class'];\n/**\n * Represents the TextBox component that allows the user to enter the values based on it's type.\n * ```html\n * <input name='images' id='textbox'/>\n * ```\n * ```typescript\n * <script>\n *   var textboxObj = new TextBox();\n *   textboxObj.appendTo('#textbox');\n * </script>\n * ```\n */\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    /**\n     *\n     * @param {TextBoxModel} options - Specifies the TextBox model.\n     * @param {string | HTMLInputElement | HTMLTextAreaElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        _this.isAngular = false;\n        _this.isHiddenInput = false;\n        _this.isForm = false;\n        _this.inputPreviousValue = null;\n        _this.isVue = false;\n        _this.textboxOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {TextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {TextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'floatLabelType':\n                    Input.removeFloating(this.textboxWrapper);\n                    Input.addFloating(this.respectiveElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n                    this.bindClearEvent();\n                    break;\n                case 'width':\n                    Input.setWidth(newProp.width, this.textboxWrapper.container);\n                    break;\n                case 'value':\n                    {\n                        var prevOnChange = this.isProtectedOnChange;\n                        this.isProtectedOnChange = true;\n                        if (!this.isBlank(this.value)) {\n                            this.value = this.value.toString();\n                        }\n                        this.isProtectedOnChange = prevOnChange;\n                        Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n                        if (this.isHiddenInput) {\n                            this.element.value = this.respectiveElement.value;\n                        }\n                        this.inputPreviousValue = this.respectiveElement.value;\n                        /* istanbul ignore next */\n                        if ((this.isAngular || this.isVue) && this.preventChange === true) {\n                            this.previousValue = this.isAngular ? this.value : this.previousValue;\n                            this.preventChange = false;\n                        }\n                        else if (isNullOrUndefined(this.isAngular) || !this.isAngular\n                            || (this.isAngular && !this.preventChange) || (this.isAngular && isNullOrUndefined(this.preventChange))) {\n                            this.raiseChangeEvent();\n                        }\n                    }\n                    break;\n                case 'htmlAttributes':\n                    {\n                        this.updateHTMLAttrToElement();\n                        this.updateHTMLAttrToWrapper();\n                        this.checkAttributes(true);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.respectiveElement);\n                    break;\n                case 'type':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        this.respectiveElement.setAttribute('type', this.type);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                        this.raiseChangeEvent();\n                    }\n                    break;\n                case 'showClearButton':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        Input.setClearButton(this.showClearButton, this.respectiveElement, this.textboxWrapper);\n                        this.bindClearEvent();\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.textboxWrapper.container]);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n                case 'autocomplete':\n                    if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n                        this.respectiveElement.autocomplete = this.autocomplete;\n                    }\n                    else {\n                        this.removeAttributes(['autocomplete']);\n                    }\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TextBox.prototype.getModuleName = function () {\n        return 'textbox';\n    };\n    TextBox.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    TextBox.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.formElement = closest(this.element, 'form');\n        if (!isNullOrUndefined(this.formElement)) {\n            this.isForm = true;\n        }\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-TEXTBOX') {\n            var ejInstance = getValue('ej2_instances', this.element);\n            var inputElement = this.multiline ?\n                this.createElement('textarea') :\n                this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id' && attributeName !== 'class') {\n                    inputElement.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    inputElement.innerHTML = this.element.innerHTML;\n                    if (attributeName === 'name') {\n                        this.element.removeAttribute('name');\n                    }\n                }\n                else if (attributeName === 'class') {\n                    inputElement.setAttribute(attributeName, this.element.className.split(' ').filter(function (item) { return item.indexOf('ng-') !== 0; }).join(' '));\n                }\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['value'] === undefined)) && this.element.value !== '') {\n            this.setProperties({ value: this.element.value }, true);\n        }\n        if (this.element.tagName !== 'TEXTAREA') {\n            this.element.setAttribute('type', this.type);\n        }\n        this.element.setAttribute('role', 'textbox');\n        this.globalize = new Internationalization(this.locale);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('textbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('textbox'));\n        }\n        if (!this.element.hasAttribute('name')) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            this.isHiddenInput = true;\n            this.textarea = this.createElement('textarea');\n            this.element.parentNode.insertBefore(this.textarea, this.element);\n            this.element.setAttribute('type', 'hidden');\n            this.textarea.setAttribute('name', this.element.getAttribute('name'));\n            this.element.removeAttribute('name');\n            this.textarea.setAttribute('role', this.element.getAttribute('role'));\n            this.element.removeAttribute('role');\n            this.textarea.setAttribute('id', getUniqueID('textarea'));\n            var apiAttributes = ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n            for (var index = 0; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (this.element.hasAttribute(attributeName) && containerAttr.indexOf(attributeName) < 0 &&\n                    !(attributeName === 'id' || attributeName === 'type' || attributeName === 'e-mappinguid')) {\n                    // e-mappinguid attribute is handled for Grid component.\n                    this.textarea.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    if (apiAttributes.indexOf(attributeName) < 0) {\n                        this.element.removeAttribute(attributeName);\n                        index--;\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.checkAttributes = function (isDynamic) {\n        var attrs = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n        for (var _i = 0, attrs_1 = attrs; _i < attrs_1.length; _i++) {\n            var key = attrs_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(key))) {\n                switch (key) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(key) === 'disabled' || this.element.getAttribute(key) === '' ||\n                                this.element.getAttribute(key) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(key) === 'readonly' || this.element.getAttribute(key) === ''\n                                || this.element.getAttribute(key) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'autocomplete':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['autocomplete'] === undefined)) || isDynamic) {\n                            var autoCompleteTxt = this.element.autocomplete === 'off' ? 'off' : 'on';\n                            this.setProperties({ autocomplete: autoCompleteTxt }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['value'] === undefined)) || isDynamic) {\n                            this.setProperties({ value: this.element.value }, !isDynamic);\n                        }\n                        break;\n                    case 'type':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['type'] === undefined)) || isDynamic) {\n                            this.setProperties({ type: this.element.type }, !isDynamic);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.render = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getInputValidClassList(this.cssClass);\n        }\n        this.respectiveElement = (this.isHiddenInput) ? this.textarea : this.element;\n        this.textboxWrapper = Input.createInput({\n            element: this.respectiveElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                cssClass: updatedCssClassValue,\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        });\n        this.updateHTMLAttrToWrapper();\n        if (this.isHiddenInput) {\n            this.respectiveElement.parentNode.insertBefore(this.element, this.respectiveElement);\n        }\n        this.wireEvents();\n        if (!isNullOrUndefined(this.value)) {\n            Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n        }\n        if (!isNullOrUndefined(this.value)) {\n            this.initialValue = this.value;\n            this.setInitialValue();\n        }\n        if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n            this.respectiveElement.autocomplete = this.autocomplete;\n        }\n        else if (!isNullOrUndefined(this.textboxOptions) && (this.textboxOptions['autocomplete'] !== undefined)) {\n            this.removeAttributes(['autocomplete']);\n        }\n        this.previousValue = this.value;\n        this.inputPreviousValue = this.value;\n        this.respectiveElement.defaultValue = this.respectiveElement.value;\n        Input.setWidth(this.width, this.textboxWrapper.container);\n        this.renderComplete();\n    };\n    TextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValues = this.getInputValidClassList(this.htmlAttributes[key]);\n                        if (updatedClassValues !== '') {\n                            addClass([this.textboxWrapper.container], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var setStyle = this.textboxWrapper.container.getAttribute(key);\n                        setStyle = !isNullOrUndefined(setStyle) ? (setStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.textboxWrapper.container.setAttribute(key, setStyle);\n                    }\n                    else {\n                        this.textboxWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.element.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getInputValidClassList(newClass), [this.textboxWrapper.container], this.getInputValidClassList(oldClass));\n    };\n    TextBox.prototype.getInputValidClassList = function (inputClassName) {\n        var result = inputClassName;\n        if (!isNullOrUndefined(inputClassName) && inputClassName !== '') {\n            result = (inputClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    TextBox.prototype.setInitialValue = function () {\n        if (!this.isAngular) {\n            this.respectiveElement.setAttribute('value', this.initialValue);\n        }\n    };\n    TextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.respectiveElement, 'focus', this.focusHandler, this);\n        EventHandler.add(this.respectiveElement, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.respectiveElement, 'input', this.inputHandler, this);\n        EventHandler.add(this.respectiveElement, 'change', this.changeHandler, this);\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n        this.bindClearEvent();\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-autofill') &&\n            this.textboxWrapper.container.classList.contains('e-outline')) {\n            EventHandler.add((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler, this);\n        }\n    };\n    TextBox.prototype.animationHandler = function () {\n        this.textboxWrapper.container.classList.add('e-valid-input');\n        var label = this.textboxWrapper.container.querySelector('.e-float-text');\n        if (!isNullOrUndefined(label)) {\n            label.classList.add('e-label-top');\n            if (label.classList.contains('e-label-bottom')) {\n                label.classList.remove('e-label-bottom');\n            }\n        }\n    };\n    TextBox.prototype.resetValue = function (value) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.value = value;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    TextBox.prototype.resetForm = function () {\n        if (this.isAngular) {\n            this.resetValue('');\n        }\n        else {\n            this.resetValue(this.initialValue);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            var label = this.textboxWrapper.container.querySelector('.e-float-text');\n            if (!isNullOrUndefined(label)) {\n                if ((isNullOrUndefined(this.initialValue) || this.initialValue === '')) {\n                    label.classList.add('e-label-bottom');\n                    label.classList.remove('e-label-top');\n                }\n                else if (this.initialValue !== '') {\n                    label.classList.add('e-label-top');\n                    label.classList.remove('e-label-bottom');\n                }\n            }\n        }\n    };\n    TextBox.prototype.focusHandler = function (args) {\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('focus', eventArgs);\n    };\n    TextBox.prototype.focusOutHandler = function (args) {\n        if (!(this.previousValue === null && this.value === null && this.respectiveElement.value === '') &&\n            (this.previousValue !== this.respectiveElement.value)) {\n            this.raiseChangeEvent(args, true);\n        }\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('blur', eventArgs);\n    };\n    TextBox.prototype.inputHandler = function (args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var textboxObj = this;\n        var eventArgs = {\n            event: args,\n            value: this.respectiveElement.value,\n            previousValue: this.inputPreviousValue,\n            container: this.textboxWrapper.container\n        };\n        this.inputPreviousValue = this.respectiveElement.value;\n        /* istanbul ignore next */\n        if (this.isAngular) {\n            textboxObj.localChange({ value: this.respectiveElement.value });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            this.preventChange = true;\n        }\n        this.trigger('input', eventArgs);\n        args.stopPropagation();\n    };\n    TextBox.prototype.changeHandler = function (args) {\n        this.setProperties({ value: this.respectiveElement.value }, true);\n        this.raiseChangeEvent(args, true);\n        args.stopPropagation();\n    };\n    TextBox.prototype.raiseChangeEvent = function (event, interaction) {\n        var eventArgs = {\n            event: event,\n            value: this.value,\n            previousValue: this.previousValue,\n            container: this.textboxWrapper.container,\n            isInteraction: interaction ? interaction : false,\n            isInteracted: interaction ? interaction : false\n        };\n        this.preventChange = false;\n        this.trigger('change', eventArgs);\n        this.previousValue = this.value;\n        //EJ2CORE-738:For this task we update the textarea value to the input when input tag with multiline is present\n        if (this.element.tagName === 'INPUT' && this.multiline && Browser.info.name === 'mozilla') {\n            this.element.value = this.respectiveElement.value;\n        }\n    };\n    TextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.respectiveElement.tagName !== 'TEXTAREA') {\n            if (this.enabled) {\n                EventHandler.add(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler);\n            }\n        }\n    };\n    TextBox.prototype.resetInputHandler = function (event) {\n        event.preventDefault();\n        if (!(this.textboxWrapper.clearButton.classList.contains(HIDE_CLEAR)) || this.textboxWrapper.container.classList.contains('e-static-clear')) {\n            Input.setValue('', this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n            this.setProperties({ value: this.respectiveElement.value }, true);\n            var eventArgs = {\n                event: event,\n                value: this.respectiveElement.value,\n                previousValue: this.inputPreviousValue,\n                container: this.textboxWrapper.container\n            };\n            this.trigger('input', eventArgs);\n            this.inputPreviousValue = this.respectiveElement.value;\n            this.raiseChangeEvent(event, true);\n        }\n    };\n    TextBox.prototype.unWireEvents = function () {\n        EventHandler.remove(this.respectiveElement, 'focus', this.focusHandler);\n        EventHandler.remove(this.respectiveElement, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.respectiveElement, 'input', this.inputHandler);\n        EventHandler.remove(this.respectiveElement, 'change', this.changeHandler);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-outline') &&\n            this.textboxWrapper.container.classList.contains('e-autofill')) {\n            EventHandler.remove((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also, it maintains the initial TextBox element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    TextBox.prototype.destroy = function () {\n        this.unWireEvents();\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            detach(this.textboxWrapper.container.getElementsByTagName('textarea')[0]);\n            this.respectiveElement = this.element;\n            this.element.removeAttribute('type');\n        }\n        this.respectiveElement.value = this.respectiveElement.defaultValue;\n        this.respectiveElement.classList.remove('e-input');\n        this.removeAttributes(['aria-placeholder', 'aria-disabled', 'aria-readonly', 'aria-labelledby']);\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            this.textboxWrapper.container.insertAdjacentElement('afterend', this.respectiveElement);\n            detach(this.textboxWrapper.container);\n        }\n        this.textboxWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adding the icons to the TextBox component.\n     *\n     * @param { string } position - Specify the icon placement on the TextBox. Possible values are append and prepend.\n     * @param { string | string[] } icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for TextBox.\n     * @returns {void}\n     */\n    TextBox.prototype.addIcon = function (position, icons) {\n        Input.addIcon(position, icons, this.textboxWrapper.container, this.respectiveElement, this.createElement);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     */\n    TextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Adding the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param {string} attributes - Specifies the attributes to be add to TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.addAttributes = function (attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'class') {\n                this.respectiveElement.classList.add(attributes[key]);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attributes[key] }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else if (key === 'rows' && this.respectiveElement.tagName === 'TEXTAREA') {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n            else {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n        }\n    };\n    /**\n     * Removing the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param { string[] } attributes - Specifies the attributes name to be removed from TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.removeAttributes = function (attributes) {\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var key = attributes_1[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: true }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: false }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: null }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else {\n                this.respectiveElement.removeAttribute(key);\n            }\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.respectiveElement && this.enabled) {\n            this.respectiveElement.focus();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                addClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.respectiveElement && this.enabled) {\n            this.respectiveElement.blur();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                removeClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    __decorate([\n        Property('text')\n    ], TextBox.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('Never')\n    ], TextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property('')\n    ], TextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('on')\n    ], TextBox.prototype, \"autocomplete\", void 0);\n    __decorate([\n        Property({})\n    ], TextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"multiline\", void 0);\n    __decorate([\n        Property(true)\n    ], TextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"width\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"input\", void 0);\n    TextBox = __decorate([\n        NotifyPropertyChanges\n    ], TextBox);\n    return TextBox;\n}(Component));\nexport { TextBox };\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_TAIL_WIDTH = 24;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nexport function Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFluentSinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fluent', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\nfunction createTailwindSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fluent':\n            createFluentSinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    // eslint-disable-next-line\n    var increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Fluent':\n            defaultSize = DEFT_FLUENT_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    // eslint-disable-next-line\n    var startArc = 315, endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n// eslint-disable-next-line\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax, getUniqueID, closest, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nvar CONTROL_WRAPPER = 'e-upload e-control-wrapper';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar REMOVE_ICON = 'e-file-remove-btn';\nvar DELETE_ICON = 'e-file-delete-btn';\nvar SPINNER_PANE = 'e-spinner-pane';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar RESTRICT_RETRY = 'e-restrict-retry';\nvar wrapperAttr = ['title', 'style', 'class'];\nvar FORM_UPLOAD = 'e-form-upload';\nvar HIDDEN_INPUT = 'e-hidden-file-input';\nvar INVALID_FILE = 'e-file-invalid';\nvar INFORMATION = 'e-file-information';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     *\n     * @param {UploaderModel} options - Specifies the Uploader model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.uploadedFilesData = [];\n        _this.base64String = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        _this.tabIndex = '0';\n        _this.btnTabIndex = '0';\n        _this.disableKeyboardNavigation = false;\n        _this.count = -1;\n        _this.actionCompleteCount = 0;\n        _this.flag = true;\n        _this.selectedFiles = [];\n        _this.uploaderName = 'UploadFiles';\n        _this.fileStreams = [];\n        _this.newFileRef = 0;\n        _this.isFirstFileOnSelection = false;\n        _this.dragCounter = 0;\n        /**\n         * Get the file item(li) which are shown in file list.\n         *\n         * @private\n         */\n        _this.fileList = [];\n        /**\n         * Get the data of files which are shown in file list.\n         *\n         * @private\n         */\n        _this.filesData = [];\n        _this.uploaderOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {UploaderModel} newProp - Returns the dynamic property value of the component.\n     * @param {UploaderModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.updateDropArea();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.checkHTMLAttributes(true);\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'directoryUpload':\n                    this.updateDirectoryAttributes();\n                    break;\n                case 'template':\n                    this.clearAll();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'sequentialUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                if (this.uploadWrapper && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + DROP_AREA))) {\n                    this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n                }\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        /* istanbul ignore next */\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (this.fileList[i].querySelector('.e-file-play-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('resume'));\n                }\n                if (this.fileList[i].querySelector('.e-file-remove-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                if (this.fileList[i].querySelector('.e-file-reload-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('retry'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.uploadButton.setAttribute('title', this.localizedTexts('Upload'));\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                    this.clearButton.setAttribute('title', this.localizedTexts('Clear'));\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled', invalidFileSelection: 'Invalid files selected', totalFiles: 'Total files',\n            size: 'Size'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.formRendered();\n        this.updateHTMLAttrToElement();\n        this.checkHTMLAttributes(false);\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.updateDirectoryAttributes();\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        if (this.element.hasAttribute('tabindex')) {\n            this.tabIndex = this.element.getAttribute('tabindex');\n        }\n        this.browserName = Browser.info.name;\n        this.uploaderName = this.element.getAttribute('name');\n    };\n    Uploader.prototype.formRendered = function () {\n        var parentEle = closest(this.element, 'form');\n        if (!isNullOrUndefined(parentEle)) {\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist(['filesData']);\n    };\n    /**\n     * Return the module name of the component.\n     *\n     * @returns {string} Returns the component name.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    Uploader.prototype.updateDirectoryAttributes = function () {\n        if (this.directoryUpload) {\n            this.element.setAttribute('directory', 'true');\n            this.element.setAttribute('webkitdirectory', 'true');\n        }\n        else {\n            this.element.removeAttribute('directory');\n            this.element.removeAttribute('webkitdirectory');\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.updateHTMLAttrToWrapper();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n        this.setCSSClass();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        this.browseButton.setAttribute('tabindex', this.tabIndex);\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS,\n            attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS,\n            attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        if (!this.isPreloadFiles) {\n            this.uploadButton.focus();\n        }\n        this.wireActionButtonEvents();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverActionButtonsEventBind = function (element) {\n        if (element && !this.isForm) {\n            this.browseButton.blur();\n            this.actionButtons = element;\n            this.uploadButton = this.actionButtons.querySelector('.e-file-upload-btn');\n            this.clearButton = this.actionButtons.querySelector('.e-file-clear-btn');\n            this.uploadButton.focus();\n            this.unwireActionButtonEvents();\n            this.wireActionButtonEvents();\n            this.checkActionButtonStatus();\n        }\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.textContent);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.textContent = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.textContent);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.textContent = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.textContent);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (this.files.length) {\n            if (this.enablePersistence && this.filesData.length) {\n                this.createFileList(this.filesData);\n                return;\n            }\n            if (isNullOrUndefined(this.files[0].size)) {\n                return;\n            }\n            this.isPreloadFiles = true;\n            var files = [].slice.call(this.files);\n            var filesData = [];\n            if (!this.multiple) {\n                this.clearData();\n                files = [files[0]];\n            }\n            for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n                var data = files_1[_i];\n                var fileData = {\n                    name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                    rawFile: '',\n                    size: data.size,\n                    status: this.localizedTexts('uploadSuccessMessage'),\n                    type: data.type,\n                    validationMessages: { minSize: '', maxSize: '' },\n                    statusCode: '2'\n                };\n                filesData.push(fileData);\n                this.filesData.push(fileData);\n            }\n            this.createFileList(filesData);\n            if (!this.autoUpload && this.listParent && !this.actionButtons && (!this.isForm || this.allowUpload()) && this.showFileList) {\n                this.renderActionButtons();\n            }\n            this.checkActionButtonStatus();\n            if (this.sequentialUpload) {\n                this.count = this.filesData.length - 1;\n            }\n            this.isPreloadFiles = false;\n        }\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                select(this.dropArea, document);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    if (!dropTextArea) {\n                        this.createDropTextHint();\n                    }\n                    else {\n                        dropTextArea.innerHTML = this.localizedTexts('dropFilesHint');\n                    }\n                }\n            }\n            if (!enableDropText && dropTextArea) {\n                remove(dropTextArea);\n            }\n        }\n        else if (!isNullOrUndefined(this.uploaderOptions) && this.uploaderOptions.dropArea === undefined) {\n            this.createDropTextHint();\n            this.dropZoneElement = this.uploadWrapper;\n            this.setProperties({ dropArea: this.uploadWrapper }, true);\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.updateDropArea = function () {\n        if (this.dropArea) {\n            this.setDropArea();\n        }\n        else {\n            this.dropZoneElement = null;\n            var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n            if (dropTextArea) {\n                remove(dropTextArea);\n            }\n        }\n    };\n    Uploader.prototype.createDropTextHint = function () {\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n    };\n    Uploader.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValues = (this.htmlAttributes[pro].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValues !== '') {\n                            addClass([this.uploadWrapper], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var uploadStyle = this.uploadWrapper.getAttribute(pro);\n                        uploadStyle = !isNullOrUndefined(uploadStyle) ? (uploadStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.uploadWrapper.setAttribute(pro, uploadStyle);\n                    }\n                    else {\n                        this.uploadWrapper.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            newAttr.value = 'multiple';\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.sequenceUpload(fileData);\n            }\n            else {\n                this.upload(fileData);\n            }\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.sequenceUpload = function (fileData) {\n        if (this.filesData.length - fileData.length === 0 ||\n            this.filesData[(this.filesData.length - fileData.length - 1)].statusCode !== '1') {\n            ++this.count;\n            var isFileListCreated = this.showFileList ? false : true;\n            if (typeof this.filesData[this.count] === 'object') {\n                this.isFirstFileOnSelection = false;\n                this.upload(this.filesData[this.count], isFileListCreated);\n                if (this.filesData[this.count].statusCode === '0') {\n                    this.sequenceUpload(fileData);\n                }\n            }\n            else {\n                --this.count;\n            }\n        }\n    };\n    Uploader.prototype.setCSSClass = function (oldCSSClass) {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(this.cssClass) && updatedCssClassValue !== '') {\n            addClass([this.uploadWrapper], updatedCssClassValue.split(updatedCssClassValue.indexOf(',') > -1 ? ',' : ' '));\n        }\n        var updatedOldCssClass = oldCSSClass;\n        if (!isNullOrUndefined(oldCSSClass)) {\n            updatedOldCssClass = (oldCSSClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCSSClass) && updatedOldCssClass !== '') {\n            removeClass([this.uploadWrapper], updatedOldCssClass.split(' '));\n        }\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    if (!isNullOrUndefined(metaData)) {\n                        metaData.file.statusCode = '1';\n                        metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                        this.chunkUpload(metaData.file);\n                    }\n                    else {\n                        var target = e.target.parentElement;\n                        var fileData = this.filesData[this.fileList.indexOf(target)];\n                        this.retry(fileData);\n                    }\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = e.target.parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        if (this.sequentialUpload) {\n            this.sequenceUpload(this.filesData);\n        }\n        else {\n            this.upload(this.filesData);\n        }\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n        /* istanbul ignore next */\n        if (this.sequentialUpload) {\n            this.count = -1;\n        }\n        this.actionCompleteCount = 0;\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n            EventHandler.add(this.dropZoneElement, 'paste', this.onPasteFile, this);\n            EventHandler.add(this.dropZoneElement, 'dragenter', this.onDragEnter, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n            EventHandler.remove(this.dropZoneElement, 'dragenter', this.onDragEnter);\n        }\n    };\n    Uploader.prototype.onDragEnter = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        this.dragCounter = this.dragCounter + 1;\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.onDragLeave = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.dragCounter = this.dragCounter - 1;\n        if (!this.dragCounter) {\n            this.dropZoneElement.classList.remove(DRAG_HOVER);\n        }\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.dropEffect !== 'Default') {\n            e.dataTransfer.dropEffect = this.dropEffect.toLowerCase();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.dropElement = function (e) {\n        this.dragCounter = 0;\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.onPasteFile = function (event) {\n        var item = event.clipboardData.items;\n        if (event.type == 'paste' && this.browserName !== 'msie' && this.browserName !== 'edge' && this.browserName !== 'safari') {\n            this.element.files = event.clipboardData.files;\n        }\n        if (item.length !== 1) {\n            return;\n        }\n        var pasteFile = [].slice.call(item)[0];\n        if ((pasteFile.kind === 'file') && pasteFile.type.match('^image/')) {\n            this.renderSelectedFiles(event, [pasteFile.getAsFile()], false, true);\n        }\n    };\n    Uploader.prototype.getSelectedFiles = function (index) {\n        var data = [];\n        var liElement = this.fileList[index];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < index; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        for (var j = startIndex; j < (startIndex + nameElements); j++) {\n            data.push(allFiles[j]);\n        }\n        return data;\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var formUpload = this.isFormUpload();\n        var fileData = formUpload ? this.getSelectedFiles(index) : this.getFilesInArray(this.filesData[index]);\n        if (isNullOrUndefined(fileData)) {\n            return;\n        }\n        if (args.target.classList.contains(ABORT_ICON) && !formUpload) {\n            fileData[0].statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.uploadSequential();\n            }\n            if (!(liElement.classList.contains(RESTRICT_RETRY))) {\n                this.checkActionComplete(true);\n            }\n        }\n        else if (!closest(args.target, '.' + SPINNER_PANE)) {\n            this.remove(fileData, false, false, true, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n        if (this.sequentialUpload) {\n            /* istanbul ignore next */\n            if (index <= this.count) {\n                --this.count;\n            }\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs, function (eventArgs) {\n                    if (eventArgs.cancel) {\n                        e.cancel = true;\n                    }\n                    else {\n                        _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n                    }\n                });\n            }\n            else {\n                _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n            }\n        };\n        ajax.onLoad = function (e) {\n            _this.removeCompleted(e, selectedFiles, custom);\n            return {};\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) {\n            _this.removeFailed(e, selectedFiles, custom);\n            return {};\n        };\n        ajax.send(formData);\n    };\n    Uploader.prototype.removingEventCallback = function (eventArgs, formData, selectedFiles, file) {\n        /* istanbul ignore next */\n        var name = this.element.getAttribute('name');\n        var liElement = this.getLiElement(file);\n        if (!isNullOrUndefined(liElement) && (!isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON)) ||\n            !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON)))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON) ?\n                liElement.querySelector('.' + DELETE_ICON) :\n                liElement.querySelector('.' + REMOVE_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n        if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n            formData.append(name, selectedFiles.rawFile, selectedFiles.name);\n        }\n        else {\n            formData.append(name, selectedFiles.name);\n        }\n        this.updateFormData(formData, eventArgs.customFormData);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateCustomheader = function (request, currentRequest) {\n        if (currentRequest.length > 0 && currentRequest[0]) {\n            var _loop_2 = function (i) {\n                var data = currentRequest[i];\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                request.setRequestHeader(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < currentRequest.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var args = {\n                e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n            };\n            this.trigger('success', args);\n            this.removeFilesData(files, customTemplate);\n            var index = this.uploadedFilesData.indexOf(files);\n            this.uploadedFilesData.splice(index, 1);\n            this.trigger('change', { files: this.uploadedFilesData });\n        }\n        else {\n            this.removeFailed(e, files, customTemplate);\n        }\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = {\n            e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                if (statusElement) {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(UPLOAD_FAILED);\n                }\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFilesFromFolder = function (event) {\n        this.filesEntries = [];\n        var items = this.multiple ?\n            event.dataTransfer.items : [event.dataTransfer.items[0]];\n        var validDirectoryUpload = this.checkDirectoryUpload(items);\n        if (!validDirectoryUpload) {\n            return;\n        }\n        var _loop_3 = function (i) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isFile) {\n                var files_2 = [];\n                (item).file(function (fileObj) {\n                    var path = item.fullPath;\n                    files_2.push({ 'path': path, 'file': fileObj });\n                });\n                this_1.renderSelectedFiles(event, files_2, true);\n            }\n            else if (item.isDirectory) {\n                this_1.traverseFileTree(item, event);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < items.length; i++) {\n            _loop_3(i);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.checkDirectoryUpload = function (items) {\n        for (var i = 0; items && i < items.length; i++) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isDirectory) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n    /* istanbul ignore next */\n    Uploader.prototype.traverseFileTree = function (item, event) {\n        /* eslint-enable @typescript-eslint/explicit-module-boundary-types */\n        if (item.isFile) {\n            this.filesEntries.push(item);\n        }\n        else if (item.isDirectory) {\n            var directoryReader = item.createReader();\n            this.readFileFromDirectory(directoryReader, event);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.readFileFromDirectory = function (directoryReader, event) {\n        var _this = this;\n        directoryReader.readEntries(function (entries) {\n            for (var i = 0; i < entries.length; i++) {\n                _this.traverseFileTree(entries[i], event);\n            }\n            _this.pushFilesEntries(event);\n            if (entries.length) {\n                _this.readFileFromDirectory(directoryReader);\n            }\n        });\n    };\n    Uploader.prototype.pushFilesEntries = function (event) {\n        var _this = this;\n        var files = [];\n        var _loop_4 = function (i) {\n            this_2.filesEntries[i].file(function (fileObj) {\n                if (_this.filesEntries.length) {\n                    var path = _this.filesEntries[i].fullPath;\n                    files.push({ 'path': path, 'file': fileObj });\n                    if (i === _this.filesEntries.length - 1) {\n                        _this.filesEntries = [];\n                        _this.renderSelectedFiles(event, files, true);\n                    }\n                }\n            });\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.filesEntries.length; i++) {\n            _loop_4(i);\n        }\n    };\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var targetFiles;\n        /* istanbul ignore next */\n        if (args.type === 'drop') {\n            if (this.directoryUpload) {\n                this.getFilesFromFolder(args);\n            }\n            else {\n                var files = this.sortFilesList = args.dataTransfer.files;\n                if (this.browserName !== 'msie' && this.browserName !== 'edge' && this.browserName !== 'safari') {\n                    this.element.files = files;\n                }\n                if (files.length > 0) {\n                    targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n                    this.renderSelectedFiles(args, targetFiles);\n                }\n            }\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n            this.renderSelectedFiles(args, targetFiles);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getBase64 = function (file) {\n        return new Promise(function (resolve, reject) {\n            var fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n            fileReader.onload = function () { return resolve(fileReader.result); };\n            fileReader.onerror = function (error) { return reject(error); };\n        });\n    };\n    /* istanbul ignore next */\n    /* tslint:ignore */\n    Uploader.prototype.renderSelectedFiles = function (args, targetFiles, directory, paste) {\n        var _this = this;\n        this.base64String = [];\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: '',\n            isCanceled: false,\n            currentRequest: null,\n            customFormData: null\n        };\n        /* istanbul ignore next */\n        if (targetFiles.length < 1) {\n            eventArgs.isCanceled = true;\n            this.trigger('selected', eventArgs);\n            return;\n        }\n        this.flag = true;\n        var fileData = [];\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = directory ? targetFiles[i].file : targetFiles[i];\n            this.updateInitialFileDetails(args, targetFiles, file, i, fileData, directory, paste);\n        }\n        eventArgs.filesData = fileData;\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs, function (eventArgs) {\n            _this._internalRenderSelect(eventArgs, fileData);\n        });\n    };\n    Uploader.prototype.updateInitialFileDetails = function (args, \n    // eslint-disable-next-line @typescript-eslint/indent\n    targetFiles, file, i, fileData, directory, paste) {\n        var fileName = directory ? targetFiles[i].path.substring(1, targetFiles[i].path.length) : paste ?\n            getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name) :\n            this.directoryUpload ? targetFiles[i].webkitRelativePath : file.name;\n        var fileDetails = {\n            name: fileName,\n            rawFile: file,\n            size: file.size,\n            status: this.localizedTexts('readyToUploadMessage'),\n            type: this.getFileType(file.name),\n            validationMessages: this.validatedFileSize(file.size),\n            statusCode: '1',\n            id: getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name)\n        };\n        /* istanbul ignore next */\n        if (paste) {\n            fileDetails.fileSource = 'paste';\n        }\n        fileDetails.status = fileDetails.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n            fileDetails.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : fileDetails.status;\n        if (fileDetails.validationMessages.minSize !== '' || fileDetails.validationMessages.maxSize !== '') {\n            fileDetails.statusCode = '0';\n        }\n        fileData.push(fileDetails);\n    };\n    Uploader.prototype._internalRenderSelect = function (eventArgs, fileData) {\n        if (!eventArgs.cancel) {\n            /* istanbul ignore next */\n            this.selectedFiles = this.selectedFiles.concat(fileData);\n            this.btnTabIndex = this.disableKeyboardNavigation ? '-1' : '0';\n            if (this.showFileList) {\n                if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                    for (var j = 0; j < eventArgs.modifiedFilesData.length; j++) {\n                        for (var k = 0; k < fileData.length; k++) {\n                            if (eventArgs.modifiedFilesData[j].id === fileData[k].id) {\n                                eventArgs.modifiedFilesData[j].rawFile = fileData[k].rawFile;\n                            }\n                        }\n                    }\n                    var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                        this.checkExtension(eventArgs.modifiedFilesData);\n                    this.updateSortedFileList(dataFiles);\n                    this.filesData = dataFiles;\n                    if (!this.isForm || this.allowUpload()) {\n                        this.checkAutoUpload(dataFiles);\n                    }\n                }\n                else {\n                    this.createFileList(fileData, true);\n                    this.filesData = this.filesData.concat(fileData);\n                    if (!this.isForm || this.allowUpload()) {\n                        this.checkAutoUpload(fileData);\n                    }\n                }\n                if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                    this.progressInterval = eventArgs.progressInterval;\n                }\n            }\n            else {\n                this.filesData = this.filesData.concat(fileData);\n                if (this.autoUpload) {\n                    this.upload(this.filesData, true);\n                }\n            }\n            this.raiseActionComplete();\n            this.isFirstFileOnSelection = true;\n        }\n    };\n    Uploader.prototype.allowUpload = function () {\n        var allowFormUpload = false;\n        if (this.isForm && (!isNullOrUndefined(this.asyncSettings.saveUrl) && this.asyncSettings.saveUrl !== '')) {\n            allowFormUpload = true;\n        }\n        return allowFormUpload;\n    };\n    Uploader.prototype.isFormUpload = function () {\n        var isFormUpload = false;\n        if (this.isForm && ((isNullOrUndefined(this.asyncSettings.saveUrl) || this.asyncSettings.saveUrl === '')\n            && (isNullOrUndefined(this.asyncSettings.removeUrl) || this.asyncSettings.removeUrl === ''))) {\n            isFormUpload = true;\n        }\n        return isFormUpload;\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (this.browserName !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (!this.isBlank(this.allowedExtensions)) {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.isPreLoadFile = function (fileData) {\n        var isPreload = false;\n        for (var i = 0; i < this.files.length; i++) {\n            if (this.files[i].name === fileData.name.slice(0, fileData.name.lastIndexOf('.')) && this.files[i].type === fileData.type) {\n                isPreload = true;\n            }\n        }\n        return isPreload;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var listElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            var liTempCompiler = this.uploadTemplateFn(listItem, this, 'template', this.element.id + 'Template', this.isStringTemplate, null, listElement);\n            if (liTempCompiler) {\n                var fromElements = [].slice.call(liTempCompiler);\n                append(fromElements, listElement);\n            }\n            var index = fileData.indexOf(listItem);\n            var eventArgs = {\n                element: listElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            var eventsArgs = {\n                element: listElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            this.trigger('rendering', eventArgs);\n            this.trigger('fileListRendering', eventsArgs);\n            this.listParent.appendChild(listElement);\n            this.fileList.push(listElement);\n        }\n        this.renderReactTemplates();\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.formFileList = function (fileData, files) {\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        var fileContainer = this.createElement('span', { className: TEXT_CONTAINER });\n        var statusMessage;\n        for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n            var listItem = fileData_2[_i];\n            var fileNameEle = this.createElement('span', { className: FILE_NAME });\n            fileNameEle.innerHTML = this.getFileNameOnly(listItem.name);\n            var fileTypeEle = this.createElement('span', { className: FILE_TYPE });\n            var fileType = this.getFileType(listItem.name);\n            fileTypeEle.innerHTML = '.' + fileType;\n            if (!fileType) {\n                fileTypeEle.classList.add('e-hidden');\n            }\n            if (!this.enableRtl) {\n                fileContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(fileTypeEle);\n            }\n            else {\n                var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                rtlContainer.appendChild(fileTypeEle);\n                rtlContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(rtlContainer);\n            }\n            this.truncateName(fileNameEle);\n            statusMessage = this.formValidateFileInfo(listItem, fileList);\n        }\n        fileList.appendChild(fileContainer);\n        this.setListToFileInfo(fileData, fileList);\n        var index = this.listParent.querySelectorAll('li').length;\n        var infoEle = this.createElement('span');\n        if (fileList.classList.contains(INVALID_FILE)) {\n            infoEle.classList.add(STATUS);\n            infoEle.classList.add(INVALID_FILE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            infoEle.classList.add(fileData.length > 1 ? INFORMATION : FILE_SIZE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData)) : this.bytesToSize(fileData[0].size);\n            this.createFormInput(fileData);\n        }\n        fileContainer.appendChild(infoEle);\n        if (isNullOrUndefined(fileList.querySelector('.e-icons'))) {\n            var iconElement = this.createElement('span', { className: 'e-icons', attrs: { 'tabindex': this.btnTabIndex } });\n            /* istanbul ignore next */\n            if (this.browserName === 'msie') {\n                iconElement.classList.add('e-msie');\n            }\n            iconElement.setAttribute('title', this.localizedTexts('remove'));\n            fileList.appendChild(fileContainer);\n            fileList.appendChild(iconElement);\n            EventHandler.add(iconElement, 'click', this.removeFiles, this);\n            iconElement.classList.add(REMOVE_ICON);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n    };\n    Uploader.prototype.formValidateFileInfo = function (listItem, fileList) {\n        var statusMessage = listItem.status;\n        var validationMessages = this.validatedFileSize(listItem.size);\n        if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n            this.addInvalidClass(fileList);\n            statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n        }\n        var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n        if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n            this.addInvalidClass(fileList);\n            statusMessage = typeValidationMessage;\n        }\n        return statusMessage;\n    };\n    Uploader.prototype.addInvalidClass = function (fileList) {\n        fileList.classList.add(INVALID_FILE);\n    };\n    Uploader.prototype.createFormInput = function (fileData) {\n        if (this.browserName !== 'safari') {\n            var inputElement = this.element.cloneNode(true);\n            inputElement.classList.add(HIDDEN_INPUT);\n            for (var _i = 0, fileData_3 = fileData; _i < fileData_3.length; _i++) {\n                var listItem = fileData_3[_i];\n                listItem.input = inputElement;\n            }\n            inputElement.setAttribute('name', this.uploaderName);\n            this.uploadWrapper.querySelector('.' + INPUT_WRAPPER).appendChild(inputElement);\n            if (this.browserName !== 'msie' && this.browserName !== 'edge') {\n                this.element.value = '';\n            }\n        }\n    };\n    Uploader.prototype.getFileSize = function (fileData) {\n        var fileSize = 0;\n        for (var _i = 0, fileData_4 = fileData; _i < fileData_4.length; _i++) {\n            var file = fileData_4[_i];\n            fileSize += file.size;\n        }\n        return fileSize;\n    };\n    Uploader.prototype.mergeFileInfo = function (fileData, fileList) {\n        var result = {\n            name: '',\n            rawFile: '',\n            size: 0,\n            status: '',\n            type: '',\n            validationMessages: { minSize: '', maxSize: '' },\n            statusCode: '1',\n            list: fileList\n        };\n        var fileNames = [];\n        var type = '';\n        for (var _i = 0, fileData_5 = fileData; _i < fileData_5.length; _i++) {\n            var listItem = fileData_5[_i];\n            fileNames.push(listItem.name);\n            type = listItem.type;\n        }\n        result.name = fileNames.join(', ');\n        result.size = this.getFileSize(fileData);\n        result.type = type;\n        result.status = this.statusForFormUpload(fileData, fileList);\n        return result;\n    };\n    Uploader.prototype.statusForFormUpload = function (fileData, fileList) {\n        var isValid = true;\n        var statusMessage;\n        for (var _i = 0, fileData_6 = fileData; _i < fileData_6.length; _i++) {\n            var listItem = fileData_6[_i];\n            statusMessage = listItem.status;\n            var validationMessages = this.validatedFileSize(listItem.size);\n            if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n                isValid = false;\n                statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                    validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n            }\n            var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n            if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n                isValid = false;\n                statusMessage = typeValidationMessage;\n            }\n        }\n        if (!isValid) {\n            fileList.classList.add(INVALID_FILE);\n            statusMessage = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            statusMessage = this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData));\n        }\n        return statusMessage;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.formCustomFileList = function (fileData, files) {\n        this.createParentUL();\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        this.setListToFileInfo(fileData, fileList);\n        var result = this.mergeFileInfo(fileData, fileList);\n        fileList.setAttribute('data-file-name', result.name);\n        this.uploadTemplateFn = this.templateComplier(this.template);\n        var liTempCompiler = this.uploadTemplateFn(result, this, 'template', this.element.id + 'Template', this.isStringTemplate, null, fileList);\n        if (liTempCompiler) {\n            var fromElements = [].slice.call(liTempCompiler);\n            append(fromElements, fileList);\n        }\n        var index = this.listParent.querySelectorAll('li').length;\n        if (!fileList.classList.contains(INVALID_FILE)) {\n            this.createFormInput(fileData);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n        this.renderReactTemplates();\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Create the file list for specified files data.\n     *\n     * @param { FileInfo[] } fileData - Specifies the files data for file list creation.\n     * @returns {void}\n     */\n    Uploader.prototype.createFileList = function (fileData, isSelectedFile) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            if (this.isFormUpload()) {\n                this.uploadWrapper.classList.add(FORM_UPLOAD);\n                this.formCustomFileList(fileData, this.element.files);\n            }\n            else {\n                this.createCustomfileList(fileData);\n            }\n        }\n        else if (this.isFormUpload()) {\n            this.uploadWrapper.classList.add(FORM_UPLOAD);\n            this.formFileList(fileData, this.element.files);\n        }\n        else {\n            for (var _i = 0, fileData_7 = fileData; _i < fileData_7.length; _i++) {\n                var listItem = fileData_7[_i];\n                var liElement = this.createElement('li', {\n                    className: FILE,\n                    attrs: { 'data-file-name': listItem.name, 'data-files-count': '1' }\n                });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                var fileType = this.getFileType(listItem.name);\n                fileExtension.innerHTML = '.' + fileType;\n                if (!fileType) {\n                    fileExtension.classList.add('e-hidden');\n                }\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons',\n                    attrs: { 'tabindex': this.btnTabIndex } });\n                /* istanbul ignore next */\n                if (this.browserName === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(DELETE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(DELETE_ICON)) {\n                    iconElement.classList.add(REMOVE_ICON);\n                }\n                var index = fileData.indexOf(listItem);\n                var eventArgs = {\n                    element: liElement,\n                    fileInfo: listItem,\n                    index: index,\n                    isPreload: this.isPreLoadFile(listItem)\n                };\n                var eventsArgs = {\n                    element: liElement,\n                    fileInfo: listItem,\n                    index: index,\n                    isPreload: this.isPreLoadFile(listItem)\n                };\n                this.trigger('rendering', eventArgs);\n                this.trigger('fileListRendering', eventsArgs);\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n                var preventActionComplete = this.flag;\n                if (this.isPreLoadFile(listItem)) {\n                    this.flag = false;\n                    this.checkActionComplete(true);\n                    this.flag = preventActionComplete;\n                }\n            }\n        }\n    };\n    Uploader.prototype.getSlicedName = function (nameElement) {\n        var text = nameElement.textContent;\n        nameElement.dataset.tail = text.slice(text.length - 10);\n    };\n    Uploader.prototype.setListToFileInfo = function (fileData, fileList) {\n        for (var _i = 0, fileData_8 = fileData; _i < fileData_8.length; _i++) {\n            var listItem = fileData_8[_i];\n            listItem.list = fileList;\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        if (this.browserName !== 'edge' && nameElement.offsetWidth < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n            /* istanbul ignore next */\n        }\n        else if (nameElement.offsetWidth + 1 < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode, updateLiStatus) {\n        if (updateLiStatus === void 0) { updateLiStatus = true; }\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        if (updateLiStatus) {\n            var li = this.getLiElement(files);\n            if (!isNullOrUndefined(li)) {\n                if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                    li.querySelector('.' + STATUS).textContent = status;\n                }\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index;\n        for (var i = 0; i < this.filesData.length; i++) {\n            if (!isNullOrUndefined(files) && ((!isNullOrUndefined(this.filesData[i].id) &&\n                !isNullOrUndefined(files.id)) ? (this.filesData[i].name === files.name &&\n                this.filesData[i].id === files.id) : this.filesData[i].name === files.name)) {\n                index = i;\n            }\n        }\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI)) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                this.cancelUploadingFile(files, e, request, li);\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + REMOVE_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(REMOVE_ICON);\n            }\n        }\n        else {\n            this.cancelUploadingFile(files, e, request);\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.cancelUploadingFile = function (files, e, request, li) {\n        var _this = this;\n        if (files.statusCode === '5') {\n            var eventArgs = {\n                event: e,\n                fileData: files,\n                cancel: false,\n                customFormData: []\n            };\n            this.trigger('canceling', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    files.statusCode = '3';\n                    if (!isNullOrUndefined(li)) {\n                        var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(li.querySelector('.e-spinner-pane'));\n                        }\n                    }\n                }\n                else {\n                    request.emitError = false;\n                    request.httpRequest.abort();\n                    var formData = new FormData();\n                    if (files.statusCode === '5') {\n                        var name_1 = _this.element.getAttribute('name');\n                        formData.append(name_1, files.name);\n                        formData.append('cancel-uploading', files.name);\n                        _this.updateFormData(formData, eventArgs.customFormData);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) {\n                            _this.removecanceledFile(e, files);\n                            return {};\n                        };\n                        ajax.send(formData);\n                    }\n                }\n            });\n        }\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (isNullOrUndefined(liElement) || liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            if (!isNullOrUndefined(liElement.querySelector('.e-spinner-pane'))) {\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = { event: e, response: requestResponse, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(REMOVE_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n        deleteIcon.parentElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) {\n            _this.reloadcanceledFile(e, file, liElement, false);\n        }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement, custom) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        if (!custom) {\n            if (!isNullOrUndefined(liElement.querySelector('.' + STATUS))) {\n                liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n                detach(liElement.querySelector('.' + RETRY_ICON));\n            }\n            this.pauseButton = null;\n        }\n        /* istanbul ignore next */\n        liElement.classList.add(RESTRICT_RETRY);\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(DELETE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.getResponse = function (e) {\n        var target = e.currentTarget;\n        var response = {\n            readyState: target.readyState,\n            statusCode: target.status,\n            statusText: target.statusText,\n            headers: target.getAllResponseHeaders(),\n            withCredentials: target.withCredentials\n        };\n        return response;\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var _this = this;\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadSuccessMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '2', false), statusText: statusMessage\n        };\n        var liElement = this.getLiElement(file);\n        if (!isNullOrUndefined(liElement)) {\n            var spinnerEle = liElement.querySelector('.' + SPINNER_PANE);\n            if (!isNullOrUndefined(spinnerEle)) {\n                hideSpinner(liElement);\n                detach(spinnerEle);\n            }\n        }\n        this.trigger('success', args, function (args) {\n            _this.updateStatus(file, args.statusText, '2');\n            _this.uploadedFilesData.push(file);\n            _this.trigger('change', { file: _this.uploadedFilesData });\n            _this.checkActionButtonStatus();\n            if (_this.fileList.length > 0) {\n                if ((!(_this.getLiElement(file)).classList.contains(RESTRICT_RETRY))) {\n                    _this.uploadSequential();\n                    _this.checkActionComplete(true);\n                }\n                else {\n                    /* istanbul ignore next */\n                    (_this.getLiElement(file)).classList.remove(RESTRICT_RETRY);\n                }\n            }\n        });\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var _this = this;\n        var li = this.getLiElement(file);\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadFailedMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '0', false), statusText: statusMessage\n        };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args, function (args) {\n            _this.updateStatus(file, args.statusText, '0');\n            _this.checkActionButtonStatus();\n            _this.uploadSequential();\n            _this.checkActionComplete(true);\n        });\n    };\n    Uploader.prototype.uploadSequential = function () {\n        if (this.sequentialUpload) {\n            if (this.autoUpload) {\n                /* istanbul ignore next */\n                this.checkAutoUpload(this.filesData);\n            }\n            else {\n                this.uploadButtonClick();\n            }\n        }\n    };\n    Uploader.prototype.checkActionComplete = function (increment) {\n        if (increment) {\n            ++this.actionCompleteCount;\n        }\n        else {\n            --this.actionCompleteCount;\n        }\n        this.raiseActionComplete();\n    };\n    Uploader.prototype.raiseActionComplete = function () {\n        if ((this.filesData.length === this.actionCompleteCount) && this.flag) {\n            this.flag = false;\n            var eventArgs = {\n                fileData: []\n            };\n            eventArgs.fileData = this.getSelectedFileStatus(this.selectedFiles);\n            this.trigger('actionComplete', eventArgs);\n        }\n    };\n    Uploader.prototype.getSelectedFileStatus = function (selectedFiles) {\n        var matchFiles = [];\n        var matchFilesIndex = 0;\n        for (var selectFileIndex = 0; selectFileIndex < selectedFiles.length; selectFileIndex++) {\n            var selectedFileData = selectedFiles[selectFileIndex];\n            for (var fileDataIndex = 0; fileDataIndex < this.filesData.length; fileDataIndex++) {\n                if (this.filesData[fileDataIndex].name === selectedFileData.name) {\n                    matchFiles[matchFilesIndex] = this.filesData[fileDataIndex];\n                    ++matchFilesIndex;\n                }\n            }\n        }\n        return matchFiles;\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () {\n                _this.animateProgressBar(li, callType);\n            }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        if (extensions !== '' && !isNullOrUndefined(extensions)) {\n            this.element.setAttribute('accept', extensions);\n        }\n        else {\n            this.element.removeAttribute('accept');\n        }\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            try {\n                if (selectAll(uploadTemplate, document).length) {\n                    return compile(select(uploadTemplate, document).innerHTML.trim());\n                }\n                else {\n                    return compile(uploadTemplate);\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        if (this.enableRtl) {\n            addClass([this.uploadWrapper], RTL);\n        }\n        else {\n            removeClass([this.uploadWrapper], RTL);\n        }\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['accept', 'multiple', 'disabled'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'accept':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['allowedExtensions'] === undefined))\n                            || isDynamic) {\n                            this.setProperties({ allowedExtensions: this.element.getAttribute('accept') }, !isDynamic);\n                            this.initialAttr.accept = this.allowedExtensions;\n                        }\n                        break;\n                    case 'multiple':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['multiple'] === undefined)) || isDynamic) {\n                            var isMutiple = this.element.getAttribute(prop) === 'multiple' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ multiple: isMutiple }, !isDynamic);\n                            this.initialAttr.multiple = true;\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['enabled'] === undefined)) || isDynamic) {\n                            var isDisabled = this.element.getAttribute(prop) === 'disabled' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: isDisabled }, !isDynamic);\n                            this.initialAttr.disabled = true;\n                        }\n                }\n            }\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom, fileIndex) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom, fileIndex);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.sendRequest = function (file, metaData, custom, fileIndex) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append(this.uploaderName, blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        formData.append('chunkIndex', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        formData.append('totalChunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.emitError = false;\n        ajax.onLoad = function (e) {\n            _this.chunkUploadComplete(e, metaData, custom);\n            return {};\n        };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            eventArgs.currentChunkIndex = metaData.chunkIndex;\n            if (eventArgs.currentChunkIndex === 0) {\n                // This event is currently not required but to avoid breaking changes for previous customer, we have included.\n                _this.trigger('uploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n            else {\n                _this.trigger('chunkUploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) {\n            _this.chunkUploadFailed(e, metaData, custom);\n            return {};\n        };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.uploadingEventCallback = function (formData, eventArgs, e, file) {\n        if (eventArgs.cancel) {\n            this.eventCancelByArgs(e, eventArgs, file);\n        }\n        else {\n            this.updateFormData(formData, eventArgs.customFormData);\n        }\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        var liElement = this.getLiElement(eventArgs.fileData);\n        if (liElement) {\n            if (!isNullOrUndefined(liElement.querySelector('.' + STATUS))) {\n                liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n                liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n            var removeIcon = liElement.querySelector('.' + REMOVE_ICON);\n            if (removeIcon) {\n                removeIcon.parentElement.insertBefore(this.pauseButton, removeIcon);\n            }\n            this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n            /* istanbul ignore next */\n            this.pauseButton.addEventListener('click', function (e) {\n                _this.reloadcanceledFile(e, file, liElement);\n            }, false);\n            this.checkActionButtonStatus();\n        }\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize,\n                response: requestResponse\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_1 = { event: e, fileData: metaData.file, cancel: false, customFormData: [] };\n                this.trigger('canceling', eventArgs_1, function (eventArgs) {\n                    /* istanbul ignore next */\n                    if (eventArgs.cancel) {\n                        metaData.file.statusCode = '3';\n                        var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(liElement.querySelector('.e-spinner-pane'));\n                        }\n                        _this.sendNextRequest(metaData);\n                    }\n                    else {\n                        metaData.request.emitError = false;\n                        response.abort();\n                        var formData = new FormData();\n                        var name_2 = _this.element.getAttribute('name');\n                        formData.append(name_2, metaData.file.name);\n                        formData.append('cancel-uploading', metaData.file.name);\n                        formData.append('cancelUploading', metaData.file.name);\n                        _this.updateFormData(formData, eventArgs.customFormData);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) {\n                            _this.removeChunkFile(e, metaData, custom);\n                            return {};\n                        };\n                        ajax.send(formData);\n                    }\n                });\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement && !isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                if (metaData.file.statusCode !== '4') {\n                    this.sendNextRequest(metaData);\n                }\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon && deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon && deleteIcon.classList.add(REMOVE_ICON);\n            deleteIcon && deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon && pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon && pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon && pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)\n                && !isNullOrUndefined(liElement.querySelector('.e-spinner-pane'))) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        if (metaData.file.statusCode !== '4') {\n            metaData.request.emitError = false;\n            metaData.request.httpRequest.abort();\n        }\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n            targetElement.nextElementSibling.classList.add(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.remove(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('remove'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n            targetElement.nextElementSibling.classList.remove(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.add(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('abort'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(DELETE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize,\n            cancel: false,\n            response: requestResponse\n        };\n        this.trigger('chunkFailure', eventArgs, function (eventArgs) {\n            // To prevent triggering of failure event\n            if (!eventArgs.cancel) {\n                if (metaData.retryCount < _this.asyncSettings.retryCount) {\n                    setTimeout(function () {\n                        _this.retryRequest(liElement, metaData, custom);\n                    }, _this.asyncSettings.retryAfterDelay);\n                }\n                else {\n                    if (!isNullOrUndefined(liElement)) {\n                        var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                            liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                        if (!isNullOrUndefined(pauseButton)) {\n                            pauseButton.classList.add(RETRY_ICON);\n                            pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                        }\n                        _this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                        _this.removeProgressbar(liElement, 'failure');\n                        liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                        var iconElement = liElement.querySelector('.' + ABORT_ICON) ?\n                            liElement.querySelector('.' + ABORT_ICON) : liElement.querySelector('.' + REMOVE_ICON);\n                        iconElement.classList.remove(ABORT_ICON);\n                        if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        if (metaData.start > 0) {\n                            iconElement.classList.add(DELETE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('delete'));\n                        }\n                        else {\n                            iconElement.classList.add(REMOVE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('remove'));\n                        }\n                    }\n                    metaData.retryCount = 0;\n                    var file_1 = metaData.file;\n                    var failureMessage = _this.localizedTexts('uploadFailedMessage');\n                    var args = {\n                        e: e, response: requestResponse,\n                        operation: 'upload',\n                        file: _this.updateStatus(file_1, failureMessage, '0', false),\n                        statusText: failureMessage\n                    };\n                    _this.trigger('failure', args, function (args) {\n                        _this.updateStatus(file_1, args.statusText, '0');\n                        _this.uploadSequential();\n                        _this.checkActionComplete(true);\n                    });\n                }\n            }\n        });\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            /* istanbul ignore next */\n            this.pauseUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            /* istanbul ignore next */\n            this.resumeUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n        /* istanbul ignore next */\n        (this.getLiElement(metaData.file)).classList.add(RESTRICT_RETRY);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + REMOVE_ICON) ? liElement.querySelector('.' + REMOVE_ICON) :\n                    liElement.querySelector('.' + DELETE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(REMOVE_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var progressVal = void 0;\n                var totalChunks = Math.ceil(metaData.file.size / this.asyncSettings.chunkSize) - 1;\n                if (this.asyncSettings.chunkSize && totalChunks) {\n                    progressVal = Math.round(metaData.chunkIndex / totalChunks * 100);\n                    this.changeProgressValue(liElement, progressVal.toString() + '%');\n                }\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)\n            && isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': this.btnTabIndex } });\n            if (this.browserName === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            var abortIcon = liElement.querySelector('.' + ABORT_ICON);\n            abortIcon.parentElement.insertBefore(this.pauseButton, abortIcon);\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) {\n                _this.checkPausePlayAction(e);\n            }, false);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     *\n     * @param { number } bytes - Specifies the file size in bytes.\n     * @returns {string}\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     *\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns {File[]}\n     */\n    /* istanbul ignore next */\n    Uploader.prototype.sortFileList = function (filesData) {\n        filesData = filesData ? filesData : this.sortFilesList;\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearTemplate();\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        var attributes = ['aria-label', 'directory', 'webkitdirectory', 'tabindex'];\n        for (var _i = 0, attributes_2 = attributes; _i < attributes_2.length; _i++) {\n            var key = attributes_2[_i];\n            this.element.removeAttribute(key);\n        }\n        if (!isNullOrUndefined(this.uploadWrapper)) {\n            this.uploadWrapper.parentElement.appendChild(this.element);\n            detach(this.uploadWrapper);\n        }\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     *\n     * @param { FileInfo | FileInfo[] } files - Specifies the files data for upload.\n     * @param {boolean} custom - Specifies whether the uploader is rendered with custom file list.\n     * @returns {void}\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var _this = this;\n        files = files ? files : this.filesData;\n        if (this.sequentialUpload && (this.isFirstFileOnSelection || custom)) {\n            this.sequenceUpload(files);\n        }\n        else {\n            var uploadFiles_1 = this.getFilesInArray(files);\n            var eventArgs = {\n                customFormData: [],\n                currentRequest: null,\n                cancel: false\n            };\n            this.trigger('beforeUpload', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.uploadFiles(uploadFiles_1, custom);\n                }\n            });\n        }\n    };\n    Uploader.prototype.getFilesInArray = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverReadFileBase64 = function (fileIndex, position, totalCount) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var file = _this.fileStreams[fileIndex].rawFile;\n            try {\n                var reader = new FileReader();\n                reader.onload = (function (args) {\n                    return function () {\n                        try {\n                            var contents = args.result;\n                            var data = contents ? contents.split(';base64,')[1] : null;\n                            resolve(data);\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    };\n                })(reader);\n                reader.readAsDataURL(file.slice(position, position + totalCount));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.uploadFileCount = function (ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var result = files.length;\n        return result;\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.getFileRead = function (index, ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var file = files[index];\n        var fileCount = this.newFileRef++;\n        this.fileStreams[fileCount] = file;\n        return fileCount;\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.getFileInfo = function (index, ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return null;\n        }\n        var file = files[index];\n        if (!file) {\n            return null;\n        }\n        return this.filesData[index];\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        for (var i = 0; i < selectedFiles.length; i++) {\n            this.uploadFilesRequest(selectedFiles, i, custom);\n        }\n    };\n    Uploader.prototype.uploadFilesRequest = function (selectedFiles, i, custom) {\n        var _this = this;\n        var cloneFiles = [];\n        var chunkEnabled = this.checkChunkUpload();\n        var ajax = new Ajax(this.asyncSettings.saveUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var getFileData;\n        var eventArgs = {\n            fileData: selectedFiles[i],\n            customFormData: [],\n            cancel: false\n        };\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs, function (eventArgs) {\n                /* istanbul ignore next */\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            });\n        };\n        if (selectedFiles[i].statusCode === '1') {\n            var name_4 = this.element.getAttribute('name');\n            formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n            if (chunkEnabled && selectedFiles[i].size > this.asyncSettings.chunkSize) {\n                this.chunkUpload(selectedFiles[i], custom, i);\n            }\n            else {\n                ajax.onLoad = function (e) {\n                    if (eventArgs.cancel) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadComplete(e, selectedFiles[i], custom);\n                        return {};\n                    }\n                };\n                ajax.onUploadProgress = function (e) {\n                    if (eventArgs.cancel) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    }\n                };\n                /* istanbul ignore next */\n                ajax.onError = function (e) {\n                    _this.uploadFailed(e, selectedFiles[i]);\n                    return {};\n                };\n                ajax.send(formData);\n            }\n        }\n    };\n    Uploader.prototype.spliceFiles = function (liIndex) {\n        var liElement = this.fileList[liIndex];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < liIndex; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        var endIndex = (startIndex + nameElements) - 1;\n        for (var j = endIndex; j >= startIndex; j--) {\n            allFiles.splice(j, 1);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (“file_data”).\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @param { boolean } postRawFile - Set false, to post file name only to the remove action.\n     * @returns {void}\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, postRawFile, args) {\n        var _this = this;\n        if (isNullOrUndefined(postRawFile)) {\n            postRawFile = true;\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: postRawFile,\n            currentRequest: null\n        };\n        var beforeEventArgs = {\n            cancel: false,\n            customFormData: [],\n            currentRequest: null\n        };\n        this.trigger('beforeRemove', beforeEventArgs, function (beforeEventArgs) {\n            if (!beforeEventArgs.cancel) {\n                if (_this.isFormUpload()) {\n                    eventArgs.filesData = fileData;\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            var removingFiles = _this.getFilesInArray(fileData);\n                            var isLiRemoved = false;\n                            var liIndex = void 0;\n                            for (var _i = 0, removingFiles_1 = removingFiles; _i < removingFiles_1.length; _i++) {\n                                var data = removingFiles_1[_i];\n                                if (!isLiRemoved) {\n                                    liIndex = _this.fileList.indexOf(data.list);\n                                }\n                                if (liIndex > -1) {\n                                    var inputElement = !isNullOrUndefined(data.input) ? data.input : null;\n                                    if (inputElement) {\n                                        detach(inputElement);\n                                    }\n                                    _this.spliceFiles(liIndex);\n                                    detach(_this.fileList[liIndex]);\n                                    _this.fileList.splice(liIndex, 1);\n                                    isLiRemoved = true;\n                                    liIndex = -1;\n                                }\n                            }\n                        }\n                    });\n                }\n                else if (_this.isForm && (isNullOrUndefined(_this.asyncSettings.removeUrl) || _this.asyncSettings.removeUrl === '')) {\n                    eventArgs.filesData = _this.getFilesData();\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            _this.clearAll();\n                        }\n                    });\n                }\n                else {\n                    var removeFiles = [];\n                    fileData = !isNullOrUndefined(fileData) ? fileData : _this.filesData;\n                    if (fileData instanceof Array) {\n                        removeFiles = fileData;\n                    }\n                    else {\n                        removeFiles.push(fileData);\n                    }\n                    eventArgs.filesData = removeFiles;\n                    var removeUrl = _this.asyncSettings.removeUrl;\n                    var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n                    var _loop_5 = function (files) {\n                        var fileUploadedIndex = _this.uploadedFilesData.indexOf(files);\n                        if ((files.statusCode === '2' || files.statusCode === '4' || (files.statusCode === '0' &&\n                            fileUploadedIndex !== -1)) && validUrl) {\n                            _this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n                        }\n                        else {\n                            if (!removeDirectly) {\n                                _this.trigger('removing', eventArgs, function (eventArgs) {\n                                    if (!eventArgs.cancel) {\n                                        _this.removeFilesData(files, customTemplate);\n                                    }\n                                });\n                            }\n                            else {\n                                _this.removeFilesData(files, customTemplate);\n                            }\n                        }\n                        if (args && !args.target.classList.contains(REMOVE_ICON)) {\n                            _this.checkActionComplete(false);\n                        }\n                    };\n                    for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n                        var files = removeFiles_1[_i];\n                        _loop_5(files);\n                    }\n                }\n            }\n        });\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     *\n     * @returns {void}\n     */\n    Uploader.prototype.clearAll = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.listParent)) {\n            if (this.browserName !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.clearData();\n                _this.actionCompleteCount = 0;\n                _this.count = -1;\n            }\n        });\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Get the data of files which are shown in file list.\n     *\n     * @param { number } index - specifies the file list item(li) index.\n     * @returns {FileInfo[]}\n     */\n    Uploader.prototype.getFilesData = function (index) {\n        if (isNullOrUndefined(index)) {\n            return this.filesData;\n        }\n        else {\n            return this.getSelectedFiles(index);\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns {void}\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns {void}\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @param {boolean} custom -Specifies whether the uploader is rendered with custom file list.\n     * @returns {void}\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        if (this.sequentialUpload && this.isFirstFileOnSelection) {\n            this.isFirstFileOnSelection = false;\n        }\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage, custom);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = void 0;\n                    if (!custom) {\n                        liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    }\n                    this.reloadcanceledFile(null, files[i], liElement, custom);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns {void}\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        fileData = fileData ? fileData : this.filesData;\n        var cancelingFiles = this.getFilesInArray(fileData);\n        this.cancelUpload(cancelingFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        if (this.asyncSettings.chunkSize > 0) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    var metaData = this.getCurrentMetaData(files[i], null);\n                    metaData.file.statusCode = '5';\n                    metaData.file.status = this.localizedTexts('fileUploadCancel');\n                    this.updateMetaData(metaData);\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    files[i].statusCode = '5';\n                    files[i].status = this.localizedTexts('fileUploadCancel');\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.showHideUploadSpinner = function (files) {\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n            var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"sequentialUpload\", void 0);\n    __decorate([\n        Property({})\n    ], Uploader.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"directoryUpload\", void 0);\n    __decorate([\n        Property('Default')\n    ], Uploader.prototype, \"dropEffect\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"rendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeUpload\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"fileListRendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeRemove\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkUploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","import { addClass, detach, EventHandler, isNullOrUndefined, select, Ajax, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser, closest, removeClass, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { Uploader, TextBox } from '@syncfusion/ej2-inputs';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button, CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml, hasClass, convertToBlob } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Image` module is used to handle image actions.\n */\nvar Image = /** @class */ (function () {\n    function Image(parent, serviceLocator) {\n        this.isImgUploaded = false;\n        this.isAllowedTypes = true;\n        this.pageX = null;\n        this.pageY = null;\n        this.mouseX = null;\n        this.deletedImg = [];\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n        this.addEventListener();\n    }\n    Image.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.keyUp, this.onKeyUp, this);\n        this.parent.on(events.insertImage, this.insertImage, this);\n        this.parent.on(events.showImageDialog, this.showDialog, this);\n        this.parent.on(events.closeImageDialog, this.closeDialog, this);\n        this.parent.on(events.windowResize, this.onWindowResize, this);\n        this.parent.on(events.insertCompleted, this.showImageQuickToolbar, this);\n        this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(events.imageToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.imageCaption, this.caption, this);\n        this.parent.on(events.imageDelete, this.deleteImg, this);\n        this.parent.on(events.imageLink, this.insertImgLink, this);\n        this.parent.on(events.imageAlt, this.insertAltText, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.imageSize, this.imageSize, this);\n        this.parent.on(events.dropDownSelect, this.alignmentSelect, this);\n        this.parent.on(events.initialEnd, this.afterRender, this);\n        this.parent.on(events.dynamicModule, this.afterRender, this);\n        this.parent.on(events.paste, this.imagePaste, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    Image.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.keyUp, this.onKeyUp);\n        this.parent.off(events.windowResize, this.onWindowResize);\n        this.parent.off(events.insertImage, this.insertImage);\n        this.parent.off(events.showImageDialog, this.showDialog);\n        this.parent.off(events.closeImageDialog, this.closeDialog);\n        this.parent.off(events.insertCompleted, this.showImageQuickToolbar);\n        this.parent.off(events.clearDialogObj, this.clearDialogObj);\n        this.parent.off(events.imageCaption, this.caption);\n        this.parent.off(events.imageToolbarAction, this.onToolbarAction);\n        this.parent.off(events.imageDelete, this.deleteImg);\n        this.parent.off(events.imageLink, this.insertImgLink);\n        this.parent.off(events.imageAlt, this.insertAltText);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.imageSize, this.imageSize);\n        this.parent.off(events.dropDownSelect, this.alignmentSelect);\n        this.parent.off(events.initialEnd, this.afterRender);\n        this.parent.off(events.dynamicModule, this.afterRender);\n        this.parent.off(events.paste, this.imagePaste);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n        this.parent.off(events.destroy, this.removeEventListener);\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument\n            : this.parent.inputElement;\n        dropElement.removeEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.removeEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.removeEventListener('dragenter', this.dragEnter.bind(this), true);\n        dropElement.removeEventListener('dragover', this.dragOver.bind(this), true);\n        if (!isNullOrUndefined(this.contentModule)) {\n            EventHandler.remove(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick);\n            this.parent.formatter.editorManager.observer.off(events.checkUndo, this.undoStack);\n            if (this.parent.insertImageSettings.resize) {\n                EventHandler.remove(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart);\n                EventHandler.remove(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick);\n                EventHandler.remove(this.contentModule.getEditPanel(), 'cut', this.onCutHandler);\n            }\n        }\n    };\n    Image.prototype.updateCss = function (currentObj, e) {\n        if (currentObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                currentObj.setProperties({ cssClass: (currentObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    Image.prototype.setCssClass = function (e) {\n        if (this.popupObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                addClass([this.popupObj.element], e.cssClass);\n            }\n            else {\n                removeClass([this.popupObj.element], e.oldCssClass);\n                addClass([this.popupObj.element], e.cssClass);\n            }\n        }\n        this.updateCss(this.checkBoxObj, e);\n        this.updateCss(this.widthNum, e);\n        this.updateCss(this.heightNum, e);\n        this.updateCss(this.uploadObj, e);\n        this.updateCss(this.dialogObj, e);\n    };\n    Image.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Image.prototype.afterRender = function () {\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n        EventHandler.add(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick, this);\n        if (this.parent.insertImageSettings.resize) {\n            EventHandler.add(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart, this);\n            EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.contentModule.getEditPanel(), 'cut', this.onCutHandler, this);\n        }\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument :\n            this.parent.inputElement;\n        dropElement.addEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.addEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.addEventListener('dragenter', this.dragOver.bind(this), true);\n        dropElement.addEventListener('dragover', this.dragOver.bind(this), true);\n    };\n    Image.prototype.undoStack = function (args) {\n        if (args.subCommand.toLowerCase() === 'undo' || args.subCommand.toLowerCase() === 'redo') {\n            for (var i = 0; i < this.parent.formatter.getUndoRedoStack().length; i++) {\n                var temp = this.parent.createElement('div');\n                var contentElem = parseHtml(this.parent.formatter.getUndoRedoStack()[i].text);\n                temp.appendChild(contentElem);\n                var img = temp.querySelectorAll('img');\n                if (temp.querySelector('.e-img-resize') && img.length > 0) {\n                    for (var j = 0; j < img.length; j++) {\n                        img[j].style.outline = '';\n                    }\n                    detach(temp.querySelector('.e-img-resize'));\n                    this.parent.formatter.getUndoRedoStack()[i].text = temp.innerHTML;\n                }\n            }\n        }\n    };\n    Image.prototype.resizeEnd = function (e) {\n        this.resizeBtnInit();\n        this.imgEle.parentElement.style.cursor = 'auto';\n        if (Browser.isDevice) {\n            removeClass([e.target.parentElement], 'e-mob-span');\n        }\n        var args = { event: e, requestType: 'images' };\n        this.parent.trigger(events.resizeStop, args);\n        /* eslint-disable */\n        var pageX = this.getPointX(e);\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + e.clientY : e.pageY;\n        /* eslint-enable */\n        this.parent.formatter.editorManager.observer.on(events.checkUndo, this.undoStack, this);\n        this.parent.formatter.saveData();\n    };\n    Image.prototype.resizeStart = function (e, ele) {\n        var _this = this;\n        if (this.parent.readonly) {\n            return;\n        }\n        var target = ele ? ele : e.target;\n        this.prevSelectedImgEle = this.imgEle;\n        if (target.tagName === 'IMG') {\n            this.parent.preventDefaultResize(e);\n            var img = target;\n            if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n                detach(this.imgResizeDiv);\n            }\n            this.imageResize(img);\n        }\n        if (target.classList.contains('e-rte-imageboxmark')) {\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            this.pageX = this.getPointX(e);\n            this.pageY = this.getPointY(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.resizeBtnInit();\n            if (this.quickToolObj) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n            if (target.classList.contains('e-rte-topLeft')) {\n                this.resizeBtnStat.topLeft = true;\n            }\n            if (target.classList.contains('e-rte-topRight')) {\n                this.resizeBtnStat.topRight = true;\n            }\n            if (target.classList.contains('e-rte-botLeft')) {\n                this.resizeBtnStat.botLeft = true;\n            }\n            if (target.classList.contains('e-rte-botRight')) {\n                this.resizeBtnStat.botRight = true;\n            }\n            if (Browser.isDevice && this.contentModule.getEditPanel().contains(this.imgResizeDiv) &&\n                !this.imgResizeDiv.classList.contains('e-mob-span')) {\n                addClass([this.imgResizeDiv], 'e-mob-span');\n            }\n            else {\n                var args = { event: e, requestType: 'images' };\n                this.parent.trigger(events.resizeStart, args, function (resizeStartArgs) {\n                    if (resizeStartArgs.cancel) {\n                        _this.cancelResizeAction();\n                    }\n                });\n            }\n            EventHandler.add(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd, this);\n        }\n    };\n    Image.prototype.imageClick = function (e) {\n        if (Browser.isDevice) {\n            if ((e.target.tagName === 'IMG' &&\n                e.target.parentElement.tagName === 'A') ||\n                (e.target.tagName === 'IMG')) {\n                this.contentModule.getEditPanel().setAttribute('contenteditable', 'false');\n                e.target.focus();\n            }\n            else {\n                if (!this.parent.readonly) {\n                    this.contentModule.getEditPanel().setAttribute('contenteditable', 'true');\n                }\n            }\n        }\n        if (e.target.tagName === 'IMG' &&\n            e.target.parentElement.tagName === 'A') {\n            e.preventDefault();\n        }\n    };\n    Image.prototype.onCutHandler = function () {\n        if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n    };\n    Image.prototype.imageResize = function (e) {\n        this.resizeBtnInit();\n        this.imgEle = e;\n        addClass([this.imgEle], 'e-resize');\n        this.imgResizeDiv = this.parent.createElement('span', { className: 'e-img-resize' + ' ' + this.parent.cssClass, id: this.rteID + '_imgResize' });\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topLeft' + ' ' + this.parent.cssClass, styles: 'cursor: nwse-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topRight' + ' ' + this.parent.cssClass, styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botLeft' + ' ' + this.parent.cssClass, styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botRight' + ' ' + this.parent.cssClass, styles: 'cursor: nwse-resize'\n        }));\n        if (Browser.isDevice) {\n            addClass([this.imgResizeDiv], 'e-mob-rte');\n        }\n        e.style.outline = '2px solid #4a90e2';\n        this.imgResizePos(e, this.imgResizeDiv);\n        this.resizeImgDupPos(e);\n        this.contentModule.getEditPanel().appendChild(this.imgResizeDiv);\n        EventHandler.add(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing, this);\n    };\n    Image.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Image.prototype.getPointY = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageY;\n        }\n        else {\n            return e.pageY;\n        }\n    };\n    Image.prototype.imgResizePos = function (e, imgResizeDiv) {\n        var pos = this.calcPos(e);\n        var top = pos.top;\n        var left = pos.left;\n        var imgWid = e.width;\n        var imgHgt = e.height;\n        var borWid = (Browser.isDevice) ? (4 * parseInt((e.style.outline.slice(-3)), 10)) + 2 :\n            (2 * parseInt((e.style.outline.slice(-3)), 10)) + 2; //span border width + image outline width\n        var devWid = ((Browser.isDevice) ? 0 : 2); // span border width\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.top = (top - (borWid)) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.top = (top - borWid) + 'px';\n    };\n    Image.prototype.calcPos = function (elem) {\n        var ignoreOffset = ['TD', 'TH', 'TABLE', 'A'];\n        var parentOffset = { top: 0, left: 0 };\n        var elementOffset;\n        var doc = elem.ownerDocument;\n        var offsetParent = ((elem.offsetParent && (elem.offsetParent.classList.contains('e-img-caption') ||\n            ignoreOffset.indexOf(elem.offsetParent.tagName) > -1)) ?\n            closest(elem, '#' + this.parent.getID() + '_rte-edit-view') : elem.offsetParent) || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            // eslint-disable-next-line\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        if (elem.offsetParent && (elem.offsetParent.classList.contains('e-img-caption'))) {\n            elementOffset = elem.getBoundingClientRect();\n            return {\n                top: elementOffset.top - parentOffset.top,\n                left: elementOffset.left - parentOffset.left\n            };\n        }\n        else {\n            return {\n                top: elem.offsetTop,\n                left: elem.offsetLeft\n            };\n        }\n    };\n    Image.prototype.setAspectRatio = function (img, expectedX, expectedY, e) {\n        if (isNullOrUndefined(img.width)) {\n            return;\n        }\n        var width = img.style.width !== '' ? img.style.width.match(/^\\d+(\\.\\d*)?%$/g) ? parseFloat(img.style.width) :\n            parseInt(img.style.width, 10) : img.width;\n        var height = img.style.height !== '' ? parseInt(img.style.height, 10) : img.height;\n        if (width > height) {\n            img.style.minWidth = this.parent.insertImageSettings.minWidth === 0 ? '20px' : formatUnit(this.parent.insertImageSettings.minWidth);\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                if (parseInt('' + img.getBoundingClientRect().width + '', 10) !== 0 && parseInt('' + width + '', 10) !== 0) {\n                    var original = img.offsetWidth + this.mouseX;\n                    var finalWidthByPerc = (original / img.offsetWidth) * (parseFloat(img.style.width).toString() == 'NaN' ? (img.offsetWidth / (parseFloat(getComputedStyle(this.parent.element).width)) * 100) : parseFloat(img.style.width));\n                    img.style.width = ((finalWidthByPerc > 3) ? finalWidthByPerc : 3) + '%';\n                }\n                else {\n                    img.style.width = this.pixToPerc((width / height * expectedY), (img.previousElementSibling || img.parentElement)) + '%';\n                }\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width === '' && img.style.height !== '') {\n                img.style.height = expectedY + 'px';\n            }\n            else if (img.style.width !== '' && img.style.height === '') {\n                var currentWidth = ((width / height * expectedY) + width / height) < (this.parent.inputElement.getBoundingClientRect().right - 32) ?\n                    ((width / height * expectedY) + width / height) : (this.parent.inputElement.getBoundingClientRect().right - 32);\n                img.style.width = currentWidth.toString() + 'px';\n            }\n            else if (img.style.width !== '') {\n                var currentWidth = (width / height * expectedY) < (this.parent.inputElement.getBoundingClientRect().right - 32) ?\n                    (width / height * expectedY) : (this.parent.inputElement.getBoundingClientRect().right - 32);\n                img.style.width = currentWidth + 'px';\n                img.style.height = expectedY + 'px';\n            }\n            else {\n                if (this.parent.iframeSettings.enable) {\n                    img.setAttribute('width', (img.width + this.mouseX).toString());\n                }\n                else {\n                    img.setAttribute('width', (img.offsetWidth + this.mouseX).toString());\n                }\n            }\n        }\n        else if (height > width) {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                if (parseInt('' + img.getBoundingClientRect().width + '', 10) !== 0 && parseInt('' + width + '', 10) !== 0) {\n                    var original = img.offsetWidth + this.mouseX;\n                    var finalWidthByPerc = (original / img.offsetWidth) * (parseFloat(img.style.width).toString() == 'NaN' ? (img.offsetWidth / (parseFloat(getComputedStyle(this.parent.element).width)) * 100) : parseFloat(img.style.width));\n                    img.style.width = ((finalWidthByPerc > 3) ? finalWidthByPerc : 3) + '%';\n                }\n                else {\n                    img.style.width = this.pixToPerc((expectedX / height * expectedY), (img.previousElementSibling || img.parentElement)) + '%';\n                }\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = expectedX + 'px';\n                img.style.height = (height / width * expectedX) + 'px';\n            }\n            else {\n                img.setAttribute('width', this.resizeBtnStat.botRight ? (this.getPointX(e.event) - img.getBoundingClientRect().left).toString() : expectedX.toString());\n            }\n        }\n        else {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                img.style.width = this.pixToPerc(expectedX, (img.previousElementSibling || img.parentElement)) + '%';\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else {\n                img.style.width = expectedX + 'px';\n                img.style.height = expectedX + 'px';\n            }\n        }\n    };\n    Image.prototype.pixToPerc = function (expected, parentEle) {\n        return expected / parseFloat(getComputedStyle(parentEle).width) * 100;\n    };\n    Image.prototype.imgDupMouseMove = function (width, height, e) {\n        var _this = this;\n        var args = { event: e, requestType: 'images' };\n        this.parent.trigger(events.onResize, args, function (resizingArgs) {\n            if (resizingArgs.cancel) {\n                _this.cancelResizeAction();\n            }\n            else {\n                if ((parseInt(_this.parent.insertImageSettings.minWidth, 10) >= parseInt(width, 10) ||\n                    (parseInt(_this.parent.getInsertImgMaxWidth(), 10) <= parseInt(width, 10) &&\n                        isNOU(_this.imgEle.style.width)))) {\n                    return;\n                }\n                if (!_this.parent.insertImageSettings.resizeByPercent &&\n                    (parseInt(_this.parent.insertImageSettings.minHeight, 10) >= parseInt(height, 10) ||\n                        parseInt(_this.parent.insertImageSettings.maxHeight, 10) <= parseInt(height, 10))) {\n                    return;\n                }\n                _this.imgEle.parentElement.style.cursor = 'pointer';\n                _this.setAspectRatio(_this.imgEle, parseInt(width, 10), parseInt(height, 10), args);\n                _this.resizeImgDupPos(_this.imgEle);\n                _this.imgResizePos(_this.imgEle, _this.imgResizeDiv);\n                _this.parent.setContentHeight('', false);\n            }\n        });\n    };\n    Image.prototype.resizing = function (e) {\n        if (this.imgEle.offsetWidth >= this.parent.getInsertImgMaxWidth()) {\n            this.imgEle.style.maxHeight = this.imgEle.offsetHeight + 'px';\n        }\n        var pageX = this.getPointX(e);\n        var pageY = this.getPointY(e);\n        var mouseX = (this.resizeBtnStat.botLeft || this.resizeBtnStat.topLeft) ? -(pageX - this.pageX) : (pageX - this.pageX);\n        var mouseY = (this.resizeBtnStat.topLeft || this.resizeBtnStat.topRight) ? -(pageY - this.pageY) : (pageY - this.pageY);\n        var width = parseInt(this.imgDupPos.width, 10) + mouseX;\n        var height = parseInt(this.imgDupPos.height, 10) + mouseY;\n        this.mouseX = mouseX;\n        this.pageX = pageX;\n        this.pageY = pageY;\n        if (this.resizeBtnStat.botRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.botLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n    };\n    Image.prototype.cancelResizeAction = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        if (this.imgEle && this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            detach(this.imgResizeDiv);\n            this.imgEle.style.outline = '';\n            this.imgResizeDiv = null;\n            this.pageX = null;\n            this.pageY = null;\n        }\n    };\n    Image.prototype.resizeImgDupPos = function (e) {\n        this.imgDupPos = {\n            width: (e.style.width !== '' && (this.parent.insertImageSettings &&\n                !this.parent.insertImageSettings.resizeByPercent)) ? this.imgEle.style.width : e.width + 'px',\n            height: (e.style.height !== '') ? this.imgEle.style.height : e.height + 'px'\n        };\n    };\n    Image.prototype.resizeBtnInit = function () {\n        return this.resizeBtnStat = { botLeft: false, botRight: false, topRight: false, topLeft: false };\n    };\n    Image.prototype.onToolbarAction = function (args) {\n        if (isIDevice()) {\n            this.parent.notify(events.selectionRestore, {});\n        }\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'Replace':\n                if (this.parent.fileManagerSettings.enable) {\n                    this.parent.notify(events.renderFileManager, args);\n                }\n                else {\n                    this.parent.notify(events.insertImage, args);\n                }\n                break;\n            case 'Caption':\n                this.parent.notify(events.imageCaption, args);\n                break;\n            case 'InsertLink':\n                this.parent.notify(events.imageLink, args);\n                break;\n            case 'AltText':\n                this.parent.notify(events.imageAlt, args);\n                break;\n            case 'Remove':\n                this.parent.notify(events.imageDelete, args);\n                break;\n            case 'Dimension':\n                this.parent.notify(events.imageSize, args);\n                break;\n            case 'OpenImageLink':\n                this.openImgLink(args);\n                break;\n            case 'EditImageLink':\n                this.editImgLink(args);\n                break;\n            case 'RemoveImageLink':\n                this.removeImgLink(args);\n                break;\n        }\n    };\n    Image.prototype.openImgLink = function (e) {\n        var target = e.selectParent[0].parentNode.target === '' ? '_self' : '_blank';\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            url: e.selectParent[0].parentNode.href, target: target, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n    };\n    Image.prototype.editImgLink = function (e) {\n        var selectParentEle = e.selectParent[0].parentNode;\n        var linkUpdate = this.i10n.getConstant('dialogUpdate');\n        var inputDetails = {\n            url: selectParentEle.href, target: selectParentEle.target,\n            header: 'Edit Link', btnText: linkUpdate\n        };\n        this.insertImgLink(e, inputDetails);\n    };\n    Image.prototype.removeImgLink = function (e) {\n        if (Browser.isIE) {\n            this.contentModule.getEditPanel().focus();\n        }\n        e.selection.restore();\n        var isCapLink = (this.contentModule.getEditPanel().contains(this.captionEle) && select('a', this.captionEle)) ?\n            true : false;\n        var selectParent = isCapLink ? [this.captionEle] : [e.selectNode[0].parentElement];\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            insertElement: e.selectNode[0], selectParent: selectParent, selection: e.selection,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            if (!isNullOrUndefined(e.selectParent)) {\n                removeClass([e.selectParent[0]], 'e-img-focus');\n            }\n        }\n        if (isCapLink) {\n            select('.e-img-inner', this.captionEle).focus();\n        }\n    };\n    Image.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        var range;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        this.deletedImg = [];\n        var isCursor;\n        var keyCodeValues = [27, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123,\n            44, 45, 9, 16, 17, 18, 19, 20, 33, 34, 35, 36, 37, 38, 39, 40, 91, 92, 93, 144, 145, 182, 183];\n        if (this.parent.editorMode === 'HTML') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            isCursor = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n        }\n        if (!isCursor && this.parent.editorMode === 'HTML' && keyCodeValues.indexOf(originalEvent.which) < 0) {\n            var nodes = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            for (var i = 0; i < nodes.length; i++) {\n                if (nodes[i].nodeName === 'IMG') {\n                    this.deletedImg.push(nodes[i]);\n                }\n            }\n        }\n        if (this.parent.editorMode === 'HTML' && ((originalEvent.which === 8 && originalEvent.code === 'Backspace') ||\n            (originalEvent.which === 46 && originalEvent.code === 'Delete'))) {\n            var isCursor_1 = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n            if ((originalEvent.which === 8 && originalEvent.code === 'Backspace' && isCursor_1)) {\n                this.checkImageBack(range);\n            }\n            else if ((originalEvent.which === 46 && originalEvent.code === 'Delete' && isCursor_1)) {\n                this.checkImageDel(range);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.formatter.editorManager.nodeSelection) &&\n            originalEvent.code !== 'KeyK') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            if (!originalEvent.ctrlKey && originalEvent.key && (originalEvent.key.length === 1 || originalEvent.action === 'enter') &&\n                (selectParentEle[0].tagName === 'IMG') && selectParentEle[0].parentElement) {\n                var prev = selectParentEle[0].parentElement.childNodes[0];\n                if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                    this.removeResizeEle();\n                }\n                this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), prev, prev, prev.textContent.length, prev.textContent.length);\n                removeClass([selectParentEle[0]], 'e-img-focus');\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n        if (originalEvent.ctrlKey && (originalEvent.keyCode === 89 || originalEvent.keyCode === 90)) {\n            this.undoStack({ subCommand: (originalEvent.keyCode === 90 ? 'undo' : 'redo') });\n        }\n        if (originalEvent.keyCode === 8 || originalEvent.keyCode === 46) {\n            if (selectNodeEle && selectNodeEle[0].nodeName === 'IMG' && selectNodeEle.length < 1) {\n                originalEvent.preventDefault();\n                var event_1 = {\n                    selectNode: selectNodeEle, selection: save, selectParent: selectParentEle,\n                    args: {\n                        item: { command: 'Images', subCommand: 'Remove' },\n                        originalEvent: originalEvent\n                    }\n                };\n                this.deleteImg(event_1, originalEvent.keyCode);\n            }\n            if (this.parent.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                this.removeResizeEle();\n            }\n        }\n        if (originalEvent.code === 'Backspace') {\n            originalEvent.action = 'backspace';\n        }\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'backspace':\n            case 'delete':\n                for (var i = 0; i < this.deletedImg.length; i++) {\n                    var src = this.deletedImg[i].src;\n                    this.imageRemovePost(src);\n                }\n                if (this.parent.editorMode !== 'Markdown') {\n                    if (range.startContainer.nodeType === 3) {\n                        if (originalEvent.code === 'Backspace') {\n                            if (range.startContainer.previousElementSibling && range.startOffset === 0 &&\n                                range.startContainer.previousElementSibling.classList.contains(classes.CLS_CAPTION) &&\n                                range.startContainer.previousElementSibling.classList.contains(classes.CLS_CAPINLINE)) {\n                                detach(range.startContainer.previousElementSibling);\n                            }\n                        }\n                        else {\n                            if (range.startContainer.nextElementSibling &&\n                                range.endContainer.textContent.length === range.endOffset &&\n                                range.startContainer.nextElementSibling.classList.contains(classes.CLS_CAPTION) &&\n                                range.startContainer.nextElementSibling.classList.contains(classes.CLS_CAPINLINE)) {\n                                detach(range.startContainer.nextElementSibling);\n                            }\n                        }\n                    }\n                    else if ((range.startContainer.nodeType === 1 &&\n                        range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_CAPINLINE))) {\n                        detach(range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_CAPINLINE));\n                    }\n                    else if (range.startContainer.nodeType === 1 &&\n                        range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_IMGBREAK)) {\n                        detach(range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_IMGBREAK));\n                    }\n                }\n                break;\n            case 'insert-image':\n                this.openDialog(true, originalEvent, save, selectNodeEle, selectParentEle);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Image.prototype.openDialog = function (isInternal, event, selection, ele, parentEle) {\n        var range;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        if (!isInternal && !isNOU(this.parent.formatter.editorManager.nodeSelection)) {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        else {\n            save = selection;\n            selectNodeEle = ele;\n            selectParentEle = parentEle;\n        }\n        if (this.parent.editorMode === 'HTML') {\n            this.insertImage({\n                args: {\n                    item: { command: 'Images', subCommand: 'Image' },\n                    originalEvent: event\n                },\n                selectNode: selectNodeEle,\n                selection: save,\n                selectParent: selectParentEle\n            });\n        }\n        else {\n            this.insertImage({\n                args: {\n                    item: { command: 'Images', subCommand: 'Image' },\n                    originalEvent: event\n                },\n                member: 'image',\n                text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                module: 'Markdown',\n                name: 'insertImage'\n            });\n        }\n    };\n    Image.prototype.showDialog = function () {\n        this.openDialog(false);\n        this.setCssClass({ cssClass: this.parent.cssClass });\n    };\n    Image.prototype.closeDialog = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.onKeyUp = function (event) {\n        if (!isNOU(this.deletedImg) && this.deletedImg.length > 0) {\n            for (var i = 0; i < this.deletedImg.length; i++) {\n                var args = {\n                    element: this.deletedImg[i],\n                    src: this.deletedImg[i].getAttribute('src')\n                };\n                this.parent.trigger(events.afterImageDelete, args);\n            }\n        }\n    };\n    Image.prototype.checkImageBack = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === 0 &&\n            !isNOU(range.startContainer.previousSibling) && range.startContainer.previousSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.previousSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset - 1]) &&\n            range.startContainer.childNodes[range.startOffset - 1].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset - 1]);\n        }\n    };\n    Image.prototype.checkImageDel = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === range.startContainer.textContent.length &&\n            !isNOU(range.startContainer.nextSibling) && range.startContainer.nextSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.nextSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset]) &&\n            range.startContainer.childNodes[range.startOffset].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset]);\n        }\n    };\n    Image.prototype.alignmentSelect = function (e) {\n        var item = e.item;\n        if (!document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) || item.command !== 'Images') {\n            return;\n        }\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n        selectNodeEle = (selectNodeEle[0].nodeName === 'IMG') ? selectNodeEle : [this.imgEle];\n        var args = { args: e, selectNode: selectNodeEle };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        switch (item.subCommand) {\n            case 'JustifyLeft':\n                this.alignImage(args, 'JustifyLeft');\n                break;\n            case 'JustifyCenter':\n                this.alignImage(args, 'JustifyCenter');\n                break;\n            case 'JustifyRight':\n                this.alignImage(args, 'JustifyRight');\n                break;\n            case 'Inline':\n                this.inline(args);\n                break;\n            case 'Break':\n                this.break(args);\n                break;\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNodeEle[0]], 'e-img-focus');\n        }\n        this.cancelResizeAction();\n    };\n    Image.prototype.imageWithLinkQTBarItemUpdate = function () {\n        var separator;\n        var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                addClass([items[i]], 'e-link-groups');\n                items[i].style.display = 'none';\n            }\n            else if (items[i].getAttribute('title') === 'Insert Link') {\n                items[i].style.display = '';\n            }\n            else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                // eslint-disable-next-line\n                separator = items[i];\n                detach(items[i]);\n            }\n        }\n        var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n        this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n    };\n    Image.prototype.showImageQuickToolbar = function (e) {\n        var _this = this;\n        if (e.type !== 'Images' || isNullOrUndefined(this.parent.quickToolbarModule)\n            || isNullOrUndefined(this.parent.quickToolbarModule.imageQTBar) || isNullOrUndefined(e.args)) {\n            return;\n        }\n        this.quickToolObj = this.parent.quickToolbarModule;\n        var args = e.args;\n        var target = e.elements;\n        [].forEach.call(e.elements, function (element, index) {\n            if (index === 0) {\n                target = element;\n            }\n        });\n        if (target && !closest(target, 'a')) {\n            this.imageWithLinkQTBarItemUpdate();\n        }\n        if (target.nodeName === 'IMG') {\n            addClass([target], ['e-img-focus']);\n        }\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + args.clientY : args.pageY;\n        if (this.parent.quickToolbarModule.imageQTBar) {\n            if (e.isNotify) {\n                setTimeout(function () {\n                    _this.parent.formatter.editorManager.nodeSelection.Clear(_this.contentModule.getDocument());\n                    _this.parent.formatter.editorManager.nodeSelection.setSelectionContents(_this.contentModule.getDocument(), target);\n                    _this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target);\n                }, 400);\n            }\n            else {\n                this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target);\n            }\n        }\n    };\n    Image.prototype.hideImageQuickToolbar = function () {\n        if (!isNullOrUndefined(this.contentModule.getEditPanel().querySelector('.e-img-focus'))) {\n            removeClass([this.contentModule.getEditPanel().querySelector('.e-img-focus')], 'e-img-focus');\n            if (this.quickToolObj && this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n    };\n    Image.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideImageQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            if ((showOnRightClick && args.which === 1) && !isNullOrUndefined(args.target) &&\n                args.target.tagName === 'IMG') {\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), args.target);\n            }\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.imageQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.imageQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'IMG' && this.parent.quickToolbarModule) {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), target);\n                if (isIDevice()) {\n                    this.parent.notify(events.selectionSave, e);\n                }\n                addClass([target], 'e-img-focus');\n                var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n                var separator = void 0;\n                if (closest(target, 'a')) {\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                            items[i].style.display = '';\n                            removeClass([items[i]], 'e-link-groups');\n                        }\n                        else if (items[i].getAttribute('title') === 'Insert Link') {\n                            items[i].style.display = 'none';\n                        }\n                        else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                            // eslint-disable-next-line\n                            separator = items[i];\n                            detach(items[i]);\n                        }\n                    }\n                    var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n                    this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n                }\n                else if (!closest(target, 'a')) {\n                    this.imageWithLinkQTBarItemUpdate();\n                }\n                this.showImageQuickToolbar({ args: args, type: 'Images', elements: [args.target] });\n            }\n            else {\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.insertImgLink = function (e, inputDetails) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var linkWrap = this.parent.createElement('div', { className: 'e-img-linkwrap' + ' ' + this.parent.cssClass });\n            var linkUrl = this.i10n.getConstant('linkurl');\n            var content = '<div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\">' +\n                '<input type=\"text\" data-role =\"none\" class=\"e-input e-img-link' + ' ' + this.parent.cssClass + '\" spellcheck=\"false\" placeholder=\"' + linkUrl + '\"/></div>' +\n                '<div class=\"e-rte-label\"></div>' + '<div class=\"e-rte-field\">' +\n                '<input type=\"checkbox\" class=\"e-rte-linkTarget' + ' ' + this.parent.cssClass + '\"  data-role =\"none\"></div>';\n            var contentElem = parseHtml(content);\n            linkWrap.appendChild(contentElem);\n            var linkTarget = linkWrap.querySelector('.e-rte-linkTarget');\n            var inputLink = linkWrap.querySelector('.e-img-link');\n            var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n            this.checkBoxObj = new CheckBox({\n                label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl, cssClass: this.parent.cssClass,\n                change: function (e) {\n                    if (e.checked) {\n                        target_1 = '_blank';\n                    }\n                    else {\n                        target_1 = null;\n                    }\n                }\n            });\n            this.checkBoxObj.isStringTemplate = true;\n            this.checkBoxObj.createElement = this.parent.createElement;\n            this.checkBoxObj.appendTo(linkTarget);\n            var target_1 = this.checkBoxObj.checked ? '_blank' : null;\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var linkargs_1 = {\n                args: e.args,\n                selfImage: this, selection: e.selection,\n                selectNode: e.selectNode, selectParent: e.selectParent, link: inputLink, target: target_1\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit',\n                width: '290px',\n                header: this.parent.localeObj.getConstant('imageInsertLinkHeader'),\n                content: linkWrap,\n                position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertlink(linkargs_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-link' + ' ' + this.parent.cssClass, isPrimary: true\n                        }\n                    }],\n                cssClass: this.dialogObj.cssClass + ' e-rte-img-link-dialog'\n            });\n            if (!isNOU(this.parent.cssClass)) {\n                this.dialogObj.setProperties({ cssClass: this.parent.cssClass });\n            }\n            if (!isNullOrUndefined(inputDetails)) {\n                inputLink.value = inputDetails.url;\n                // eslint-disable-next-line\n                (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n                this.dialogObj.header = inputDetails.header;\n            }\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAltText = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        var altText = this.i10n.getConstant('altText');\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var altWrap = this.parent.createElement('div', { className: 'e-img-altwrap' + ' ' + this.parent.cssClass });\n            var altHeader = this.i10n.getConstant('alternateHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var getAlt = (e.selectNode[0].getAttribute('alt') === null) ? '' :\n                e.selectNode[0].getAttribute('alt');\n            var content = '<div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\">' +\n                '<input type=\"text\" spellcheck=\"false\" value=\"' + getAlt + '\" class=\"e-input e-img-alt' + ' ' + this.parent.cssClass + '\" placeholder=\"' + altText + '\"/>' +\n                '</div>';\n            var contentElem = parseHtml(content);\n            altWrap.appendChild(contentElem);\n            var inputAlt = altWrap.querySelector('.e-img-alt');\n            var altArgs_1 = {\n                args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode,\n                alt: inputAlt\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: altHeader, content: altWrap, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertAlt(altArgs_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-alt' + ' ' + this.parent.cssClass, isPrimary: true\n                        }\n                    }],\n                cssClass: this.dialogObj.cssClass + ' e-rte-img-alt-dialog'\n            });\n            if (!isNOU(this.parent.cssClass)) {\n                this.dialogObj.setProperties({ cssClass: this.parent.cssClass });\n            }\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAlt = function (e) {\n        if (!isNullOrUndefined(e.alt)) {\n            e.selection.restore();\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            var altText = e.alt.value;\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                altText: altText, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            this.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.insertlink = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var url = e.link.value;\n        if (url === '') {\n            addClass([e.link], 'e-error');\n            e.link.setSelectionRange(0, url.length);\n            e.link.focus();\n            return;\n        }\n        if (!this.isUrl(url)) {\n            url = 'http://' + url;\n        }\n        else {\n            removeClass([e.link], 'e-error');\n        }\n        var proxy = e.selfImage;\n        if (proxy.parent.editorMode === 'HTML') {\n            e.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (e.selectNode[0].parentElement.nodeName === 'A') {\n            proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n                url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            proxy.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n            url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand, selection: e.selection\n        });\n        var captionEle = closest(e.selectNode[0], '.e-img-caption');\n        if (captionEle) {\n            select('.e-img-inner', captionEle).focus();\n        }\n        if (captionEle) {\n            select('.e-img-inner', captionEle).focus();\n        }\n        proxy.dialogObj.hide({ returnValue: false });\n    };\n    Image.prototype.isUrl = function (url) {\n        // eslint-disable-next-line\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Image.prototype.deleteImg = function (e, keyCode) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var args = {\n            element: e.selectNode[0],\n            src: e.selectNode[0].getAttribute('src')\n        };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        e.selection.restore();\n        if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n            this.removeResizeEle();\n        }\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode,\n            captionClass: classes.CLS_CAPTION,\n            subCommand: e.args.item.subCommand\n        });\n        this.imageRemovePost(args.src);\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n        }\n        this.cancelResizeAction();\n        if (isNullOrUndefined(keyCode)) {\n            this.parent.trigger(events.afterImageDelete, args);\n        }\n    };\n    Image.prototype.imageRemovePost = function (src) {\n        var proxy = this;\n        var absoluteUrl = '';\n        if (isNOU(this.parent.insertImageSettings.removeUrl) || this.parent.insertImageSettings.removeUrl === '') {\n            return;\n        }\n        if (src.indexOf('http://') > -1 || src.indexOf('https://') > -1) {\n            absoluteUrl = src;\n        }\n        else {\n            absoluteUrl = new URL(src, document.baseURI).href;\n        }\n        this.removingImgName = absoluteUrl.replace(/^.*[\\\\\\/]/, '');\n        var xhr = new XMLHttpRequest();\n        xhr.addEventListener(\"readystatechange\", function () {\n            if (this.readyState == 4 && this.status == 200) {\n                proxy.triggerPost(this.response);\n            }\n        });\n        xhr.open('GET', absoluteUrl);\n        xhr.responseType = 'blob';\n        xhr.send();\n    };\n    Image.prototype.triggerPost = function (response) {\n        var removeUrl = this.parent.insertImageSettings.removeUrl;\n        if (isNOU(removeUrl) || removeUrl === '') {\n            return;\n        }\n        var file = new File([response], this.removingImgName);\n        var ajax = new Ajax(removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        formData.append('UploadFiles', file);\n        ajax.send(formData);\n    };\n    Image.prototype.caption = function (e) {\n        var selectNode = e.selectNode[0];\n        if (selectNode.nodeName !== 'IMG') {\n            return;\n        }\n        e.selection.restore();\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        this.cancelResizeAction();\n        addClass([selectNode], 'e-rte-image');\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Caption';\n        if (!isNullOrUndefined(closest(selectNode, '.' + classes.CLS_CAPTION))) {\n            detach(closest(selectNode, '.' + classes.CLS_CAPTION));\n            if (Browser.isIE) {\n                this.contentModule.getEditPanel().focus();\n                e.selection.restore();\n            }\n            if (selectNode.parentElement.tagName === 'A') {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode.parentElement, selectNode: e.selectNode, subCommand: subCommand });\n            }\n            else {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode, selectNode: e.selectNode, subCommand: subCommand });\n            }\n        }\n        else {\n            this.captionEle = this.parent.createElement('span', {\n                className: classes.CLS_CAPTION + ' ' + classes.CLS_RTE_CAPTION + ' ' + this.parent.cssClass,\n                attrs: { contenteditable: 'false', draggable: 'false', style: 'width:' + this.parent.insertImageSettings.width }\n            });\n            var imgWrap = this.parent.createElement('span', { className: 'e-img-wrap' + ' ' + this.parent.cssClass });\n            var imgInner = this.parent.createElement('span', { className: 'e-img-inner' + ' ' + this.parent.cssClass,\n                attrs: { contenteditable: 'true' } });\n            var parent_1 = e.selectNode[0].parentElement;\n            if (parent_1.tagName === 'A') {\n                parent_1.setAttribute('contenteditable', 'true');\n            }\n            imgWrap.appendChild(parent_1.tagName === 'A' ? parent_1 : e.selectNode[0]);\n            imgWrap.appendChild(imgInner);\n            var imgCaption = this.i10n.getConstant('imageCaption');\n            imgInner.innerHTML = imgCaption;\n            this.captionEle.appendChild(imgWrap);\n            if (selectNode.classList.contains(classes.CLS_IMGINLINE)) {\n                addClass([this.captionEle], classes.CLS_CAPINLINE);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGBREAK)) {\n                addClass([this.captionEle], classes.CLS_IMGBREAK);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGLEFT)) {\n                addClass([this.captionEle], classes.CLS_IMGLEFT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGRIGHT)) {\n                addClass([this.captionEle], classes.CLS_IMGRIGHT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGCENTER)) {\n                addClass([this.captionEle], classes.CLS_IMGCENTER);\n            }\n            this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: this.captionEle, selectNode: e.selectNode, subCommand: subCommand });\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), imgInner.childNodes[0], imgInner.childNodes[0], 0, imgInner.childNodes[0].textContent.length);\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNode], 'e-img-focus');\n        }\n    };\n    Image.prototype.imageSize = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var imgSizeHeader = this.i10n.getConstant('imageSizeHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var dialogContent = this.imgsizeInput(e);\n            var selectObj_1 = { args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: imgSizeHeader, content: dialogContent, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertSize(selectObj_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-size' + ' ' + this.parent.cssClass, isPrimary: true\n                        }\n                    }],\n                cssClass: this.dialogObj.cssClass + ' e-rte-img-size-dialog'\n            });\n            if (!isNOU(this.parent.cssClass)) {\n                this.dialogObj.setProperties({ cssClass: this.parent.cssClass });\n            }\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.break = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Break';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.inline = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Inline';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.alignImage = function (e, type) {\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : type;\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.clearDialogObj = function () {\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            detach(this.dialogObj.element);\n            this.dialogObj = null;\n        }\n    };\n    Image.prototype.imagDialog = function (e) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        var imgDialog = this.parent.createElement('div', { className: 'e-rte-img-dialog' + ' ' + this.parent.cssClass, id: this.rteID + '_image' });\n        this.parent.element.appendChild(imgDialog);\n        var imgInsert = this.i10n.getConstant('dialogInsert');\n        var imglinkCancel = this.i10n.getConstant('dialogCancel');\n        var imgHeader = this.i10n.getConstant('imageHeader');\n        var selection = e.selection;\n        var selectObj = { selfImage: this, selection: e.selection, args: e.args, selectParent: e.selectParent };\n        var dialogModel = {\n            header: imgHeader,\n            cssClass: classes.CLS_RTE_ELEMENTS + ' ' + this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '340px', height: 'inherit',\n            position: { X: 'center', Y: (Browser.isDevice) ? 'center' : 'top' },\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertImageUrl.bind(selectObj),\n                    buttonModel: { content: imgInsert, cssClass: 'e-flat e-insertImage' + ' ' + this.parent.cssClass, isPrimary: true, disabled: true }\n                },\n                {\n                    click: function (e) {\n                        _this.cancelDialog(e);\n                    },\n                    buttonModel: { cssClass: 'e-flat e-cancel' + ' ' + this.parent.cssClass, content: imglinkCancel }\n                }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                if (_this.isImgUploaded) {\n                    _this.uploadObj.removing();\n                }\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                _this.dialogRenderObj.close(event);\n                _this.dialogObj = null;\n            }\n        };\n        var dialogContent = this.parent.createElement('div', { className: 'e-img-content' + ' ' + this.parent.cssClass });\n        if ((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n            || this.parent.editorMode === 'HTML') {\n            dialogContent.appendChild(this.imgUpload(e));\n        }\n        var linkHeader = this.parent.createElement('div', { className: 'e-linkheader' + ' ' + this.parent.cssClass });\n        var linkHeaderText = this.i10n.getConstant('imageLinkHeader');\n        if (this.parent.editorMode === 'HTML') {\n            linkHeader.innerHTML = linkHeaderText;\n        }\n        else {\n            linkHeader.innerHTML = this.i10n.getConstant('mdimageLink');\n        }\n        dialogContent.appendChild(linkHeader);\n        dialogContent.appendChild(this.imageUrlPopup(e));\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG') {\n            dialogModel.header = this.parent.localeObj.getConstant('editImageHeader');\n            dialogModel.content = dialogContent;\n        }\n        else {\n            dialogModel.content = dialogContent;\n        }\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(imgDialog);\n        if (isNullOrUndefined(this.dialogObj)) {\n            return;\n        }\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG' && (e.name === 'insertImage')) {\n            this.dialogObj.element.querySelector('.e-insertImage').textContent = this.parent.localeObj.getConstant('dialogUpdate');\n        }\n        imgDialog.style.maxHeight = 'inherit';\n        if (this.quickToolObj) {\n            if (this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n                if (!isNullOrUndefined(e.selectParent)) {\n                    removeClass([e.selectParent[0]], 'e-img-focus');\n                }\n            }\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.cancelDialog = function (e) {\n        this.parent.isBlur = false;\n        this.dialogObj.hide({ returnValue: true });\n        if (this.isImgUploaded) {\n            this.uploadObj.removing();\n        }\n    };\n    Image.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (target.nodeName === 'IMG') {\n            this.imgEle = target;\n        }\n        if (target.nodeName !== '#document') {\n            this.parent.currentTarget = e.target;\n        }\n        if (!isNullOrUndefined(this.dialogObj) && ((\n        // eslint-disable-next-line\n        !closest(target, '[id=' + \"'\" + this.dialogObj.element.id + \"'\" + ']') && this.parent.toolbarSettings.enable && this.parent.getToolbarElement() &&\n            !this.parent.getToolbarElement().contains(e.target)) ||\n            (this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_Image') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_Image')))) {\n            /* eslint-disable */\n            if (e.offsetX > e.target.clientWidth || e.offsetY > e.target.clientHeight) {\n            }\n            else {\n                this.dialogObj.hide({ returnValue: true });\n                this.parent.isBlur = true;\n                dispatchEvent(this.parent.element, 'focusout');\n            }\n            /* eslint-enable */\n        }\n        if (!(this.parent.iframeSettings.enable && !isNOU(this.parent.currentTarget) && this.parent.currentTarget.nodeName === 'IMG') &&\n            e.target.tagName !== 'IMG' && this.imgResizeDiv && !(this.quickToolObj &&\n            this.quickToolObj.imageQTBar && this.quickToolObj.imageQTBar.element.contains(e.target)) &&\n            this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n        if (this.contentModule.getEditPanel().querySelector('.e-img-resize') && !(this.parent.iframeSettings.enable && this.parent.currentTarget.nodeName === 'IMG')) {\n            if (target.tagName !== 'IMG') {\n                this.removeResizeEle();\n            }\n            if (target.tagName !== 'IMG' && !isNOU(this.imgEle)) {\n                this.imgEle.style.outline = '';\n            }\n            else if (!isNOU(this.prevSelectedImgEle) && this.prevSelectedImgEle !== target) {\n                this.prevSelectedImgEle.style.outline = '';\n            }\n        }\n    };\n    Image.prototype.removeResizeEle = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        detach(this.contentModule.getEditPanel().querySelector('.e-img-resize'));\n    };\n    Image.prototype.onWindowResize = function () {\n        if (!isNOU(this.contentModule) && !isNOU(this.contentModule.getEditPanel().querySelector('.e-img-resize'))) {\n            this.cancelResizeAction();\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.imageUrlPopup = function (e) {\n        var _this = this;\n        var imgUrl = this.parent.createElement('div', { className: 'imgUrl' + ' ' + this.parent.cssClass });\n        var placeUrl = this.i10n.getConstant('imageUrl');\n        this.inputUrl = this.parent.createElement('input', {\n            className: 'e-input e-img-url' + ' ' + this.parent.cssClass,\n            attrs: { placeholder: placeUrl, spellcheck: 'false' }\n        });\n        this.inputUrl.addEventListener('input', function () {\n            if (!isNOU(_this.inputUrl)) {\n                if (_this.inputUrl.value.length === 0) {\n                    _this.dialogObj.getButtons(0).element.disabled = true;\n                }\n                else {\n                    _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                }\n            }\n        });\n        imgUrl.appendChild(this.inputUrl);\n        return imgUrl;\n    };\n    // eslint-disable-next-line\n    Image.prototype.insertImageUrl = function (e) {\n        var proxy = this.selfImage;\n        proxy.isImgUploaded = false;\n        var url = proxy.inputUrl.value;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (!isNullOrUndefined(proxy.uploadUrl) && proxy.uploadUrl.url !== '') {\n            proxy.uploadUrl.cssClass = (proxy.parent.insertImageSettings.display === 'inline' ?\n                classes.CLS_IMGINLINE : classes.CLS_IMGBREAK);\n            proxy.dialogObj.hide({ returnValue: false });\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, proxy.uploadUrl);\n            proxy.uploadUrl.url = '';\n            if (proxy.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                proxy.imgEle.style.outline = '';\n                proxy.removeResizeEle();\n            }\n        }\n        else if (url !== '') {\n            if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(\n            // eslint-disable-next-line\n            this.selection.range.startContainer.parentNode, '[id=' + \"'\" + proxy.contentModule.getPanel().id + \"'\" + ']'))) {\n                proxy.contentModule.getEditPanel().focus();\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.contentModule.getDocument());\n                this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.contentModule.getDocument());\n                this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            }\n            var regex = /[\\w-]+.(jpg|png|jpeg|gif)/g;\n            var matchUrl = (!isNullOrUndefined(url.match(regex)) && proxy.parent.editorMode === 'HTML') ? url.match(regex)[0] : '';\n            var value = {\n                cssClass: (proxy.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                url: url, selection: this.selection, altText: matchUrl,\n                selectParent: this.selectParent, width: {\n                    width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                    maxWidth: proxy.parent.getInsertImgMaxWidth()\n                },\n                height: {\n                    height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                    maxHeight: proxy.parent.insertImageSettings.maxHeight\n                }\n            };\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, value);\n            proxy.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.imgsizeInput = function (e) {\n        var _this = this;\n        var selectNode = e.selectNode[0];\n        var imgHeight = this.i10n.getConstant('imageHeight');\n        var imgWidth = this.i10n.getConstant('imageWidth');\n        var imgSizeWrap = this.parent.createElement('div', { className: 'e-img-sizewrap' + ' ' + this.parent.cssClass });\n        var widthVal = isNullOrUndefined(this.changedWidthValue) && (selectNode.style.width.toString() === 'auto' ||\n            selectNode.style.width !== '') ? selectNode.style.width : !isNullOrUndefined(this.changedWidthValue) ?\n            this.changedWidthValue : (parseInt(selectNode.getClientRects()[0].width.toString(), 10)).toString();\n        var heightVal = isNullOrUndefined(this.changedHeightValue) && (selectNode.style.height.toString() === 'auto' ||\n            selectNode.style.height !== '') ? selectNode.style.height : !isNullOrUndefined(this.changedHeightValue) ?\n            this.changedHeightValue : (parseInt(selectNode.getClientRects()[0].height.toString(), 10)).toString();\n        this.changedWidthValue = null;\n        this.changedHeightValue = null;\n        var content = '<div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\"><label>' + imgWidth +\n            '</label></div><div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\"><input type=\"text\" id=\"imgwidth\" class=\"e-img-width' + ' ' + this.parent.cssClass + '\" value=' +\n            widthVal\n            + ' /></div>' +\n            '<div class=\"e-rte-label' + ' ' + this.parent.cssClass + '\">' + '<label>' + imgHeight + '</label></div><div class=\"e-rte-field' + ' ' + this.parent.cssClass + '\"> ' +\n            '<input type=\"text\" id=\"imgheight\" class=\"e-img-height' + ' ' + this.parent.cssClass + '\" value=' +\n            heightVal\n            + ' /></div>';\n        var contentElem = parseHtml(content);\n        imgSizeWrap.appendChild(contentElem);\n        this.widthNum = new TextBox({\n            value: formatUnit(widthVal),\n            enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.cssClass,\n            input: function (e) {\n                _this.inputWidthValue = formatUnit(_this.inputValue(e.value));\n            }\n        });\n        this.widthNum.createElement = this.parent.createElement;\n        this.widthNum.appendTo(imgSizeWrap.querySelector('#imgwidth'));\n        this.heightNum = new TextBox({\n            value: formatUnit(heightVal),\n            enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.cssClass,\n            input: function (e) {\n                _this.inputHeightValue = formatUnit(_this.inputValue(e.value));\n            }\n        });\n        this.heightNum.createElement = this.parent.createElement;\n        this.heightNum.appendTo(imgSizeWrap.querySelector('#imgheight'));\n        return imgSizeWrap;\n    };\n    Image.prototype.inputValue = function (value) {\n        if (value === 'auto' || value.indexOf('%') !== -1 || value.indexOf('px') !== -1\n            || value.match(/(\\d+)/)) {\n            return value;\n        }\n        else {\n            return 'auto';\n        }\n    };\n    Image.prototype.insertSize = function (e) {\n        e.selection.restore();\n        var proxy = e.selfImage;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var dialogEle = proxy.dialogObj.element;\n        this.changedWidthValue = this.inputWidthValue;\n        this.changedHeightValue = this.inputHeightValue;\n        var width = dialogEle.querySelector('.e-img-width').value;\n        var height = dialogEle.parentElement.querySelector('.e-img-height').value;\n        proxy.parent.formatter.process(this.parent, e.args, e.args, {\n            width: width, height: height, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.imgResizeDiv) {\n            proxy.imgResizePos(e.selectNode[0], this.imgResizeDiv);\n        }\n        proxy.dialogObj.hide({ returnValue: true });\n    };\n    Image.prototype.insertImage = function (e) {\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            var dialogContent = this.dialogObj.element.querySelector('.e-img-content');\n            if (((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n                || this.parent.editorMode === 'HTML')) {\n                document.getElementById(this.rteID + '_insertImage').focus();\n            }\n            else {\n                dialogContent.querySelector('.e-img-url').focus();\n            }\n        }\n    };\n    Image.prototype.imgUpload = function (e) {\n        var _this = this;\n        var save;\n        var selectParent;\n        // eslint-disable-next-line\n        var proxy = this;\n        var iframe = proxy.parent.iframeSettings.enable;\n        if (proxy.parent.editorMode === 'HTML' && (!iframe && isNullOrUndefined(closest(e.selection.range.startContainer.parentNode, '[id='\n            // eslint-disable-next-line\n            + \"'\" + this.parent.contentModule.getPanel().id + \"'\" + ']'))\n            || (iframe && !hasClass(e.selection.range.startContainer.parentNode.ownerDocument.querySelector('body'), 'e-lib')))) {\n            this.contentModule.getEditPanel().focus();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        else {\n            save = e.selection;\n            selectParent = e.selectParent;\n        }\n        var uploadParentEle = this.parent.createElement('div', { className: 'e-img-uploadwrap e-droparea' + ' ' + this.parent.cssClass });\n        var deviceImgUpMsg = this.i10n.getConstant('imageDeviceUploadMessage');\n        var imgUpMsg = this.i10n.getConstant('imageUploadMessage');\n        var span = this.parent.createElement('span', { className: 'e-droptext' + ' ' + this.parent.cssClass });\n        var spanMsg = this.parent.createElement('span', {\n            className: 'e-rte-upload-text' + ' ' + this.parent.cssClass, innerHTML: ((Browser.isDevice) ? deviceImgUpMsg : imgUpMsg)\n        });\n        span.appendChild(spanMsg);\n        var btnEle = this.parent.createElement('button', {\n            className: 'e-browsebtn' + ' ' + this.parent.cssClass, id: this.rteID + '_insertImage', attrs: { autofocus: 'true', type: 'button' }\n        });\n        span.appendChild(btnEle);\n        uploadParentEle.appendChild(span);\n        var browserMsg = this.i10n.getConstant('browse');\n        this.browseButton = new Button({ content: browserMsg, enableRtl: this.parent.enableRtl });\n        this.browseButton.isStringTemplate = true;\n        this.browseButton.createElement = this.parent.createElement;\n        this.browseButton.appendTo(btnEle);\n        var btnClick = (Browser.isDevice) ? span : btnEle;\n        EventHandler.add(btnClick, 'click', this.fileSelect, this);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }, className: this.parent.cssClass\n        });\n        uploadParentEle.appendChild(uploadEle);\n        var altText;\n        var rawFile;\n        var selectArgs;\n        var filesData;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: { saveUrl: this.parent.insertImageSettings.saveUrl, removeUrl: this.parent.insertImageSettings.removeUrl },\n            dropArea: span, multiple: false, enableRtl: this.parent.enableRtl, cssClass: this.parent.cssClass,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            selected: function (e) {\n                proxy.isImgUploaded = true;\n                selectArgs = e;\n                filesData = e.filesData;\n                if (_this.parent.isServerRendered) {\n                    selectArgs = JSON.parse(JSON.stringify(e));\n                    e.cancel = true;\n                    rawFile = e.filesData;\n                    selectArgs.filesData = rawFile;\n                }\n                _this.parent.trigger(events.imageSelected, selectArgs, function (selectArgs) {\n                    if (!selectArgs.cancel) {\n                        _this.checkExtension(selectArgs.filesData[0]);\n                        altText = selectArgs.filesData[0].name;\n                        if (_this.parent.editorMode === 'HTML' && isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                            var reader_1 = new FileReader();\n                            // eslint-disable-next-line\n                            reader_1.addEventListener('load', function (e) {\n                                var url = _this.parent.insertImageSettings.saveFormat === 'Base64' ? reader_1.result :\n                                    URL.createObjectURL(convertToBlob(reader_1.result));\n                                proxy.uploadUrl = {\n                                    url: url, selection: save, altText: altText,\n                                    selectParent: selectParent,\n                                    width: {\n                                        width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                        maxWidth: proxy.parent.getInsertImgMaxWidth()\n                                    }, height: {\n                                        height: proxy.parent.insertImageSettings.height,\n                                        minHeight: proxy.parent.insertImageSettings.minHeight,\n                                        maxHeight: proxy.parent.insertImageSettings.maxHeight\n                                    }\n                                };\n                                proxy.inputUrl.setAttribute('disabled', 'true');\n                                if (isNullOrUndefined(proxy.parent.insertImageSettings.saveUrl) && _this.isAllowedTypes\n                                    && !isNullOrUndefined(_this.dialogObj)) {\n                                    _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                                }\n                            });\n                            reader_1.readAsDataURL(selectArgs.filesData[0].rawFile);\n                        }\n                        if (_this.parent.isServerRendered) {\n                            /* eslint-disable */\n                            _this.uploadObj._internalRenderSelect(selectArgs, rawFile);\n                            /* eslint-enable */\n                        }\n                    }\n                });\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = filesData;\n                    args.cancel = true;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        /* eslint-disable */\n                        _this.uploadObj.currentRequestHeader = beforeUploadArgs.currentRequest ?\n                            beforeUploadArgs.currentRequest : _this.uploadObj.currentRequestHeader;\n                        _this.uploadObj.customFormDatas = beforeUploadArgs.customFormData && beforeUploadArgs.customFormData.length > 0 ?\n                            beforeUploadArgs.customFormData : _this.uploadObj.customFormDatas;\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        /* eslint-enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    _this.parent.trigger(events.imageUploading, e);\n                }\n            },\n            success: function (e) {\n                _this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n                    if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                        var url = _this.parent.insertImageSettings.path + e.file.name;\n                        // eslint-disable-next-line\n                        var value = { url: url, selection: save };\n                        proxy.uploadUrl = {\n                            url: url, selection: save, altText: altText, selectParent: selectParent,\n                            width: {\n                                width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                maxWidth: proxy.parent.getInsertImgMaxWidth()\n                            }, height: {\n                                height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                                maxHeight: proxy.parent.insertImageSettings.maxHeight\n                            }\n                        };\n                        proxy.inputUrl.setAttribute('disabled', 'true');\n                    }\n                    if (e.operation === 'upload' && !isNullOrUndefined(_this.dialogObj)) {\n                        _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                    }\n                });\n            },\n            failure: function (e) {\n                _this.parent.trigger(events.imageUploadFailed, e);\n            },\n            removing: function () {\n                // eslint-disable-next-line\n                _this.parent.trigger(events.imageRemoving, e, function (e) {\n                    proxy.isImgUploaded = false;\n                    _this.dialogObj.getButtons(0).element.disabled = true;\n                    proxy.inputUrl.removeAttribute('disabled');\n                    if (proxy.uploadUrl) {\n                        proxy.uploadUrl.url = '';\n                    }\n                });\n            }\n        });\n        this.uploadObj.isStringTemplate = true;\n        this.uploadObj.createElement = this.parent.createElement;\n        this.uploadObj.appendTo(uploadEle);\n        return uploadParentEle;\n    };\n    Image.prototype.checkExtension = function (e) {\n        if (this.uploadObj.allowedExtensions) {\n            if (this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(('.' + e.type).toLocaleLowerCase()) === -1) {\n                this.dialogObj.getButtons(0).element.setAttribute('disabled', 'disabled');\n                this.isAllowedTypes = false;\n            }\n            else {\n                this.isAllowedTypes = true;\n            }\n        }\n    };\n    Image.prototype.fileSelect = function () {\n        this.dialogObj.element.getElementsByClassName('e-file-select-wrap')[0].querySelector('button').click();\n        return false;\n    };\n    Image.prototype.dragStart = function (e) {\n        if (e.target.nodeName === 'IMG') {\n            this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                if (actionBeginArgs.cancel) {\n                    e.preventDefault();\n                }\n                else {\n                    e.dataTransfer.effectAllowed = 'copyMove';\n                    e.target.classList.add(classes.CLS_RTE_DRAG_IMAGE);\n                }\n            });\n        }\n        else {\n            return true;\n        }\n    };\n    Image.prototype.dragEnter = function (e) {\n        e.dataTransfer.dropEffect = 'copy';\n        e.preventDefault();\n    };\n    Image.prototype.dragOver = function (e) {\n        if ((Browser.info.name === 'edge' && e.dataTransfer.items[0].type.split('/')[0].indexOf('image') > -1) ||\n            (Browser.isIE && e.dataTransfer.types[0] === 'Files')) {\n            e.preventDefault();\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Used to set range When drop an image\n     *\n     * @param {ImageDropEventArgs} args - specifies the image arguments.\n     * @returns {void}\n     */\n    Image.prototype.dragDrop = function (args) {\n        var _this = this;\n        this.parent.trigger(events.beforeImageDrop, args, function (e) {\n            var imgElement = _this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n            var isImgOrFileDrop = (imgElement && imgElement.tagName === 'IMG') || e.dataTransfer.files.length > 0;\n            if (!e.cancel && isImgOrFileDrop) {\n                _this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                    if (actionBeginArgs.cancel) {\n                        e.preventDefault();\n                    }\n                    else {\n                        if (closest(e.target, '#' + _this.parent.getID() + '_toolbar') ||\n                            _this.parent.inputElement.contentEditable === 'false') {\n                            e.preventDefault();\n                            return;\n                        }\n                        if (_this.parent.element.querySelector('.' + classes.CLS_IMG_RESIZE)) {\n                            detach(_this.imgResizeDiv);\n                        }\n                        e.preventDefault();\n                        var range = void 0;\n                        if (_this.contentModule.getDocument().caretRangeFromPoint) { //For chrome\n                            range = _this.contentModule.getDocument().caretRangeFromPoint(e.clientX, e.clientY);\n                        }\n                        else if ((e.rangeParent)) { //For mozilla firefox\n                            range = _this.contentModule.getDocument().createRange();\n                            range.setStart(e.rangeParent, e.rangeOffset);\n                        }\n                        else {\n                            range = _this.getDropRange(e.clientX, e.clientY); //For internet explorer\n                        }\n                        _this.parent.notify(events.selectRange, { range: range });\n                        var uploadArea = _this.parent.element.querySelector('.' + classes.CLS_DROPAREA);\n                        if (uploadArea) {\n                            return;\n                        }\n                        _this.insertDragImage(e);\n                    }\n                });\n            }\n            else {\n                if (isImgOrFileDrop) {\n                    e.preventDefault();\n                }\n            }\n        });\n    };\n    /**\n     * Used to calculate range on internet explorer\n     *\n     * @param {number} x - specifies the x range.\n     * @param {number} y - specifies the y range.\n     * @returns {void}\n     */\n    Image.prototype.getDropRange = function (x, y) {\n        var startRange = this.contentModule.getDocument().createRange();\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), startRange);\n        var elem = this.contentModule.getDocument().elementFromPoint(x, y);\n        var startNode = (elem.childNodes.length > 0 ? elem.childNodes[0] : elem);\n        var startCharIndexCharacter = 0;\n        if (this.parent.inputElement.firstChild.innerHTML === '<br>') {\n            startRange.setStart(startNode, startCharIndexCharacter);\n            startRange.setEnd(startNode, startCharIndexCharacter);\n        }\n        else {\n            var rangeRect = void 0;\n            do {\n                startCharIndexCharacter++;\n                startRange.setStart(startNode, startCharIndexCharacter);\n                startRange.setEnd(startNode, startCharIndexCharacter + 1);\n                rangeRect = startRange.getBoundingClientRect();\n            } while (rangeRect.left < x && startCharIndexCharacter < startNode.length - 1);\n        }\n        return startRange;\n    };\n    Image.prototype.insertDragImage = function (e) {\n        var _this = this;\n        e.preventDefault();\n        var activePopupElement = this.parent.element.querySelector('' + classes.CLS_POPUP_OPEN);\n        this.parent.notify(events.drop, { args: e });\n        if (activePopupElement) {\n            activePopupElement.classList.add(classes.CLS_HIDE);\n        }\n        var imgElement = this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n        if (e.dataTransfer.files.length > 0 && imgElement === null) { //For external image drag and drop\n            if (e.dataTransfer.files.length > 1) {\n                return;\n            }\n            var imgFiles = e.dataTransfer.files;\n            var fileName = imgFiles[0].name;\n            var imgType = fileName.substring(fileName.lastIndexOf('.'));\n            var allowedTypes = this.parent.insertImageSettings.allowedTypes;\n            for (var i = 0; i < allowedTypes.length; i++) {\n                if (imgType.toLocaleLowerCase() === allowedTypes[i].toLowerCase()) {\n                    if (this.parent.insertImageSettings.saveUrl) {\n                        this.onSelect(e);\n                    }\n                    else {\n                        var args = { args: e, text: '', file: imgFiles[0] };\n                        e.preventDefault();\n                        this.imagePaste(args);\n                    }\n                }\n            }\n        }\n        else { //For internal image drag and drop\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            if (imgElement && imgElement.tagName === 'IMG') {\n                if (imgElement.nextElementSibling) {\n                    if (imgElement.nextElementSibling.classList.contains(classes.CLS_IMG_INNER)) {\n                        range.insertNode(imgElement.parentElement.parentElement);\n                    }\n                    else {\n                        range.insertNode(imgElement);\n                    }\n                }\n                else {\n                    range.insertNode(imgElement);\n                }\n                imgElement.classList.remove(classes.CLS_RTE_DRAG_IMAGE);\n                var imgArgs_1 = { elements: [imgElement] };\n                imgElement.addEventListener('load', function () {\n                    _this.parent.trigger(events.actionComplete, imgArgs_1);\n                });\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                var args = e;\n                this.resizeStart(args, imgElement);\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.onSelect = function (args) {\n        var _this = this;\n        // eslint-disable-next-line\n        var proxy = this;\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var parentElement = this.parent.createElement('ul', { className: classes.CLS_UPLOAD_FILES });\n        this.parent.element.appendChild(parentElement);\n        var validFiles = {\n            name: '',\n            size: 0,\n            status: '',\n            statusCode: '',\n            type: '',\n            rawFile: args.dataTransfer.files[0],\n            validationMessages: {}\n        };\n        var imageTag = this.parent.createElement('IMG');\n        imageTag.style.opacity = '0.5';\n        imageTag.classList.add(classes.CLS_RTE_IMAGE);\n        imageTag.classList.add(classes.CLS_IMGINLINE);\n        imageTag.classList.add(classes.CLS_RESIZE);\n        var file = validFiles.rawFile;\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n            var url = URL.createObjectURL(convertToBlob(reader.result));\n            imageTag.src = proxy.parent.insertImageSettings.saveFormat === 'Blob' ? url : reader.result;\n        });\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n        range.insertNode(imageTag);\n        this.uploadMethod(args, imageTag);\n        var e = { elements: [imageTag] };\n        imageTag.addEventListener('load', function () {\n            _this.parent.trigger(events.actionComplete, e);\n        });\n        detach(parentElement);\n    };\n    /**\n     * Rendering uploader and popup for drag and drop\n     *\n     * @param {DragEvent} dragEvent - specifies the event.\n     * @param {HTMLImageElement} imageElement - specifies the element.\n     * @returns {void}\n     */\n    Image.prototype.uploadMethod = function (dragEvent, imageElement) {\n        var _this = this;\n        var isUploading = false;\n        // eslint-disable-next-line\n        var proxy = this;\n        var popupEle = this.parent.createElement('div');\n        this.parent.element.appendChild(popupEle);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }\n        });\n        var offsetY = this.parent.iframeSettings.enable ? -50 : -90;\n        this.popupObj = new Popup(popupEle, {\n            relateTo: imageElement,\n            height: '85px',\n            width: '300px',\n            offsetY: offsetY,\n            content: uploadEle,\n            viewPortElement: this.parent.element,\n            position: { X: 'center', Y: 'top' },\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10001,\n            // eslint-disable-next-line\n            close: function (event) {\n                _this.parent.isBlur = false;\n                _this.popupObj.destroy();\n                detach(_this.popupObj.element);\n                _this.popupObj = null;\n                if (!_this.parent.inlineMode.enable) {\n                    _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(false);\n                }\n            }\n        });\n        this.popupObj.element.style.display = 'none';\n        addClass([this.popupObj.element], classes.CLS_POPUP_OPEN);\n        addClass([this.popupObj.element], classes.CLS_RTE_UPLOAD_POPUP);\n        if (!isNOU(this.parent.cssClass)) {\n            addClass([this.popupObj.element], this.parent.cssClass);\n        }\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var timeOut = dragEvent.dataTransfer.files[0].size > 1000000 ? 300 : 100;\n        setTimeout(function () {\n            proxy.refreshPopup(imageElement);\n        }, timeOut);\n        var rawFile;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: {\n                saveUrl: this.parent.insertImageSettings.saveUrl,\n                removeUrl: this.parent.insertImageSettings.removeUrl\n            },\n            cssClass: classes.CLS_RTE_DIALOG_UPLOAD + ' ' + this.parent.cssClass,\n            dropArea: this.parent.element,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            removing: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n            },\n            canceling: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n                _this.quickToolObj.imageQTBar.hidePopup();\n                setTimeout(function () {\n                    _this.uploadObj.destroy();\n                }, 900);\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = rawFile;\n                    isUploading = true;\n                    args.cancel = true;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        if (!_this.parent.inlineMode.enable) {\n                            _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(true);\n                        }\n                        /* eslint-disable */\n                        _this.uploadObj.currentRequestHeader = beforeUploadArgs.currentRequest ?\n                            beforeUploadArgs.currentRequest : _this.uploadObj.currentRequestHeader;\n                        _this.uploadObj.customFormDatas = beforeUploadArgs.customFormData && beforeUploadArgs.customFormData.length > 0 ?\n                            beforeUploadArgs.customFormData : _this.uploadObj.customFormDatas;\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        _this.parent.inputElement.contentEditable = 'false';\n                        /* eslint-enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                    if (!_this.parent.inlineMode.enable) {\n                        _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(true);\n                    }\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    isUploading = true;\n                    _this.parent.trigger(events.imageUploading, e, function (imageUploadingArgs) {\n                        if (imageUploadingArgs.cancel) {\n                            if (!isNullOrUndefined(imageElement)) {\n                                detach(imageElement);\n                            }\n                            if (!isNullOrUndefined(_this.popupObj.element)) {\n                                detach(_this.popupObj.element);\n                            }\n                        }\n                        else {\n                            _this.parent.inputElement.contentEditable = 'false';\n                        }\n                    });\n                }\n            },\n            selected: function (e) {\n                if (isUploading) {\n                    e.cancel = true;\n                }\n                if (_this.parent.isServerRendered) {\n                    rawFile = e.filesData;\n                }\n            },\n            failure: function (e) {\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () {\n                    _this.uploadFailure(imageElement, args, e);\n                }, 900);\n            },\n            success: function (e) {\n                if (e.operation === \"cancel\") {\n                    return;\n                }\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () {\n                    _this.uploadSuccess(imageElement, dragEvent, args, e);\n                }, 900);\n            }\n        });\n        this.uploadObj.appendTo(this.popupObj.element.childNodes[0]);\n        this.popupObj.element.querySelector('.e-rte-dialog-upload .e-file-select-wrap').style.display = 'none';\n        range.selectNodeContents(imageElement);\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), range);\n    };\n    Image.prototype.refreshPopup = function (imageElement) {\n        var imgPosition = this.parent.iframeSettings.enable ? this.parent.element.offsetTop +\n            imageElement.offsetTop : imageElement.offsetTop;\n        var rtePosition = this.parent.element.offsetTop + this.parent.element.offsetHeight;\n        if (imgPosition > rtePosition) {\n            this.popupObj.relateTo = this.parent.inputElement;\n            this.popupObj.offsetY = this.parent.iframeSettings.enable ? -30 : -65;\n            this.popupObj.element.style.display = 'block';\n        }\n        else {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition(imageElement);\n                this.popupObj.element.style.display = 'block';\n            }\n        }\n    };\n    /**\n     * Called when drop image upload was failed\n     *\n     * @param {HTMLElement} imgEle - specifies the image element.\n     * @param {IShowPopupArgs} args - specifies the arguments.\n     * @param {Object} e - specfies the object.\n     * @returns {void}\n     */\n    Image.prototype.uploadFailure = function (imgEle, args, e) {\n        detach(imgEle);\n        if (this.popupObj) {\n            this.popupObj.close();\n        }\n        this.parent.trigger(events.imageUploadFailed, e);\n        this.uploadObj.destroy();\n    };\n    /**\n     * Called when drop image upload was successful\n     *\n     * @param {HTMLElement} imageElement - specifies the image element.\n     * @param {DragEvent} dragEvent - specifies the drag event.\n     * @param {IShowPopupArgs} args - specifies the arguments.\n     * @param {ImageSuccessEventArgs} e - specifies the success event.\n     * @returns {void}\n     */\n    Image.prototype.uploadSuccess = function (imageElement, dragEvent, args, e) {\n        var _this = this;\n        imageElement.style.opacity = '1';\n        imageElement.classList.add(classes.CLS_IMG_FOCUS);\n        e.element = imageElement;\n        this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n            if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                var url = _this.parent.insertImageSettings.path + e.file.name;\n                imageElement.src = url;\n                imageElement.setAttribute('alt', e.file.name);\n            }\n        });\n        if (this.popupObj) {\n            this.popupObj.close();\n            this.uploadObj.destroy();\n        }\n        this.showImageQuickToolbar(args);\n        this.resizeStart(dragEvent, imageElement);\n    };\n    Image.prototype.imagePaste = function (args) {\n        var _this = this;\n        if (args.text.length === 0 && !isNullOrUndefined(args.file)) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            var reader_2 = new FileReader();\n            args.args.preventDefault();\n            // eslint-disable-next-line\n            reader_2.addEventListener('load', function (e) {\n                var url = {\n                    cssClass: (proxy_1.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                    url: _this.parent.insertImageSettings.saveFormat === 'Base64' || !isNullOrUndefined(args.callBack) ?\n                        reader_2.result : URL.createObjectURL(convertToBlob(reader_2.result)),\n                    width: {\n                        width: proxy_1.parent.insertImageSettings.width, minWidth: proxy_1.parent.insertImageSettings.minWidth,\n                        maxWidth: proxy_1.parent.getInsertImgMaxWidth()\n                    },\n                    height: {\n                        height: proxy_1.parent.insertImageSettings.height, minHeight: proxy_1.parent.insertImageSettings.minHeight,\n                        maxHeight: proxy_1.parent.insertImageSettings.maxHeight\n                    }\n                };\n                if (!isNullOrUndefined(args.callBack)) {\n                    args.callBack(url);\n                    return;\n                }\n                else {\n                    proxy_1.parent.formatter.process(proxy_1.parent, { item: { command: 'Images', subCommand: 'Image' } }, args.args, url);\n                    _this.showPopupToolBar(args, url);\n                }\n            });\n            reader_2.readAsDataURL(args.file);\n        }\n    };\n    Image.prototype.showPopupToolBar = function (e, url) {\n        var _this = this;\n        var imageSrc = 'img[src=\"' + url.url + '\"]';\n        var imageElement = this.parent.inputElement.querySelector(imageSrc);\n        this.parent.quickToolbarModule.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        var args = {\n            args: e.args,\n            type: 'Images',\n            isNotify: undefined,\n            elements: imageElement\n        };\n        if (imageElement) {\n            setTimeout(function () {\n                _this.showImageQuickToolbar(args);\n                _this.resizeStart(e.args, imageElement);\n            }, 0);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Destroys the ToolBar.\n     *\n     * @method destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    Image.prototype.destroy = function () {\n        this.prevSelectedImgEle = undefined;\n        this.removeEventListener();\n    };\n    /* eslint-disable */\n    /**\n     * Clears the ImageModule.\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    Image.prototype.moduleDestroy = function () {\n        this.parent = null;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Image.prototype.getModuleName = function () {\n        return 'image';\n    };\n    return Image;\n}());\nexport { Image };\n","import { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { CLS_COUNT, CLS_WARNING, CLS_ERROR } from '../base/classes';\n/**\n * `Count` module is used to handle Count actions.\n */\nvar Count = /** @class */ (function () {\n    function Count(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    Count.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editPanel = this.contentRenderer.getEditPanel();\n        this.addEventListener();\n    };\n    /**\n     * renderCount method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.renderCount = function () {\n        this.initializeInstance();\n        this.element = this.parent.createElement('span', { className: CLS_COUNT });\n        this.contentRenderer.getPanel().parentElement.appendChild(this.element);\n        this.appendCount();\n        if (this.parent.maxLength !== -1) {\n            this.charCountBackground(this.htmlLength);\n        }\n    };\n    Count.prototype.appendCount = function () {\n        var htmlText = this.parent.editorMode === 'Markdown' ? this.editPanel.value :\n            this.editPanel.textContent;\n        if (this.parent.editorMode !== 'Markdown' && htmlText.indexOf('\\u200B') !== -1) {\n            this.htmlLength = htmlText.replace(/\\u200B/g, '').length;\n        }\n        else {\n            this.htmlLength = htmlText.length;\n        }\n        var string = this.parent.maxLength === -1 ? this.htmlLength : this.htmlLength + ' / ' + this.parent.maxLength;\n        this.element.innerHTML = string;\n    };\n    Count.prototype.charCountBackground = function (htmlLength) {\n        var percentage = (htmlLength / this.parent.maxLength) * 100;\n        if (percentage < 85) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.remove(CLS_ERROR);\n        }\n        else if (percentage > 85 && percentage <= 90) {\n            this.element.classList.remove(CLS_ERROR);\n            this.element.classList.add(CLS_WARNING);\n        }\n        else if (percentage > 90) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.add(CLS_ERROR);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.refresh = function () {\n        if (!isNullOrUndefined(this.editPanel)) {\n            this.appendCount();\n            if (this.parent.maxLength !== -1) {\n                this.charCountBackground(this.htmlLength);\n            }\n        }\n    };\n    /**\n     * Destroys the Count.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.destroy = function () {\n        if (this.element && !isNullOrUndefined(this.parent.element.querySelector('.' + CLS_COUNT))) {\n            detach(this.element);\n        }\n        this.removeEventListener();\n    };\n    Count.prototype.toggle = function (e) {\n        this.element.style.display = (e.member === 'viewSource') ? 'none' : 'block';\n    };\n    Count.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.renderCount, this);\n        this.parent.on(events.keyUp, this.refresh, this);\n        this.parent.on(events.count, this.refresh, this);\n        this.parent.on(events.refreshBegin, this.refresh, this);\n        this.parent.on(events.mouseDown, this.refresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.sourceCode, this.toggle, this);\n        this.parent.on(events.updateSource, this.toggle, this);\n    };\n    Count.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderCount);\n        this.parent.off(events.keyUp, this.refresh);\n        this.parent.off(events.refreshBegin, this.refresh);\n        this.parent.off(events.count, this.refresh);\n        this.parent.off(events.mouseDown, this.refresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.sourceCode, this.toggle);\n        this.parent.off(events.updateSource, this.toggle);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     */\n    Count.prototype.getModuleName = function () {\n        return 'count';\n    };\n    return Count;\n}());\nexport { Count };\n","import { extend, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport * as CONSTANT from '../base/constant';\nimport { updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { KEY_DOWN, KEY_UP } from './../../common/constant';\n/**\n * Formatter\n *\n * @hidden\n\n */\nvar Formatter = /** @class */ (function () {\n    function Formatter() {\n    }\n    /**\n     * To execute the command\n     *\n     * @param  {IRichTextEditor} self - specifies the self element.\n     * @param  {ActionBeginEventArgs} args - specifies the event arguments.\n     * @param  {MouseEvent|KeyboardEvent} event - specifies the keyboard event.\n     * @param  {IItemCollectionArgs} value - specifies the collection arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.process = function (self, args, event, value) {\n        var _this = this;\n        var selection = self.contentModule.getDocument().getSelection();\n        var range = (selection.rangeCount > 0) ? selection.getRangeAt(selection.rangeCount - 1) : null;\n        var saveSelection;\n        if (self.editorMode === 'HTML') {\n            saveSelection = this.editorManager.nodeSelection.save(range, self.contentModule.getDocument());\n        }\n        if (!isNullOrUndefined(args)\n            && args.item.command\n            && args.item.command !== 'Table'\n            && args.item.command !== 'Actions'\n            && args.item.command !== 'Links'\n            && args.item.command !== 'Images'\n            && args.item.command !== 'Files'\n            && range\n            && !(self.contentModule.getEditPanel().contains(this.getAncestorNode(range.commonAncestorContainer))\n                || self.contentModule.getEditPanel() === range.commonAncestorContainer\n                || self.contentModule.getPanel() === range.commonAncestorContainer)) {\n            return;\n        }\n        if (!isNullOrUndefined(args) && self.maxLength !== -1 && !isNullOrUndefined(args.item.command)) {\n            var currentInsertContentLength = 0;\n            if (args.item.command === 'Links') {\n                currentInsertContentLength = value.text.length === 0 ? value.url.length : value.text.length;\n            }\n            if (args.item.command === 'Images' || args.item.command === 'Table' || args.item.command === 'Files') {\n                currentInsertContentLength = 1;\n            }\n            var currentLength = self.getText().trim().length;\n            var selectionLength = self.getSelection().length;\n            var totalLength = (currentLength - selectionLength) + currentInsertContentLength;\n            if (!(self.maxLength === -1 || totalLength <= self.maxLength)) {\n                return;\n            }\n        }\n        if (isNullOrUndefined(args)) {\n            var action_1 = event.action;\n            if (action_1 !== 'tab' && action_1 !== 'enter' && action_1 !== 'space' && action_1 !== 'escape') {\n                args = {};\n                if (self.editorMode === 'Markdown' && action_1 === 'insert-table') {\n                    value = {\n                        'headingText': self.localeObj.getConstant('TableHeadingText'),\n                        'colText': self.localeObj.getConstant('TableColText')\n                    };\n                }\n                var items = {\n                    originalEvent: event, cancel: false,\n                    requestType: action_1 || (event.key + 'Key'),\n                    itemCollection: value\n                };\n                extend(args, args, items, true);\n                self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                    if (actionBeginArgs.cancel) {\n                        if (action_1 === 'paste' || action_1 === 'cut' || action_1 === 'copy') {\n                            event.preventDefault();\n                        }\n                    }\n                });\n            }\n            var isTableModule = isNullOrUndefined(self.tableModule) ? true : self.tableModule ?\n                self.tableModule.ensureInsideTableList : false;\n            if ((event.which === 9 && isTableModule) || event.which !== 9) {\n                if (event.which === 13 && self.editorMode === 'HTML') {\n                    value = {\n                        'enterAction': self.enterKey\n                    };\n                }\n                this.editorManager.observer.notify((event.type === 'keydown' ? KEY_DOWN : KEY_UP), {\n                    event: event,\n                    callBack: this.onSuccess.bind(this, self),\n                    value: value,\n                    enterAction: self.enterKey\n                });\n            }\n        }\n        else if (!isNullOrUndefined(args) && args.item.command && args.item.subCommand && ((args.item.command !== args.item.subCommand\n            && args.item.command !== 'Font')\n            || ((args.item.subCommand === 'FontName' || args.item.subCommand === 'FontSize') && args.name === 'dropDownSelect')\n            || ((args.item.subCommand === 'BackgroundColor' || args.item.subCommand === 'FontColor')\n                && args.name === 'colorPickerChanged'))) {\n            extend(args, args, { requestType: args.item.subCommand, cancel: false, itemCollection: value, selectType: args.name }, true);\n            self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                if (!actionBeginArgs.cancel) {\n                    if (_this.getUndoRedoStack().length === 0 && actionBeginArgs.item.command !== 'Links'\n                        && actionBeginArgs.item.command !== 'Images') {\n                        _this.saveData();\n                    }\n                    self.isBlur = false;\n                    self.contentModule.getEditPanel().focus();\n                    if (self.editorMode === 'HTML') {\n                        saveSelection.restore();\n                    }\n                    var command = actionBeginArgs.item.subCommand.toLocaleLowerCase();\n                    if (command === 'paste' || command === 'cut' || command === 'copy') {\n                        self.clipboardAction(command, event);\n                    }\n                    else {\n                        _this.editorManager.observer.notify(CONSTANT.checkUndo, { subCommand: actionBeginArgs.item.subCommand });\n                        _this.editorManager.execCommand(actionBeginArgs.item.command, actionBeginArgs.item.subCommand, event, _this.onSuccess.bind(_this, self), actionBeginArgs.item.value, actionBeginArgs.item.subCommand === 'Pre' && actionBeginArgs.selectType === 'dropDownSelect' ?\n                            { name: actionBeginArgs.selectType } : value, ('#' + self.getID() + ' iframe'), self.enterKey);\n                    }\n                }\n            });\n        }\n        if (isNullOrUndefined(event) || event && event.action !== 'copy') {\n            this.enableUndo(self);\n        }\n    };\n    Formatter.prototype.getAncestorNode = function (node) {\n        node = node.nodeType === 3 ? node.parentNode : node;\n        return node;\n    };\n    /**\n     * onKeyHandler method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @param {KeyboardEvent} e - specifies the keyboard event.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.onKeyHandler = function (self, e) {\n        var _this = this;\n        this.editorManager.observer.notify(KEY_UP, {\n            event: e, callBack: function () {\n                self.notify(CONSTANT.contentChanged, {});\n                _this.enableUndo(self);\n            }\n        });\n    };\n    /**\n     * onSuccess method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @param {IMarkdownFormatterCallBack} events - specifies the event call back\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.onSuccess = function (self, events) {\n        self.notify(CONSTANT.contentChanged, {});\n        if (events && (isNullOrUndefined(events.event) || events.event.action !== 'copy')) {\n            this.enableUndo(self);\n            self.notify(CONSTANT.execCommandCallBack, events);\n        }\n        self.trigger(CONSTANT.actionComplete, events, function (callbackArgs) {\n            self.setPlaceHolder();\n            if ((callbackArgs.requestType === 'Images' || callbackArgs.requestType === 'Links') && self.editorMode === 'HTML') {\n                var args = callbackArgs;\n                if (callbackArgs.requestType === 'Links' && callbackArgs.event &&\n                    callbackArgs.event.type === 'keydown' &&\n                    callbackArgs.event.keyCode === 32) {\n                    return;\n                }\n                self.notify(CONSTANT.insertCompleted, {\n                    args: args.event, type: callbackArgs.requestType, isNotify: true,\n                    elements: args.elements\n                });\n            }\n            self.autoResize();\n        });\n    };\n    /**\n     * Save the data for undo and redo action.\n     *\n     * @param {KeyboardEvent} e - specifies the keyboard event.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.saveData = function (e) {\n        this.editorManager.undoRedoManager.saveData(e);\n    };\n    /**\n     * getUndoStatus method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.getUndoStatus = function () {\n        return this.editorManager.undoRedoManager.getUndoStatus();\n    };\n    /* eslint-disable */\n    /**\n     * getUndoRedoStack method\n     *\n     * @param {IHtmlUndoRedoData}  - specifies the redo data.\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    Formatter.prototype.getUndoRedoStack = function () {\n        return this.editorManager.undoRedoManager.undoRedoStack;\n    };\n    /**\n     * enableUndo method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.enableUndo = function (self) {\n        var status = this.getUndoStatus();\n        if (self.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            updateUndoRedoStatus(self.quickToolbarModule.inlineQTBar.quickTBarObj, status);\n        }\n        else {\n            if (self.toolbarModule) {\n                updateUndoRedoStatus(self.toolbarModule.baseToolbar, status);\n            }\n        }\n    };\n    return Formatter;\n}());\nexport { Formatter };\n","/**\n * Constant values for EditorManager\n */\n/**\n * Image plugin events\n *\n * @hidden\n */\nexport var IMAGE = 'INSERT-IMAGE';\nexport var TABLE = 'INSERT-TABLE';\nexport var LINK = 'INSERT-LINK';\nexport var INSERT_ROW = 'INSERT-ROW';\nexport var INSERT_COLUMN = 'INSERT-COLUMN';\nexport var DELETEROW = 'DELETE-ROW';\nexport var DELETECOLUMN = 'DELETE-COLUMN';\nexport var REMOVETABLE = 'REMOVE-TABLE';\nexport var TABLEHEADER = 'TABLE-HEADER';\nexport var TABLE_VERTICAL_ALIGN = 'TABLE_VERTICAL_ALIGN';\nexport var TABLE_MERGE = 'TABLE_MERGE';\nexport var TABLE_VERTICAL_SPLIT = 'TABLE_VERTICAL_SPLIT';\nexport var TABLE_HORIZONTAL_SPLIT = 'TABLE_HORIZONTAL_SPLIT';\nexport var TABLE_MOVE = 'TABLE_MOVE';\n/**\n * Alignments plugin events\n *\n * @hidden\n */\nexport var ALIGNMENT_TYPE = 'alignment-type';\n/**\n * Indents plugin events\n *\n * @hidden\n */\nexport var INDENT_TYPE = 'indent-type';\n/**\n * Constant tag names\n *\n * @hidden\n */\nexport var DEFAULT_TAG = 'p';\n/**\n * @hidden\n */\nexport var BLOCK_TAGS = ['address', 'article', 'aside', 'audio', 'blockquote',\n    'canvas', 'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n    'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav',\n    'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr', 'ul', 'video', 'body'];\n/**\n * @hidden\n */\nexport var IGNORE_BLOCK_TAGS = ['td', 'th'];\n/**\n * @hidden\n */\nexport var TABLE_BLOCK_TAGS = ['table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr'];\n/**\n * Selection plugin events\n *\n * @hidden\n */\nexport var SELECTION_TYPE = 'selection-type';\n/**\n * Insert HTML plugin events\n *\n * @hidden\n */\nexport var INSERTHTML_TYPE = 'inserthtml-type';\n/**\n * Insert Text plugin events\n *\n * @hidden\n */\nexport var INSERT_TEXT_TYPE = 'insert-text-type';\n/**\n * Clear Format HTML plugin events\n *\n * @hidden\n */\nexport var CLEAR_TYPE = 'clear-type';\n/**\n * Self closing tags\n *\n * @hidden\n */\nexport var SELF_CLOSING_TAGS = ['area', 'base', 'br', 'embed', 'hr', 'img', 'input', 'param', 'source', 'track', 'wbr', 'iframe', 'td'];\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */ (function () {\n    function NodeSelection() {\n        this.startNodeName = [];\n        this.endNodeName = [];\n    }\n    NodeSelection.prototype.saveInstance = function (range, body) {\n        this.range = range.cloneRange();\n        this.rootNode = this.documentFromRange(range);\n        this.body = body;\n        this.startContainer = this.getNodeArray(range.startContainer, true);\n        this.endContainer = this.getNodeArray(range.endContainer, false);\n        this.startOffset = range.startOffset;\n        this.endOffset = range.endOffset;\n        this.html = this.body.innerHTML;\n        return this;\n    };\n    NodeSelection.prototype.documentFromRange = function (range) {\n        return (9 === range.startContainer.nodeType) ? range.startContainer : range.startContainer.ownerDocument;\n    };\n    NodeSelection.prototype.getRange = function (docElement) {\n        var select = this.get(docElement);\n        var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n        return (range.startContainer !== docElement || range.endContainer !== docElement\n            || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0),\n            range.collapse(!0)),\n            range);\n    };\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the get function\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.get = function (docElement) {\n        return docElement.defaultView.getSelection();\n    };\n    /**\n     * save method\n     *\n     * @param {Range} range - range value.\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.save = function (range, docElement) {\n        range = (range) ? range.cloneRange() : this.getRange(docElement);\n        return this.saveInstance(range, docElement.body);\n    };\n    /**\n     * getIndex method\n     *\n     * @param {Node} node - specifies the node value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getIndex = function (node) {\n        var index;\n        var num = 0;\n        node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n        if (node) {\n            for (var type = node.nodeType; node; null) {\n                index = node.nodeType;\n                num++;\n                //eslint-disable-next-line\n                type = index;\n                node = node.previousSibling;\n            }\n        }\n        return num;\n    };\n    NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n        for (var index = 0; index < parentNode.childNodes.length; index++) {\n            if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n        if (endNode === startNode &&\n            (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1\n                || this.isChildNode(nodeCollection, startNode))) {\n            return null;\n        }\n        if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n            return startNode.firstChild;\n        }\n        if (startNode.nextSibling) {\n            return startNode.nextSibling;\n        }\n        if (!startNode.parentNode) {\n            return null;\n        }\n        else {\n            return startNode.parentNode;\n        }\n    };\n    /**\n     * getNodeCollection method\n     *\n     * @param {Range} range -specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeCollection = function (range) {\n        var startNode = range.startContainer.childNodes[range.startOffset]\n            || range.startContainer;\n        var endNode = range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer;\n        if ((startNode === endNode || (startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset])) &&\n            startNode.childNodes.length === 0) {\n            return [startNode];\n        }\n        if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n            return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n        }\n        var nodeCollection = [];\n        do {\n            if (nodeCollection.indexOf(startNode) === -1) {\n                nodeCollection.push(startNode);\n            }\n            startNode = this.getNode(startNode, endNode, nodeCollection);\n        } while (startNode);\n        return nodeCollection;\n    };\n    /**\n     * getParentNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodeCollection = function (range) {\n        return this.getParentNodes(this.getNodeCollection(range), range);\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @param {Range} range - specifies the range values.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1)\n                || (nodeCollection[index].nodeType === 3 &&\n                    range.startContainer !== range.endContainer &&\n                    range.startContainer.parentNode !== range.endContainer.parentNode)) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n            else if (nodeCollection[index].nodeType === 3) {\n                nodeCollection[index] = nodeCollection[index].parentNode;\n            }\n        }\n        return nodeCollection;\n    };\n    /**\n     * getSelectionNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n        return this.getSelectionNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getSelectionNodeCollection along with BR node method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n        return this.getSelectionNodesBr(this.getNodeCollection(range));\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * Get selection text nodes with br method.\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeName !== 'BR' &&\n                (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                    (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getInsertNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodeCollection = function (range) {\n        return this.getInsertNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getInsertNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection[index].childNodes.length !== 0 &&\n                nodeCollection[index].nodeType !== 3) ||\n                (nodeCollection[index].nodeType === 3 &&\n                    nodeCollection[index].textContent === '')) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getNodeArray method\n     *\n     * @param {Node} node - specifies the node content.\n     * @param {boolean} isStart - specifies the boolean value.\n     * @param {Document} root - specifies the root document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n        var array = [];\n        // eslint-disable-next-line\n        ((isStart) ? (this.startNodeName = []) : (this.endNodeName = []));\n        for (; node !== (root ? root : this.rootNode); null) {\n            if (isNullOrUndefined(node)) {\n                break;\n            }\n            // eslint-disable-next-line\n            (isStart) ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n            array.push(this.getIndex(node));\n            node = node.parentNode;\n        }\n        return array;\n    };\n    NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n        var node = this.rootNode;\n        var index = num.length;\n        var constant = size;\n        for (; index--; null) {\n            node = node && node.childNodes[num[index]];\n        }\n        if (node && constant >= 0 && node.nodeName !== 'html') {\n            if (node.nodeType === 3 && node.nodeValue.replace(/\\u00a0/g, '&nbsp;') === '&nbsp;') {\n                constant = node.textContent.length;\n            }\n            range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n        }\n        return range;\n    };\n    /**\n     * restore method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.restore = function () {\n        var range = this.range.cloneRange();\n        range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n        range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n        this.selectRange(this.rootNode, range);\n        return range;\n    };\n    NodeSelection.prototype.selectRange = function (docElement, range) {\n        this.setRange(docElement, range);\n        this.save(range, docElement);\n    };\n    /**\n     * setRange method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setRange = function (docElement, range) {\n        var selection = this.get(docElement);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    /**\n     * setSelectionText method\n     *\n     * @param {Document} docElement - specifies the documrent\n     * @param {Node} startNode - specifies the starting node.\n     * @param {Node} endNode - specifies the the end node.\n     * @param {number} startIndex - specifies the starting index.\n     * @param {number} endIndex - specifies the end index.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n        var range = docElement.createRange();\n        range.setStart(startNode, startIndex);\n        range.setEnd(endNode, endIndex);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionContents method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNode(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNodeContents(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * getSelectedNodes method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectedNodes = function (docElement) {\n        return this.getNodeCollection(this.getRange(docElement));\n    };\n    /**\n     * Clear method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.Clear = function (docElement) {\n        this.get(docElement).removeAllRanges();\n    };\n    /**\n     * insertParentNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} newNode - specicfies the new node.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n        range.surroundContents(newNode);\n        this.selectRange(docElement, range);\n    };\n    /**\n     * setCursorPoint method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Element} element - specifies the element.\n     * @param {number} point - specifies the point.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n        var range = docElement.createRange();\n        var selection = docElement.defaultView.getSelection();\n        range.setStart(element, point);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    return NodeSelection;\n}());\nexport { NodeSelection };\n","/**\n * Default Markdown formats config for adapter\n */\nexport var markdownFormatTags = {\n    'h6': '###### ',\n    'h5': '##### ',\n    'h4': '#### ',\n    'h3': '### ',\n    'h2': '## ',\n    'h1': '# ',\n    'blockquote': '> ',\n    'pre': '```\\n',\n    'p': ''\n};\n/**\n * Default selection formats config for adapter\n */\nexport var markdownSelectionTags = {\n    'Bold': '**',\n    'Italic': '*',\n    'StrikeThrough': '~~',\n    'InlineCode': '`',\n    'SubScript': '<sub>',\n    'SuperScript': '<sup>',\n    'UpperCase': 'A-Z',\n    'LowerCase': 'a-z'\n};\n/**\n * Default Markdown lists config for adapter\n */\nexport var markdownListsTags = {\n    'OL': '1. ',\n    'UL': '- '\n};\n/**\n * Default html key config for adapter\n */\nexport var htmlKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'underline': 'ctrl+u',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'indents': 'ctrl+]',\n    'outdents': 'ctrl+[',\n    'html-source': 'ctrl+shift+h',\n    'full-screen': 'ctrl+shift+f',\n    'decrease-fontsize': 'ctrl+shift+<',\n    'increase-fontsize': 'ctrl+shift+>',\n    'justify-center': 'ctrl+e',\n    'justify-full': 'ctrl+j',\n    'justify-left': 'ctrl+l',\n    'justify-right': 'ctrl+r',\n    'clear-format': 'ctrl+shift+r',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o',\n    'space': '32',\n    'enter': '13',\n    'tab': 'tab',\n    'delete': '46'\n};\n/**\n * Default  markdown key config for adapter\n */\nexport var markdownKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'full-screen': 'ctrl+shift+f',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o'\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var pasteCleanupGroupingTags = {\n    'b': ['strong'],\n    'strong': ['b'],\n    'i': ['emp', 'cite'],\n    'emp': ['i', 'cite'],\n    'cite': ['i', 'emp']\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var listConversionFilters = {\n    'first': 'MsoListParagraphCxSpFirst',\n    'middle': 'MsoListParagraphCxSpMiddle',\n    'last': 'MsoListParagraphCxSpLast'\n};\n/**\n * Dom-Node Grouping of self closing tags\n *\n * @hidden\n */\nexport var selfClosingTags = [\n    'BR',\n    'IMG'\n];\n","import * as CONSTANT from './../base/constant';\nimport { append, detach, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/index';\nimport { selfClosingTags } from '../../common/config';\nimport { getLastTextNode } from '../../common/util';\nexport var markerClassName = {\n    startSelection: 'e-editor-select-start',\n    endSelection: 'e-editor-select-end'\n};\n/**\n * DOMNode internal plugin\n *\n * @hidden\n\n */\nvar DOMNode = /** @class */ (function () {\n    /**\n     * Constructor for creating the DOMNode plugin\n     *\n     * @param {Element} parent - specifies the parent element\n     * @param {Document} currentDocument - specifies the current document.\n     * @hidden\n\n     */\n    function DOMNode(parent, currentDocument) {\n        this.parent = parent;\n        this.nodeSelection = new NodeSelection();\n        this.currentDocument = currentDocument;\n    }\n    /**\n     * contents method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.contents = function (element) {\n        return (element && 'IFRAME' !== element.tagName ? Array.prototype.slice.call(element.childNodes || []) : []);\n    };\n    /**\n     * isBlockNode method\n     *\n     * @param {Element} element - specifies the node element.\n     * @returns {boolean} - sepcifies the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    /**\n     * isLink method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {boolean} -  specifies the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isLink = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && 'a' === element.tagName.toLowerCase()));\n    };\n    /**\n     * blockParentNode method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {Element} - returns the element value\n     * @hidden\n\n     */\n    DOMNode.prototype.blockParentNode = function (element) {\n        for (; element && element.parentNode !== this.parent && ((!element.parentNode ||\n            !this.hasClass(element.parentNode, 'e-node-inner'))); null) {\n            element = element.parentNode;\n            if (this.isBlockNode(element)) {\n                return element;\n            }\n        }\n        return element;\n    };\n    /**\n     * rawAttributes method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {string} - returns the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.rawAttributes = function (element) {\n        var rawAttr = {};\n        var attributes = element.attributes;\n        if (attributes.length > 0) {\n            for (var d = 0; d < attributes.length; d++) {\n                var e = attributes[d];\n                rawAttr[e.nodeName] = e.value;\n            }\n        }\n        return rawAttr;\n    };\n    /**\n     * attributes method\n     *\n     * @param {Element} element - sepcifies the element.\n     * @returns {string} - returns the string value.\n     * @hidden\n\n     */\n    DOMNode.prototype.attributes = function (element) {\n        if (!element) {\n            return '';\n        }\n        var attr = '';\n        var rawAttr = this.rawAttributes(element);\n        var orderRawAttr = Object.keys(rawAttr).sort();\n        for (var e = 0; e < orderRawAttr.length; e++) {\n            var attrKey = orderRawAttr[e];\n            var attrValue = rawAttr[attrKey];\n            /* eslint-disable */\n            if (attrValue.indexOf(\"'\") < 0 && attrValue.indexOf('\"') >= 0) {\n                attr += ' ' + attrKey + \"='\" + attrValue + \"'\";\n            }\n            else if (attrValue.indexOf('\"') >= 0 && attrValue.indexOf(\"'\") >= 0) {\n                /* eslint-enable */\n                attrValue = attrValue.replace(/\"/g, '&quot;');\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n            else {\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n        }\n        return attr;\n    };\n    /**\n     * clearAttributes method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.clearAttributes = function (element) {\n        for (var attr = element.attributes, c = attr.length - 1; c >= 0; c--) {\n            var key = attr[c];\n            element.removeAttribute(key.nodeName);\n        }\n    };\n    /**\n     * openTagString method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {string} - returns the string\n     * @hidden\n\n     */\n    DOMNode.prototype.openTagString = function (element) {\n        return '<' + element.tagName.toLowerCase() + this.attributes(element) + '>';\n    };\n    /**\n     * closeTagString method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {string} - returns the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.closeTagString = function (element) {\n        return '</' + element.tagName.toLowerCase() + '>';\n    };\n    /**\n     * createTagString method\n     *\n     * @param {string} tagName - specifies the tag name\n     * @param {Element} relativeElement - specifies the relative element\n     * @param {string} innerHTML - specifies the string value\n     * @returns {string} - returns the string value.\n     * @hidden\n\n     */\n    DOMNode.prototype.createTagString = function (tagName, relativeElement, innerHTML) {\n        return '<' + tagName.toLowerCase() + this.attributes(relativeElement) + '>' + innerHTML + '</' + tagName.toLowerCase() + '>';\n    };\n    /**\n     * isList method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isList = function (element) {\n        return !!element && ['UL', 'OL'].indexOf(element.tagName) >= 0;\n    };\n    /**\n     * isElement method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isElement = function (element) {\n        return element === this.parent;\n    };\n    /**\n     * isEditable method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditable = function (element) {\n        return ((!element.getAttribute || element.getAttribute('contenteditable') === 'true')\n            && ['STYLE', 'SCRIPT'].indexOf(element.tagName) < 0);\n    };\n    /**\n     * hasClass method\n     *\n     * @param {Element} element - specifes the element.\n     * @param {string} className - specifies the class name value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.hasClass = function (element, className) {\n        return element && element.classList && element.classList.contains(className);\n    };\n    /**\n     * replaceWith method\n     *\n     * @param {Element} element - specifes the element.\n     * @param {string} value - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.replaceWith = function (element, value) {\n        var parentNode = element.parentNode;\n        parentNode.insertBefore(this.parseHTMLFragment(value), element);\n        detach(element);\n    };\n    /**\n     * parseHTMLFragment method\n     *\n     * @param {string} value - specifies the string value\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.parseHTMLFragment = function (value) {\n        /* eslint-disable */\n        var temp = createElement('template');\n        temp.innerHTML = value;\n        if (temp.content instanceof DocumentFragment) {\n            return temp.content;\n        }\n        else {\n            return document.createRange().createContextualFragment(value);\n        }\n        /* eslint-enable */\n    };\n    /**\n     * wrap method\n     *\n     * @param {Element} element - specifies the element\n     * @param {Element} wrapper - specifies the element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.wrap = function (element, wrapper) {\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper = element.previousSibling;\n        wrapper.appendChild(element);\n        return wrapper;\n    };\n    /**\n     * insertAfter method\n     *\n     * @param {Element} newNode - specifies the new node element\n     * @param {Element} referenceNode - specifies the referenece node\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    /**\n     * wrapInner method\n     *\n     * @param {Element} parent - specifies the parent element.\n     * @param {Element} wrapper - specifies the wrapper element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.wrapInner = function (parent, wrapper) {\n        parent.appendChild(wrapper);\n        wrapper = parent.querySelector('.e-rte-wrap-inner');\n        wrapper.classList.remove('e-rte-wrap-inner');\n        if (wrapper.classList.length === 0) {\n            wrapper.removeAttribute('class');\n        }\n        while (parent.firstChild !== wrapper) {\n            wrapper.appendChild(parent.firstChild);\n        }\n        return wrapper;\n    };\n    /**\n     * unWrap method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {Element} - returns the element.\n     * @hidden\n\n     */\n    DOMNode.prototype.unWrap = function (element) {\n        var parent = element.parentNode;\n        var unWrapNode = [];\n        while (element.firstChild) {\n            unWrapNode.push(element.firstChild);\n            parent.insertBefore(element.firstChild, element);\n        }\n        unWrapNode = unWrapNode.length > 0 ? unWrapNode : [element.parentNode];\n        parent.removeChild(element);\n        return unWrapNode;\n    };\n    /**\n     * getSelectedNode method\n     *\n     * @param {Element} element - specifies the element\n     * @param {number} index - specifies the index value.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.getSelectedNode = function (element, index) {\n        if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 &&\n            element.childNodes[index - 1] && element.childNodes[index - 1].nodeType === Node.ELEMENT_NODE &&\n            (element.childNodes[index - 1].classList.contains(markerClassName.startSelection) ||\n                element.childNodes[index - 1].classList.contains(markerClassName.endSelection))) {\n            element = element.childNodes[index - 1];\n        }\n        else if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 && element.childNodes[index]) {\n            element = element.childNodes[index];\n        }\n        if (element.nodeType === Node.TEXT_NODE) {\n            element = element.parentNode;\n        }\n        return element;\n    };\n    /**\n     * nodeFinds method\n     *\n     * @param {Element} element - specifies the element.\n     * @param {Element[]} elements - specifies the array of elements\n     * @returns {Element[]} - returnts the array elements\n     * @hidden\n\n     */\n    DOMNode.prototype.nodeFinds = function (element, elements) {\n        var existNodes = [];\n        for (var i = 0; i < elements.length; i++) {\n            if (element.contains(elements[i]) && element !== elements[i]) {\n                existNodes.push(elements[i]);\n            }\n        }\n        return existNodes;\n    };\n    /**\n     * isEditorArea method\n     *\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditorArea = function () {\n        var range = this.getRangePoint(0);\n        var element;\n        for (element = range.commonAncestorContainer; element && !this.isElement(element); null) {\n            element = element.parentNode;\n        }\n        return !!this.isElement(element);\n    };\n    /**\n     * getRangePoint method\n     *\n     * @param {number} point - specifies the number value.\n     * @returns {Range} - returns the range.\n     * @hidden\n\n     */\n    DOMNode.prototype.getRangePoint = function (point) {\n        var selection = this.getSelection();\n        var ranges = [];\n        if (selection && selection.getRangeAt && selection.rangeCount) {\n            ranges = [];\n            for (var f = 0; f < selection.rangeCount; f++) {\n                ranges.push(selection.getRangeAt(f));\n            }\n        }\n        else {\n            ranges = [this.currentDocument.createRange()];\n        }\n        return 'undefined' !== typeof point ? ranges[point] : ranges;\n    };\n    DOMNode.prototype.getSelection = function () {\n        return this.nodeSelection.get(this.currentDocument);\n    };\n    /**\n     * getPreviousNode method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.getPreviousNode = function (element) {\n        element = element.previousElementSibling;\n        for (; element && element.textContent === '\\n'; null) {\n            element = element.previousElementSibling;\n        }\n        return element;\n    };\n    /**\n     * encode method\n     *\n     * @param {string} value - specifies the string value\n     * @returns {string} - specifies the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.encode = function (value) {\n        var divNode = document.createElement('div');\n        divNode.innerText = value;\n        // eslint-disable-next-line\n        return divNode.innerHTML.replace(/<br\\s*[\\/]?>/gi, '\\n');\n    };\n    /**\n     * saveMarker method\n     *\n     * @param {NodeSelection} save - specifies the node selection,\n     * @param {string} action - specifies the action  value.\n     * @returns {NodeSelection} - returns the value\n     * @hidden\n\n     */\n    DOMNode.prototype.saveMarker = function (save, action) {\n        var start = this.parent.querySelector('.' + markerClassName.startSelection);\n        var end = this.parent.querySelector('.' + markerClassName.endSelection);\n        var startTextNode;\n        var endTextNode;\n        if (start.textContent === '' && isNullOrUndefined(end) && action !== 'tab') {\n            if (start.childNodes.length === 1 && start.childNodes[0].nodeName === 'BR') {\n                start.innerHTML = '&#65279;&#65279;<br>';\n            }\n            else {\n                start.innerHTML = '&#65279;&#65279;';\n            }\n        }\n        if (this.hasClass(start, markerClassName.startSelection) && start.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, start, this.encode(start.textContent));\n            this.replaceWith(start, replace);\n            start = this.parent.querySelector('.' + markerClassName.startSelection);\n            start.classList.remove(markerClassName.startSelection);\n            startTextNode = start.childNodes[0];\n        }\n        else {\n            startTextNode = this.unWrap(start)[0];\n        }\n        if (this.hasClass(end, markerClassName.endSelection) && end.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, end, this.encode(end.textContent));\n            this.replaceWith(end, replace);\n            end = this.parent.querySelector('.' + markerClassName.endSelection);\n            end.classList.remove(markerClassName.endSelection);\n            endTextNode = end.childNodes[0];\n        }\n        else {\n            endTextNode = end ? this.unWrap(end)[0] : startTextNode;\n        }\n        save.startContainer = save.getNodeArray(startTextNode, true);\n        save.endContainer = save.getNodeArray(endTextNode, false);\n        return save;\n    };\n    DOMNode.prototype.marker = function (className, textContent) {\n        return '<span class=\"' + className + '\">' + textContent + '</span>';\n    };\n    /**\n     * setMarker method\n     *\n     * @param {NodeSelection} save - specifies the node selection.\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.setMarker = function (save) {\n        var range = save.range;\n        var startChildNodes = range.startContainer.childNodes;\n        var isTableStart = startChildNodes.length > 1 && startChildNodes[0].nodeName === 'TABLE';\n        var start = ((isTableStart ? getLastTextNode(startChildNodes[range.startOffset + 1]) :\n            startChildNodes[(range.startOffset > 0) ? (range.startOffset - 1) : range.startOffset]) || range.startContainer);\n        var end = (range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer);\n        if ((start.nodeType === Node.ELEMENT_NODE && end.nodeType === Node.ELEMENT_NODE) && (start.contains(end) || end.contains(start))) {\n            var existNode = start.contains(end) ? start : end;\n            var isElement = existNode.nodeType !== Node.TEXT_NODE;\n            if (isElement) {\n                var nodes = [];\n                var textNodes = [];\n                for (var node = existNode; existNode.contains(node); null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (textNodes.indexOf(node) < 0 && (node.nodeType === Node.TEXT_NODE ||\n                        (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0\n                            && (node.tagName === 'BR' || node.tagName === 'IMG')))) {\n                        textNodes.push(node);\n                    }\n                }\n                if (textNodes.length) {\n                    start = start.contains(end) ? textNodes[0] : start;\n                    end = textNodes[textNodes.length - 1];\n                }\n            }\n        }\n        if (start !== end) {\n            if (start.nodeType !== Node.TEXT_NODE && ((start.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(start.parentNode.tagName.toLocaleLowerCase()) >= 0) ||\n                start.tagName === 'IMG')) {\n                this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n                var markerStart = range.startContainer.querySelector('.' + markerClassName.startSelection);\n                markerStart.appendChild(start);\n            }\n            else {\n                if (start.nodeType != 3 && start.nodeName != '#text') {\n                    var marker = this.marker(markerClassName.startSelection, '');\n                    append([this.parseHTMLFragment(marker)], start);\n                }\n                else {\n                    this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n                }\n            }\n            if (end.nodeType !== Node.TEXT_NODE && end.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(end.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                this.replaceWith(end, this.marker(markerClassName.endSelection, this.encode(end.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(end);\n            }\n            else {\n                this.ensureSelfClosingTag(end, markerClassName.endSelection, range);\n            }\n        }\n        else {\n            this.ensureSelfClosingTag(start, markerClassName.startSelection, range);\n        }\n    };\n    /**\n     * ensureSelfClosingTag method\n     *\n     * @param {Element} start - specifies the element.\n     * @param {string} className - specifes the class name string value\n     * @param {Range} range - specifies the range value\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.ensureSelfClosingTag = function (start, className, range) {\n        var isTable = false;\n        if (start.nodeType === 3) {\n            this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n        }\n        else if (start.tagName === 'BR') {\n            this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n            var markerStart = range.startContainer.querySelector('.' + className);\n            markerStart.appendChild(start);\n        }\n        else {\n            if (start.tagName === 'IMG') {\n                var parNode = document.createElement('p');\n                start.parentElement.insertBefore(parNode, start);\n                parNode.appendChild(start);\n                start = parNode.children[0];\n            }\n            if (start.tagName === 'TABLE') {\n                isTable = true;\n                if (start.textContent === '') {\n                    var tdNode = start.querySelectorAll('td');\n                    start = tdNode[tdNode.length - 1];\n                    start = !isNullOrUndefined(start.childNodes[0]) ? start.childNodes[0] : start;\n                }\n                else {\n                    var lastNode = start.lastChild;\n                    while (lastNode.nodeType !== 3 && lastNode.nodeName !== '#text' &&\n                        lastNode.nodeName !== 'BR') {\n                        lastNode = lastNode.lastChild;\n                    }\n                    start = lastNode;\n                }\n            }\n            for (var i = 0; i < selfClosingTags.length; i++) {\n                start = (start.tagName === selfClosingTags[i] && !isTable) ? start.parentNode : start;\n            }\n            if (start.nodeType === 3 && start.nodeName === '#text') {\n                this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n            }\n            else if (start.nodeName === 'BR') {\n                this.replaceWith(start, this.marker(markerClassName.endSelection, this.encode(start.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(start);\n            }\n            else {\n                var marker = this.marker(className, '');\n                append([this.parseHTMLFragment(marker)], start);\n            }\n        }\n    };\n    /**\n     * createTempNode method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.createTempNode = function (element) {\n        var textContent = element.textContent;\n        if (element.tagName === 'BR') {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var node = element.parentNode;\n            if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.tagName.toLocaleLowerCase()) >= 0) {\n                element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            }\n        }\n        else if (((element.nodeType !== Node.TEXT_NODE &&\n            (element.classList.contains(markerClassName.startSelection) ||\n                element.classList.contains(markerClassName.endSelection))) ||\n            textContent.replace(/\\n/g, '').replace(/(^ *)|( *$)/g, '').length > 0 ||\n            textContent.length && textContent.indexOf('\\n') < 0)) {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var target = element;\n            element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            var ignoreBr = target.nodeType === Node.ELEMENT_NODE && target.firstChild && target.firstChild.nodeName === 'BR'\n                && (target.classList.contains(markerClassName.startSelection) ||\n                    target.classList.contains(markerClassName.endSelection));\n            if (!ignoreBr && element.nextElementSibling && element.nextElementSibling.tagName === 'BR') {\n                element.appendChild(element.nextElementSibling);\n            }\n        }\n        return element;\n    };\n    /**\n     * getImageTagInSelection method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.getImageTagInSelection = function () {\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            return selection.focusNode.querySelectorAll('img');\n        }\n        return null;\n    };\n    /**\n     * blockNodes method\n     *\n     * @returns {Node[]} - returns the node array values\n     * @hidden\n\n     */\n    DOMNode.prototype.blockNodes = function () {\n        var collectionNodes = [];\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            var ranges = this.getRangePoint();\n            for (var j = 0; j < ranges.length; j++) {\n                var parentNode = void 0;\n                var range = ranges[j];\n                var startNode = this.getSelectedNode(range.startContainer, range.startOffset);\n                var endNode = this.getSelectedNode(range.endContainer, range.endOffset);\n                if (this.isBlockNode(startNode) && collectionNodes.indexOf(startNode) < 0) {\n                    collectionNodes.push(startNode);\n                }\n                parentNode = this.blockParentNode(startNode);\n                if (parentNode && collectionNodes.indexOf(parentNode) < 0) {\n                    if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(parentNode.tagName.toLocaleLowerCase()) >= 0 && (startNode.tagName === 'BR' ||\n                        startNode.nodeType === Node.TEXT_NODE ||\n                        startNode.classList.contains(markerClassName.startSelection) ||\n                        startNode.classList.contains(markerClassName.endSelection))) {\n                        var tempNode = startNode.previousSibling &&\n                            startNode.previousSibling.nodeType === Node.TEXT_NODE ?\n                            startNode.previousSibling : startNode;\n                        if (!startNode.nextSibling && !startNode.previousSibling && startNode.tagName === 'BR') {\n                            collectionNodes.push(tempNode);\n                        }\n                        else {\n                            collectionNodes.push(this.createTempNode(tempNode));\n                        }\n                    }\n                    else {\n                        collectionNodes.push(parentNode);\n                    }\n                }\n                var nodes = [];\n                for (var node = startNode; node !== endNode && node !== this.parent; null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node && node.nodeType !== 8 && (node.tagName === 'BR' || (node.nodeType === Node.TEXT_NODE &&\n                        node.textContent.trim() !== '') || (node.nodeType !== Node.TEXT_NODE &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection)))) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node);\n                    }\n                    else if (node.nextSibling && node.nextSibling.nodeType !== 8 &&\n                        (node.nextSibling.tagName === 'BR' ||\n                            node.nextSibling.nodeType === Node.TEXT_NODE ||\n                            node.nextSibling.classList.contains(markerClassName.startSelection) ||\n                            node.nextSibling.classList.contains(markerClassName.endSelection)) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.nextSibling.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node.nextSibling);\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (collectionNodes.indexOf(node) < 0 && node.nodeType === Node.ELEMENT_NODE &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0 &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection))) {\n                        collectionNodes.push(this.createTempNode(node));\n                    }\n                    if (this.isBlockNode(node) && this.ignoreTableTag(node) && nodes.indexOf(node) < 0 &&\n                        collectionNodes.indexOf(node) < 0 && (node !== endNode || range.endOffset > 0)) {\n                        collectionNodes.push(node);\n                    }\n                    if (node.nodeName === 'IMG' && node.parentElement.contentEditable === 'true') {\n                        collectionNodes.push(node);\n                    }\n                }\n                parentNode = this.blockParentNode(endNode);\n                if (parentNode && this.ignoreTableTag(parentNode) && collectionNodes.indexOf(parentNode) < 0 &&\n                    (!isNullOrUndefined(parentNode.previousElementSibling) && parentNode.previousElementSibling.tagName !== 'IMG')) {\n                    collectionNodes.push(parentNode);\n                }\n            }\n        }\n        for (var i = collectionNodes.length - 1; i > 0; i--) {\n            var nodes = this.nodeFinds(collectionNodes[i], collectionNodes);\n            if (nodes.length) {\n                var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n                if (collectionNodes[i].tagName === 'LI' && listNodes.length > 0) {\n                    continue;\n                }\n                else {\n                    collectionNodes.splice(i, 1);\n                }\n            }\n        }\n        return collectionNodes;\n    };\n    DOMNode.prototype.ignoreTableTag = function (element) {\n        return !(CONSTANT.TABLE_BLOCK_TAGS.indexOf(element.tagName.toLocaleLowerCase()) >= 0);\n    };\n    return DOMNode;\n}());\nexport { DOMNode };\n","import * as CONSTANT from './../base/constant';\nimport { createElement, detach, prepend, append, attributes, Browser } from '@syncfusion/ej2-base';\nimport { markerClassName } from './dom-node';\nimport * as EVENTS from './../../common/constant';\nimport { setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\n/**\n * Lists internal component\n *\n * @hidden\n\n */\nvar Lists = /** @class */ (function () {\n    /**\n     * Constructor for creating the Lists plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Lists(parent) {\n        this.parent = parent;\n        this.domNode = this.parent.domNode;\n        this.addEventListener();\n    }\n    Lists.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.LIST_TYPE, this.applyListsHandler, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n        this.parent.observer.on(EVENTS.SPACE_ACTION, this.spaceKeyAction, this);\n    };\n    Lists.prototype.testList = function (elem) {\n        var olListRegex = [/^[\\d]+[.]+$/,\n            /^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,\n            /^[a-zA-Z][.]+$/];\n        var elementStart = !isNullOrUndefined(elem) ? elem.innerText.trim().split('.')[0] + '.' : null;\n        if (!isNullOrUndefined(elementStart)) {\n            for (var i = 0; i < olListRegex.length; i++) {\n                if (olListRegex[i].test(elementStart)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.testCurrentList = function (range) {\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!isNullOrUndefined(range.startContainer.textContent.slice(0, range.startOffset))) {\n            var currentContent = range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim();\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(currentContent) && currentContent.length === 2) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.spaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        // eslint-disable-next-line\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        var preElement = startNode.previousElementSibling;\n        var nextElement = startNode.nextElementSibling;\n        var preElemULStart = !isNullOrUndefined(preElement) ?\n            preElement.innerText.trim().substring(0, 1) : null;\n        var nextElemULStart = !isNullOrUndefined(nextElement) ?\n            nextElement.innerText.trim().substring(0, 1) : null;\n        var startElementOLTest = this.testCurrentList(range);\n        var preElementOLTest = this.testList(preElement);\n        var nextElementOLTest = this.testList(nextElement);\n        if (!preElementOLTest && !nextElementOLTest && preElemULStart !== '*' && nextElemULStart !== '*') {\n            if (startElementOLTest) {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n            else if (range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim() === '*' ||\n                range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim() === '-') {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n        }\n    };\n    Lists.prototype.enterList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = range.startContainer.nodeName === 'LI' ? range.startContainer :\n            range.startContainer.parentElement.closest('LI');\n        var endNode = range.endContainer.nodeName === 'LI' ? range.endContainer :\n            range.endContainer.parentElement.closest('LI');\n        if (!isNOU(startNode) && !isNOU(endNode) && startNode === endNode && startNode.tagName === 'LI' &&\n            startNode.textContent.trim() === '' && startNode.querySelectorAll('IMG').length === 0) {\n            if (startNode.innerHTML.indexOf('&nbsp;') >= 0) {\n                return;\n            }\n            if (startNode.textContent.charCodeAt(0) === 65279) {\n                startNode.textContent = '';\n            }\n            var startNodeParent = startNode.parentElement;\n            if (isNOU(startNodeParent.parentElement.closest('UL')) && isNOU(startNodeParent.parentElement.closest('OL'))) {\n                if (!isNOU(startNode.nextElementSibling)) {\n                    var nearBlockNode = this.parent.domNode.blockParentNode(startNode);\n                    this.parent.nodeCutter.GetSpliceNode(range, nearBlockNode);\n                }\n                var insertTag = void 0;\n                if (e.enterAction === 'DIV') {\n                    insertTag = createElement('div');\n                    insertTag.innerHTML = '<br>';\n                }\n                else if (e.enterAction === 'P') {\n                    insertTag = createElement('p');\n                    insertTag.innerHTML = '<br>';\n                }\n                else {\n                    insertTag = createElement('br');\n                }\n                this.parent.domNode.insertAfter(insertTag, startNodeParent);\n                e.event.preventDefault();\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, insertTag, 0);\n                if (startNodeParent.textContent === '') {\n                    detach(startNodeParent);\n                }\n                else {\n                    detach(startNode);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Lists.prototype.backspaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        startNode = startNode.nodeName === 'BR' ? startNode.parentElement : startNode;\n        endNode = endNode.nodeName === 'BR' ? endNode.parentElement : endNode;\n        if (startNode === endNode && !isNullOrUndefined(closest(startNode, 'li')) &&\n            ((startNode.textContent.trim() === '' && startNode.textContent.charCodeAt(0) === 65279) ||\n                (startNode.textContent.length === 1 && startNode.textContent.charCodeAt(0) === 8203))) {\n            startNode.textContent = '';\n        }\n        if (startNode === endNode && startNode.tagName === 'LI' && startNode.textContent.length === 0 &&\n            isNOU(startNode.previousElementSibling)) {\n            startNode.removeAttribute('style');\n        }\n        if (startNode === endNode && startNode.textContent === '') {\n            if (startNode.parentElement.tagName === 'LI' && endNode.parentElement.tagName === 'LI') {\n                detach(startNode);\n            }\n            else if (startNode.closest('ul') || startNode.closest('ol')) {\n                var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n                if (parentList.firstElementChild === startNode && !isNOU(parentList.children[1]) &&\n                    (parentList.children[1].tagName === 'OL' || parentList.children[1].tagName === 'UL')) {\n                    if (parentList.tagName === parentList.children[1].tagName) {\n                        while (parentList.children[1].lastChild) {\n                            this.parent.domNode.insertAfter(parentList.children[1].lastChild, parentList.children[1]);\n                        }\n                        detach(parentList.children[1]);\n                    }\n                    else {\n                        parentList.parentElement.insertBefore(parentList.children[1], parentList);\n                    }\n                }\n            }\n        }\n        else if (!isNOU(startNode.firstChild) && startNode.firstChild.nodeName === 'BR' &&\n            (!isNullOrUndefined(startNode.childNodes[1]) && (startNode.childNodes[1].nodeName === 'UL' ||\n                startNode.childNodes[1].nodeName === 'OL'))) {\n            var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n            if (parentList.tagName === startNode.childNodes[1].nodeName) {\n                while (startNode.childNodes[1].lastChild) {\n                    this.parent.domNode.insertAfter(startNode.children[1].lastChild, startNode);\n                }\n                detach(startNode.childNodes[1]);\n            }\n            else {\n                parentList.parentElement.insertBefore(startNode.children[1], parentList);\n            }\n        }\n        this.removeList(range, e);\n    };\n    Lists.prototype.removeList = function (range, e) {\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        startNode = startNode.nodeName === 'BR' ? startNode.parentElement : startNode;\n        endNode = endNode.nodeName === 'BR' ? endNode.parentElement : endNode;\n        startNode = startNode.nodeName !== 'LI' && !isNOU(startNode.closest('LI')) ? startNode.closest('LI') : startNode;\n        endNode = endNode.nodeName !== 'LI' && !isNOU(endNode.closest('LI')) ? endNode.closest('LI') : endNode;\n        if (((range.commonAncestorContainer.nodeName === 'OL' || range.commonAncestorContainer.nodeName === 'UL' || range.commonAncestorContainer.nodeName === 'LI') &&\n            isNOU(endNode.nextElementSibling) && endNode.textContent.length === range.endOffset &&\n            isNOU(startNode.previousElementSibling) && range.startOffset === 0) ||\n            (Browser.userAgent.indexOf('Firefox') != -1 && range.startContainer === range.endContainer && range.startContainer === this.parent.editableElement &&\n                range.startOffset === 0 && range.endOffset === 1)) {\n            if (Browser.userAgent.indexOf('Firefox') != -1) {\n                detach(range.commonAncestorContainer.childNodes[0]);\n            }\n            else if (range.commonAncestorContainer.nodeName === 'LI') {\n                detach(range.commonAncestorContainer.parentElement);\n            }\n            else {\n                detach(range.commonAncestorContainer);\n            }\n            e.event.preventDefault();\n        }\n    };\n    Lists.prototype.keyDownHandler = function (e) {\n        if (e.event.which === 13) {\n            this.enterList(e);\n        }\n        if (e.event.which === 32) {\n            this.spaceList(e);\n        }\n        if (e.event.which === 8) {\n            this.backspaceList(e);\n        }\n        if (e.event.which === 46 && e.event.action === 'delete') {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            var commonAncestor = range.commonAncestorContainer;\n            var startEle = range.startContainer;\n            var endEle = range.endContainer;\n            var startNode = startEle.nodeType === 3 ? startEle.parentElement : startEle;\n            var endNode = endEle.nodeType === 3 ? endEle.parentElement : endEle;\n            if ((commonAncestor.nodeName === 'UL' || commonAncestor.nodeName === 'OL') && startNode !== endNode\n                && (!isNullOrUndefined(closest(startNode, 'ul')) || !isNullOrUndefined(closest(startNode, 'ol')))\n                && (!isNullOrUndefined(closest(endNode, 'ul')) || !isNullOrUndefined(closest(endNode, 'ol')))\n                && (commonAncestor.lastElementChild === closest(endNode, 'li')) && !range.collapsed) {\n                detach(commonAncestor);\n            }\n            this.removeList(range, e);\n        }\n        if (e.event.which === 9) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            if (!(e.event.action && e.event.action === 'indent')) {\n                this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n            }\n            var blockNodes = void 0;\n            var startOffset = range.startOffset;\n            var endOffset = range.endOffset;\n            var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n            var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n            if ((startNode === endNode && (startNode.nodeName === 'BR' || startNode.nodeName === '#text') &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(startNode.parentNode.tagName.toLocaleLowerCase()) >= 0)) {\n                return;\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.domNode.setMarker(this.saveSelection);\n                }\n                blockNodes = this.domNode.blockNodes();\n            }\n            var nodes = [];\n            var isNested = true;\n            for (var i = 0; i < blockNodes.length; i++) {\n                if (blockNodes[i].parentNode.tagName === 'LI') {\n                    nodes.push(blockNodes[i].parentNode);\n                }\n                else if (blockNodes[i].tagName === 'LI' && blockNodes[i].childNodes[0].tagName !== 'P' &&\n                    (blockNodes[i].childNodes[0].tagName !== 'OL' &&\n                        blockNodes[i].childNodes[0].tagName !== 'UL')) {\n                    nodes.push(blockNodes[i]);\n                }\n            }\n            if (nodes.length > 1 || nodes.length && ((startOffset === 0 && endOffset === 0) || e.ignoreDefault)) {\n                e.event.preventDefault();\n                e.event.stopPropagation();\n                this.currentAction = this.getAction(nodes[0]);\n                if (e.event.shiftKey) {\n                    this.revertList(nodes, e);\n                    this.revertClean();\n                }\n                else {\n                    isNested = this.nestedList(nodes);\n                }\n                if (isNested) {\n                    this.cleanNode();\n                    this.parent.editableElement.focus();\n                }\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n                    this.saveSelection.restore();\n                    if (e.callBack) {\n                        e.callBack({\n                            requestType: this.currentAction,\n                            editorMode: 'HTML',\n                            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                            elements: this.parent.domNode.blockNodes(),\n                            event: e.event\n                        });\n                    }\n                }\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    if (e.event && e.event.shiftKey && e.event.key === 'Tab') {\n                        e.event.action = 'tab';\n                    }\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection, e.event.action);\n                    this.saveSelection.restore();\n                }\n            }\n        }\n        else {\n            switch (e.event.action) {\n                case 'ordered-list':\n                    this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n                case 'unordered-list':\n                    this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n            }\n        }\n    };\n    Lists.prototype.spaceKeyAction = function (e) {\n        if (e.event.which === 32) {\n            this.spaceList(e);\n        }\n    };\n    Lists.prototype.getAction = function (element) {\n        var parentNode = element.parentNode;\n        return (parentNode.nodeName === 'OL' ? 'OL' : 'UL');\n    };\n    Lists.prototype.revertClean = function () {\n        var collectionNodes = this.parent.editableElement.querySelectorAll('ul, ol');\n        for (var i = 0; i < collectionNodes.length; i++) {\n            var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n            if (listNodes.length > 0) {\n                for (var j = 0; j < listNodes.length; j++) {\n                    var prevSibling = listNodes[j].previousSibling;\n                    if (prevSibling && prevSibling.tagName === 'LI') {\n                        prevSibling.appendChild(listNodes[j]);\n                    }\n                }\n            }\n        }\n    };\n    Lists.prototype.noPreviousElement = function (elements) {\n        var firstNode;\n        var firstNodeOL;\n        var siblingListOL = elements.querySelectorAll('ol, ul');\n        var siblingListLI = elements\n            .querySelectorAll('li');\n        var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n        if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n            firstNode = siblingListLI[0];\n        }\n        else {\n            firstNodeOL = siblingListOL[0];\n        }\n        if (firstNode) {\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                prepend([h], firstNode);\n                setStyleAttribute(elements, { 'list-style-type': 'none' });\n                setStyleAttribute(firstNode, { 'list-style-type': '' });\n                h = nextSibling;\n            }\n        }\n        else if (firstNodeOL) {\n            var nestedElement = createElement('li');\n            prepend([nestedElement], firstNodeOL);\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                nestedElement.appendChild(h);\n                h = nextSibling;\n            }\n            prepend([firstNodeOL], elements.parentNode);\n            detach(elements);\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], firstNodeOL.parentNode);\n            append([firstNodeOL], nestedElementLI);\n        }\n        else {\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], elements.parentNode);\n            var nestedElement = createElement(elements.parentNode.tagName);\n            prepend([nestedElement], nestedElementLI);\n            append([elements], nestedElement);\n        }\n    };\n    Lists.prototype.nestedList = function (elements) {\n        var isNested = false;\n        for (var i = 0; i < elements.length; i++) {\n            var prevSibling = this.domNode.getPreviousNode(elements[i]);\n            if (prevSibling) {\n                isNested = true;\n                var firstNode = void 0;\n                var firstNodeLI = void 0;\n                var siblingListOL = elements[i].querySelectorAll('ol, ul');\n                var siblingListLI = elements[i]\n                    .querySelectorAll('li');\n                var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n                if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n                    firstNodeLI = siblingListLI[0];\n                }\n                else {\n                    firstNode = siblingListOL[0];\n                }\n                if (firstNode) {\n                    var nestedElement = createElement('li');\n                    prepend([nestedElement], firstNode);\n                    for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                        var nextSibling = h.nextSibling;\n                        nestedElement.appendChild(h);\n                        h = nextSibling;\n                    }\n                    append([firstNode], prevSibling);\n                    detach(elements[i]);\n                }\n                else if (firstNodeLI) {\n                    if (prevSibling.tagName === 'LI') {\n                        for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                            var nextSibling = h.nextSibling;\n                            prepend([h], firstNodeLI);\n                            setStyleAttribute(elements[i], { 'list-style-type': 'none' });\n                            setStyleAttribute(firstNodeLI, { 'list-style-type': '' });\n                            h = nextSibling;\n                        }\n                        append([firstNodeLI.parentNode], prevSibling);\n                        detach(elements[i]);\n                    }\n                }\n                else {\n                    if (prevSibling.tagName === 'LI') {\n                        var nestedElement = createElement(elements[i].parentNode.tagName);\n                        append([nestedElement], prevSibling);\n                        append([elements[i]], nestedElement);\n                    }\n                    else if (prevSibling.tagName === 'OL' || prevSibling.tagName === 'UL') {\n                        append([elements[i]], prevSibling);\n                    }\n                }\n            }\n            else {\n                var element = elements[i];\n                isNested = true;\n                this.noPreviousElement(element);\n            }\n        }\n        return isNested;\n    };\n    Lists.prototype.applyListsHandler = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        if (Browser.userAgent.indexOf('Firefox') != -1 && range.startContainer === range.endContainer && range.startContainer === this.parent.editableElement) {\n            var startChildNodes = range.startContainer.childNodes;\n            var startNode = ((startChildNodes[(range.startOffset > 0) ? (range.startOffset - 1) : range.startOffset]) || range.startContainer);\n            var endNode = (range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset] || range.endContainer);\n            var lastSelectionNode = endNode.lastChild.nodeName === 'BR' ? (isNOU(endNode.lastChild.previousSibling) ? endNode\n                : endNode.lastChild.previousSibling) : endNode.lastChild;\n            while (!isNOU(lastSelectionNode) && lastSelectionNode.nodeName !== '#text' && lastSelectionNode.nodeName !== 'IMG' &&\n                lastSelectionNode.nodeName !== 'BR' && lastSelectionNode.nodeName !== 'HR') {\n                lastSelectionNode = lastSelectionNode.lastChild;\n            }\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startNode, lastSelectionNode, 0, lastSelectionNode.textContent.length);\n            range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        }\n        if (range.startContainer === range.endContainer && range.startContainer === this.parent.editableElement &&\n            range.startOffset === range.endOffset && range.startOffset === 0 &&\n            this.parent.editableElement.textContent.length === 0 && (this.parent.editableElement.childNodes[0].nodeName != 'TABLE' &&\n            this.parent.editableElement.childNodes[0].nodeName != 'IMG')) {\n            var focusNode = range.startContainer.childNodes[0];\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, focusNode, focusNode, 0, 0);\n            range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        }\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.currentAction = e.subCommand;\n        this.currentAction = e.subCommand = this.currentAction === 'NumberFormatList' ? 'OL' : this.currentAction === 'BulletFormatList' ? 'UL' : this.currentAction;\n        this.domNode.setMarker(this.saveSelection);\n        var listsNodes = this.domNode.blockNodes();\n        if (e.enterAction === 'BR') {\n            this.setSelectionBRConfig();\n            var allSelectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument);\n            var selectedNodes = this.parent.nodeSelection.getSelectionNodes(allSelectedNode);\n            var currentFormatNodes = [];\n            if (selectedNodes.length === 0) {\n                selectedNodes.push(listsNodes[0]);\n            }\n            for (var i = 0; i < selectedNodes.length; i++) {\n                var currentNode = selectedNodes[i];\n                var previousCurrentNode = void 0;\n                while (!this.parent.domNode.isBlockNode(currentNode) && currentNode !== this.parent.editableElement) {\n                    previousCurrentNode = currentNode;\n                    currentNode = currentNode.parentElement;\n                }\n                if (this.parent.domNode.isBlockNode(currentNode) && currentNode === this.parent.editableElement) {\n                    currentFormatNodes.push(previousCurrentNode);\n                }\n            }\n            for (var i = 0; i < currentFormatNodes.length; i++) {\n                if (!this.parent.domNode.isBlockNode(currentFormatNodes[i])) {\n                    var currentNode = currentFormatNodes[i];\n                    var previousNode = currentNode;\n                    while (currentNode === this.parent.editableElement) {\n                        previousNode = currentNode;\n                        currentNode = currentNode.parentElement;\n                    }\n                    var tempElem = void 0;\n                    if (this.parent.domNode.isBlockNode(previousNode.parentElement) &&\n                        previousNode.parentElement === this.parent.editableElement) {\n                        tempElem = createElement('p');\n                        previousNode.parentElement.insertBefore(tempElem, previousNode);\n                        tempElem.appendChild(previousNode);\n                    }\n                    else {\n                        tempElem = previousNode;\n                    }\n                    var preNode = tempElem.previousSibling;\n                    while (!isNOU(preNode) && preNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(preNode)) {\n                        tempElem.firstChild.parentElement.insertBefore(preNode, tempElem.firstChild);\n                        preNode = tempElem.previousSibling;\n                    }\n                    if (!isNOU(preNode) && preNode.nodeName === 'BR') {\n                        detach(preNode);\n                    }\n                    var postNode = tempElem.nextSibling;\n                    while (!isNOU(postNode) && postNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(postNode)) {\n                        tempElem.appendChild(postNode);\n                        postNode = tempElem.nextSibling;\n                    }\n                    if (!isNOU(postNode) && postNode.nodeName === 'BR') {\n                        detach(postNode);\n                    }\n                }\n            }\n            this.setSelectionBRConfig();\n            listsNodes = this.parent.domNode.blockNodes();\n        }\n        for (var i = 0; i < listsNodes.length; i++) {\n            if (listsNodes[i].tagName === 'TABLE' && !range.collapsed) {\n                listsNodes.splice(i, 1);\n            }\n            if (listsNodes.length > 0 && listsNodes[i].tagName !== 'LI'\n                && 'LI' === listsNodes[i].parentNode.tagName) {\n                listsNodes[i] = listsNodes[i].parentNode;\n            }\n        }\n        this.applyLists(listsNodes, this.currentAction, e.selector, e.item, e);\n        if (e.callBack) {\n            e.callBack({\n                requestType: this.currentAction,\n                event: e.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Lists.prototype.setSelectionBRConfig = function () {\n        var startElem = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endElem = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (isNOU(endElem)) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, startElem, 0);\n        }\n        else {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startElem, endElem, 0, 0);\n        }\n    };\n    Lists.prototype.applyLists = function (elements, type, selector, item, e) {\n        var isReverse = true;\n        if (this.isRevert(elements, type, item) && isNOU(item)) {\n            this.revertList(elements, e);\n            this.removeEmptyListElements();\n        }\n        else {\n            this.checkLists(elements, type, item);\n            for (var i = 0; i < elements.length; i++) {\n                if (!isNOU(item) && !isNOU(item.listStyle)) {\n                    if (item.listStyle === 'listImage') {\n                        setStyleAttribute(elements[i], { 'list-style-image': item.listImage });\n                    }\n                    else {\n                        setStyleAttribute(elements[i], { 'list-style-image': 'none' });\n                        setStyleAttribute(elements[i], { 'list-style-type': item.listStyle.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() });\n                    }\n                }\n                if (elements[i].getAttribute('contenteditable') === 'true'\n                    && elements[i].childNodes.length === 1 && elements[i].childNodes[0].nodeName === 'TABLE') {\n                    var listEle = document.createElement(type);\n                    listEle.innerHTML = '<li><br/></li>';\n                    elements[i].appendChild(listEle);\n                }\n                else if ('LI' !== elements[i].tagName && isNOU(item)) {\n                    isReverse = false;\n                    var elemAtt = elements[i].tagName === 'IMG' ? '' : this.domNode.attributes(elements[i]);\n                    var openTag = '<' + type + '>';\n                    var closeTag = '</' + type + '>';\n                    var newTag = 'li' + elemAtt;\n                    var replaceHTML = (elements[i].tagName.toLowerCase() === CONSTANT.DEFAULT_TAG ? elements[i].innerHTML :\n                        elements[i].outerHTML);\n                    var innerHTML = this.domNode.createTagString(newTag, null, replaceHTML);\n                    var collectionString = openTag + innerHTML + closeTag;\n                    this.domNode.replaceWith(elements[i], collectionString);\n                }\n                else if (!isNOU(item) && 'LI' !== elements[i].tagName) {\n                    // eslint-disable-next-line\n                    isReverse = false;\n                    var elemAtt = elements[i].tagName === 'IMG' ? '' : this.domNode.attributes(elements[i]);\n                    var openTag = '<' + type + elemAtt + '>';\n                    var closeTag = '</' + type + '>';\n                    var newTag = 'li';\n                    var replaceHTML = (elements[i].tagName.toLowerCase() === CONSTANT.DEFAULT_TAG ? elements[i].innerHTML :\n                        elements[i].outerHTML);\n                    var innerHTML = this.domNode.createTagString(newTag, null, replaceHTML);\n                    var collectionString = openTag + innerHTML + closeTag;\n                    this.domNode.replaceWith(elements[i], collectionString);\n                }\n            }\n        }\n        this.cleanNode();\n        this.parent.editableElement.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, selector);\n        }\n        this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n        this.saveSelection.restore();\n    };\n    Lists.prototype.removeEmptyListElements = function () {\n        var listElem = this.parent.editableElement.querySelectorAll('ol, ul');\n        for (var i = 0; i < listElem.length; i++) {\n            if (listElem[i].textContent.trim() === '') {\n                detach(listElem[i]);\n            }\n        }\n    };\n    Lists.prototype.isRevert = function (nodes, tagName, item) {\n        var isRevert = true;\n        for (var i = 0; i < nodes.length; i++) {\n            if (nodes[i].tagName !== 'LI') {\n                return false;\n            }\n            if (nodes[i].parentNode.tagName !== tagName ||\n                isNOU(item) && nodes[i].parentNode.style.listStyleType !== '') {\n                isRevert = false;\n            }\n        }\n        return isRevert;\n    };\n    Lists.prototype.checkLists = function (nodes, tagName, item) {\n        var nodesTemp = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i].parentNode;\n            if (!isNOU(item) && 'LI' === nodes[i].tagName && !isNOU(item.listStyle)) {\n                if (item.listStyle === 'listImage') {\n                    setStyleAttribute(node, { 'list-style-image': item.listImage });\n                }\n                else {\n                    setStyleAttribute(node, { 'list-style-image': 'none' });\n                    setStyleAttribute(node, { 'list-style-type': item.listStyle.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() });\n                }\n            }\n            if ((nodes[i].tagName === 'LI' && node.tagName !== tagName && nodesTemp.indexOf(node) < 0) ||\n                (nodes[i].tagName === 'LI' && node.tagName === tagName && nodesTemp.indexOf(node) < 0 && item !== null)) {\n                nodesTemp.push(node);\n            }\n            if (isNOU(item) && (node.tagName === tagName ||\n                ((node.tagName === 'UL' || node.tagName === 'OL') && node.hasAttribute('style')))) {\n                if (node.hasAttribute('style')) {\n                    node.removeAttribute('style');\n                }\n            }\n        }\n        for (var j = nodesTemp.length - 1; j >= 0; j--) {\n            var h = nodesTemp[j];\n            var replace = '<' + tagName.toLowerCase() + ' '\n                + this.domNode.attributes(h) + '>' + h.innerHTML + '</' + tagName.toLowerCase() + '>';\n            this.domNode.replaceWith(nodesTemp[j], replace);\n        }\n    };\n    Lists.prototype.cleanNode = function () {\n        var liParents = this.parent.editableElement.querySelectorAll('ol + ol, ul + ul');\n        for (var c = 0; c < liParents.length; c++) {\n            var node = liParents[c];\n            if (this.domNode.isList(node.previousElementSibling) &&\n                this.domNode.openTagString(node) === this.domNode.openTagString(node.previousElementSibling)) {\n                var contentNodes = this.domNode.contents(node);\n                for (var f = 0; f < contentNodes.length; f++) {\n                    node.previousElementSibling.appendChild(contentNodes[f]);\n                }\n                node.parentNode.removeChild(node);\n            }\n        }\n    };\n    Lists.prototype.findUnSelected = function (temp, elements) {\n        temp = temp.slice().reverse();\n        if (temp.length > 0) {\n            var rightIndent = [];\n            var indentElements = [];\n            var lastElement = elements[elements.length - 1];\n            var lastElementChild = [];\n            var childElements = [];\n            lastElementChild = (lastElement.childNodes);\n            for (var z = 0; z < lastElementChild.length; z++) {\n                if (lastElementChild[z].tagName === 'OL' || lastElementChild[z].tagName === 'UL') {\n                    var childLI = lastElementChild[z]\n                        .querySelectorAll('li');\n                    if (childLI.length > 0) {\n                        for (var y = 0; y < childLI.length; y++) {\n                            childElements.push(childLI[y]);\n                        }\n                    }\n                }\n            }\n            for (var i = 0; i < childElements.length; i++) {\n                var count = 0;\n                for (var j = 0; j < temp.length; j++) {\n                    if (!childElements[i].contains((temp[j]))) {\n                        count = count + 1;\n                    }\n                }\n                if (count === temp.length) {\n                    indentElements.push(childElements[i]);\n                }\n            }\n            if (indentElements.length > 0) {\n                for (var x = 0; x < indentElements.length; x++) {\n                    if (this.domNode.contents(indentElements[x])[0].nodeName !== 'OL' &&\n                        this.domNode.contents(indentElements[x])[0].nodeName !== 'UL') {\n                        rightIndent.push(indentElements[x]);\n                    }\n                }\n            }\n            if (rightIndent.length > 0) {\n                this.nestedList(rightIndent);\n            }\n        }\n    };\n    Lists.prototype.revertList = function (elements, e) {\n        var temp = [];\n        for (var i = elements.length - 1; i >= 0; i--) {\n            for (var j = i - 1; j >= 0; j--) {\n                if (elements[j].contains((elements[i])) || elements[j] === elements[i]) {\n                    temp.push(elements[i]);\n                    elements.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        this.findUnSelected(temp, elements);\n        var viewNode = [];\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            if (this.domNode.contents(element)[0].nodeType === 3 && this.domNode.contents(element)[0].textContent.trim().length === 0) {\n                detach(this.domNode.contents(element)[0]);\n            }\n            var parentNode = elements[i].parentNode;\n            var className = element.getAttribute('class');\n            if (temp.length === 0) {\n                var siblingList = elements[i].querySelectorAll('ul, ol');\n                var firstNode = siblingList[0];\n                if (firstNode) {\n                    var child = firstNode\n                        .querySelectorAll('li');\n                    if (child) {\n                        var nestedElement = createElement(firstNode.tagName);\n                        append([nestedElement], firstNode.parentNode);\n                        var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n                        append([nestedElementLI], nestedElement);\n                        append([firstNode], nestedElementLI);\n                    }\n                }\n            }\n            if (element.parentNode.insertBefore(this.closeTag(parentNode.tagName), element),\n                'LI' === parentNode.parentNode.tagName || 'OL' === parentNode.parentNode.tagName ||\n                    'UL' === parentNode.parentNode.tagName) {\n                element.parentNode.insertBefore(this.closeTag('LI'), element);\n            }\n            else {\n                var classAttr = '';\n                if (className) {\n                    // eslint-disable-next-line\n                    classAttr += ' class=\"' + className + '\"';\n                }\n                if (CONSTANT.DEFAULT_TAG && 0 === element.querySelectorAll(CONSTANT.BLOCK_TAGS.join(', ')).length) {\n                    var wrapperclass = isNullOrUndefined(className) ? ' class=\"e-rte-wrap-inner\"' :\n                        ' class=\"' + className + ' e-rte-wrap-inner\"';\n                    var wrapper = '<' + CONSTANT.DEFAULT_TAG + wrapperclass +\n                        this.domNode.attributes(parentNode) + '></' + CONSTANT.DEFAULT_TAG + '>';\n                    if (e.enterAction !== 'BR') {\n                        this.domNode.wrapInner(element, this.domNode.parseHTMLFragment(wrapper));\n                    }\n                }\n                else if (this.domNode.contents(element)[0].nodeType === 3) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.parent.domNode.encode(this.domNode.contents(element)[0].textContent));\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else if (this.domNode.contents(element)[0].classList.contains(markerClassName.startSelection) ||\n                    this.domNode.contents(element)[0].classList.contains(markerClassName.endSelection)) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.domNode.contents(element)[0].outerHTML);\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else {\n                    var childNode = element.firstChild;\n                    className = childNode.getAttribute('class');\n                    attributes(childNode, this.domNode.rawAttributes(parentNode));\n                    if (className && childNode.getAttribute('class')) {\n                        attributes(childNode, { 'class': className + ' ' + childNode.getAttribute('class') });\n                    }\n                }\n                append([this.openTag('LI')], element);\n                prepend([this.closeTag('LI')], element);\n            }\n            this.domNode.insertAfter(this.openTag(parentNode.tagName), element);\n            if (parentNode.parentNode.tagName === 'LI') {\n                parentNode = parentNode.parentNode.parentNode;\n            }\n            if (viewNode.indexOf(parentNode) < 0) {\n                viewNode.push(parentNode);\n            }\n        }\n        for (var i = 0; i < viewNode.length; i++) {\n            var node = viewNode[i];\n            var nodeInnerHtml = node.innerHTML;\n            var closeTag = /<span class=\"e-rte-list-close-([a-z]*)\"><\\/span>/g;\n            var openTag = /<span class=\"e-rte-list-open-([a-z]*)\"><\\/span>/g;\n            nodeInnerHtml = nodeInnerHtml.replace(closeTag, '</$1>');\n            nodeInnerHtml = nodeInnerHtml.replace(openTag, '<$1 ' + this.domNode.attributes(node) + '>');\n            this.domNode.replaceWith(node, this.domNode.openTagString(node) + nodeInnerHtml.trim() + this.domNode.closeTagString(node));\n        }\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    Lists.prototype.openTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-open-' + type.toLowerCase() + '\"></span>');\n    };\n    Lists.prototype.closeTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-close-' + type.toLowerCase() + '\"></span>');\n    };\n    return Lists;\n}());\nexport { Lists };\n","/**\n * Node appending methods.\n *\n * @hidden\n */\nvar InsertMethods = /** @class */ (function () {\n    function InsertMethods() {\n    }\n    /**\n     * WrapBefore method\n     *\n     * @param {Text} textNode - specifies the text node\n     * @param {HTMLElement} parentNode - specifies the parent node\n     * @param {boolean} isAfter - specifies the boolean value\n     * @returns {Text} - returns the text value\n     * @hidden\n\n     */\n    InsertMethods.WrapBefore = function (textNode, parentNode, isAfter) {\n        parentNode.innerText = textNode.textContent;\n        //eslint-disable-next-line\n        (!isAfter) ? this.AppendBefore(parentNode, textNode) : this.AppendBefore(parentNode, textNode, true);\n        if (textNode.parentNode) {\n            textNode.parentNode.removeChild(textNode);\n        }\n        return parentNode.childNodes[0];\n    };\n    /**\n     * Wrap method\n     *\n     * @param {HTMLElement} childNode - specifies the child node\n     * @param {HTMLElement} parentNode - specifies the parent node.\n     * @returns {HTMLElement} - returns the element\n     * @hidden\n\n     */\n    InsertMethods.Wrap = function (childNode, parentNode) {\n        this.AppendBefore(parentNode, childNode);\n        parentNode.appendChild(childNode);\n        return childNode;\n    };\n    /**\n     * unwrap method\n     *\n     * @param {Node} node - specifies the node element.\n     * @returns {Node[]} - returns the array of value\n     * @hidden\n\n     */\n    InsertMethods.unwrap = function (node) {\n        var parent = node.parentNode;\n        var child = [];\n        for (; node.firstChild; null) {\n            child.push(parent.insertBefore(node.firstChild, node));\n        }\n        parent.removeChild(node);\n        return child;\n    };\n    /**\n     * AppendBefore method\n     *\n     * @param {HTMLElement} textNode - specifies the element\n     * @param {HTMLElement} parentNode - specifies the parent node\n     * @param {boolean} isAfter - specifies the boolean value\n     * @returns {void}\n     * @hidden\n\n     */\n    InsertMethods.AppendBefore = function (textNode, parentNode, isAfter) {\n        return (parentNode.parentNode) ? ((!isAfter) ? parentNode.parentNode.insertBefore(textNode, parentNode)\n            : parentNode.parentNode.insertBefore(textNode, parentNode.nextSibling)) :\n            parentNode;\n    };\n    return InsertMethods;\n}());\nexport { InsertMethods };\n","import { NodeSelection } from './../../selection/index';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\n/**\n * Split the Node based on selection\n *\n * @hidden\n\n */\nvar NodeCutter = /** @class */ (function () {\n    function NodeCutter() {\n        this.enterAction = 'P';\n        this.position = -1;\n        this.nodeSelection = new NodeSelection();\n    }\n    // Split Selection Node\n    /**\n     * GetSpliceNode method\n     *\n     * @param {Range} range - specifies the range\n     * @param {HTMLElement} node - specifies the node element.\n     * @returns {Node} - returns the node value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetSpliceNode = function (range, node) {\n        node = this.SplitNode(range, node, true);\n        node = this.SplitNode(range, node, false);\n        return node;\n    };\n    /**\n     * @param {Range} range - specifies the range\n     * @param {HTMLElement} node - specifies the node element.\n     * @param {boolean} isCollapsed - specifies the boolean value\n     * @returns {HTMLElement} - returns the element\n     * @hidden\n\n     */\n    NodeCutter.prototype.SplitNode = function (range, node, isCollapsed) {\n        if (node) {\n            var clone = range.cloneRange();\n            var parent_1 = node.parentNode;\n            var index = this.nodeSelection.getIndex(node);\n            clone.collapse(isCollapsed);\n            // eslint-disable-next-line\n            (isCollapsed) ? clone.setStartBefore(node) : clone.setEndAfter(node);\n            var fragment = clone.extractContents();\n            if (isCollapsed) {\n                node = parent_1.childNodes[index];\n                fragment = this.spliceEmptyNode(fragment, false);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            node = divNode.firstChild;\n                            parent_1.appendChild(node);\n                        }\n                    }\n                }\n            }\n            else {\n                node = parent_1.childNodes.length > 1 ? parent_1.childNodes[index] :\n                    parent_1.childNodes[0];\n                fragment = this.spliceEmptyNode(fragment, true);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node, true);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            parent_1.insertBefore(divNode.firstChild, parent_1.firstChild);\n                            node = parent_1.firstChild;\n                        }\n                    }\n                }\n            }\n            return node;\n        }\n        else {\n            return null;\n        }\n    };\n    NodeCutter.prototype.isImgElm = function (fragment) {\n        var result = true;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG') {\n            var firstChild = fragment.childNodes[0];\n            for (var i = 0; !isNOU(firstChild.childNodes) && i < firstChild.childNodes.length; i++) {\n                if (firstChild.childNodes[i].nodeName === 'IMG') {\n                    result = false;\n                }\n            }\n        }\n        else {\n            result = true;\n        }\n        return result;\n    };\n    NodeCutter.prototype.spliceEmptyNode = function (fragment, isStart) {\n        var len;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName === '#text' &&\n            fragment.childNodes[0].textContent === '' || fragment.textContent === '') {\n            len = -1;\n        }\n        else {\n            len = fragment.childNodes.length - 1;\n        }\n        if (len > -1 && !isStart) {\n            this.spliceEmptyNode(fragment.childNodes[len], isStart);\n        }\n        else if (len > -1) {\n            this.spliceEmptyNode(fragment.childNodes[0], isStart);\n        }\n        else if (fragment.nodeType !== 3 && fragment.nodeType !== 11 && fragment.nodeName !== 'IMG') {\n            fragment.parentNode.removeChild(fragment);\n        }\n        return fragment;\n    };\n    // Cursor Position split\n    NodeCutter.prototype.GetCursorStart = function (indexes, index, isStart) {\n        indexes = (isStart) ? indexes : indexes.reverse();\n        var position = indexes[0];\n        for (var num = 0; num < indexes.length && ((isStart) ? (indexes[num] < index) : (indexes[num] >= index)); num++) {\n            position = indexes[num];\n        }\n        return position;\n    };\n    /**\n     * GetCursorRange method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {Range} range - specifies the range\n     * @param {Node} node - specifies the node.\n     * @returns {Range} - returns the range value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorRange = function (docElement, range, node) {\n        var cursorRange = docElement.createRange();\n        var indexes = [];\n        indexes.push(0);\n        var str = this.TrimLineBreak(node.data);\n        var index = str.indexOf(' ', 0);\n        while (index !== -1) {\n            if (indexes.indexOf(index) < 0) {\n                indexes.push(index);\n            }\n            if (new RegExp('\\\\s').test(str[index - 1]) && (indexes.indexOf(index - 1) < 0)) {\n                indexes.push(index - 1);\n            }\n            if (new RegExp('\\\\s').test(str[index + 1])) {\n                indexes.push(index + 1);\n            }\n            index = str.indexOf(' ', (index + 1));\n        }\n        indexes.push(str.length);\n        if ((indexes.indexOf(range.startOffset) >= 0)\n            || ((indexes.indexOf(range.startOffset - 1) >= 0) && (range.startOffset !== 1\n                || (range.startOffset === 1 && new RegExp('\\\\s').test(str[0])))\n                || ((indexes[indexes.length - 1] - 1) === range.startOffset))) {\n            cursorRange = range;\n            this.position = 1;\n        }\n        else {\n            var startOffset = this.GetCursorStart(indexes, range.startOffset, true);\n            this.position = range.startOffset - startOffset;\n            cursorRange.setStart(range.startContainer, startOffset);\n            cursorRange.setEnd(range.startContainer, this.GetCursorStart(indexes, range.startOffset, false));\n        }\n        return cursorRange;\n    };\n    /**\n     * GetCursorNode method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {Range} range - specifies the range\n     * @param {Node} node - specifies the node.\n     * @returns {Node} - returns the node value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorNode = function (docElement, range, node) {\n        return this.GetSpliceNode(this.GetCursorRange(docElement, range, node), node);\n    };\n    /**\n     * TrimLineBreak method\n     *\n     * @param {string} line - specifies the string value.\n     * @returns {string} - returns the string\n     * @hidden\n\n     */\n    NodeCutter.prototype.TrimLineBreak = function (line) {\n        return line.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ');\n    };\n    return NodeCutter;\n}());\nexport { NodeCutter };\n","import * as EVENTS from './../../common/constant';\nimport { isNullOrUndefined as isNOU, detach, createElement, closest } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { markerClassName } from './dom-node';\nimport { NodeCutter } from './nodecutter';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Formats = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @hidden\n\n     */\n    function Formats(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Formats.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.FORMAT_TYPE, this.applyFormats, this);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, this.onKeyUp, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Formats.prototype.getParentNode = function (node) {\n        for (; node.parentNode && node.parentNode !== this.parent.editableElement; null) {\n            node = node.parentNode;\n        }\n        return node;\n    };\n    Formats.prototype.onKeyUp = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var endCon = range.endContainer;\n        var lastChild = endCon.lastChild;\n        if (e.event.which === 13 && range.startContainer === endCon && endCon.nodeType !== 3) {\n            var pTag = createElement('p');\n            pTag.innerHTML = '<br>';\n            if (!isNOU(lastChild) && lastChild && lastChild.nodeName === 'BR' && (lastChild.previousSibling && lastChild.previousSibling.nodeName === 'TABLE')) {\n                endCon.replaceChild(pTag, lastChild);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, pTag, 0);\n            }\n            else {\n                var brNode = this.parent.nodeSelection.getSelectionNodeCollectionBr(range)[0];\n                if (!isNOU(brNode) && brNode.nodeName === 'BR' && (brNode.previousSibling && brNode.previousSibling.nodeName === 'TABLE')) {\n                    endCon.replaceChild(pTag, brNode);\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, pTag, 0);\n                }\n            }\n        }\n    };\n    Formats.prototype.onKeyDown = function (e) {\n        if (e.event.which === 13) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            var startCon = (range.startContainer.textContent.length === 0 || range.startContainer.nodeName === 'PRE')\n                ? range.startContainer : range.startContainer.parentElement;\n            var endCon = (range.endContainer.textContent.length === 0 || range.endContainer.nodeName === 'PRE')\n                ? range.endContainer : range.endContainer.parentElement;\n            var preElem = closest(startCon, 'pre');\n            var endPreElem = closest(endCon, 'pre');\n            var liParent = !isNOU(preElem) && !isNOU(preElem.parentElement) && preElem.parentElement.tagName === 'LI';\n            if (liParent) {\n                return;\n            }\n            if (((isNOU(preElem) && !isNOU(endPreElem)) || (!isNOU(preElem) && isNOU(endPreElem)))) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, endCon, 0);\n            }\n            if (e.event.which === 13 && !isNOU(preElem) && !isNOU(endPreElem)) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                var lastEmpty = range.startContainer.childNodes[range.endOffset];\n                var lastBeforeBr = range.startContainer.childNodes[range.endOffset - 1];\n                var startParent = range.startContainer;\n                if (!isNOU(lastEmpty) && !isNOU(lastBeforeBr) && isNOU(lastEmpty.nextSibling) &&\n                    lastEmpty.nodeName === 'BR' && lastBeforeBr.nodeName === 'BR') {\n                    this.paraFocus(range.startContainer, e.enterAction);\n                }\n                else if ((startParent.textContent.charCodeAt(0) === 8203 &&\n                    startParent.textContent.length === 1) || startParent.textContent.length === 0) {\n                    //Double enter with any parent tag for the node\n                    while (startParent.parentElement.nodeName !== 'PRE' &&\n                        (startParent.textContent.length === 1 || startParent.textContent.length === 0)) {\n                        startParent = startParent.parentElement;\n                    }\n                    if (!isNOU(startParent.previousSibling) && startParent.previousSibling.nodeName === 'BR' &&\n                        isNOU(startParent.nextSibling)) {\n                        this.paraFocus(startParent.parentElement);\n                    }\n                    else {\n                        this.isNotEndCursor(preElem, range);\n                    }\n                }\n                else {\n                    //Cursor at start and middle\n                    this.isNotEndCursor(preElem, range);\n                }\n            }\n        }\n    };\n    Formats.prototype.removeCodeContent = function (range) {\n        var regEx = new RegExp(String.fromCharCode(65279), 'g');\n        if (!isNOU(range.endContainer.textContent.match(regEx))) {\n            var pointer = range.endContainer.textContent.charCodeAt(range.endOffset - 1) === 65279 ?\n                range.endOffset - 2 : range.endOffset;\n            range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n            if (range.endContainer.textContent === '') {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer.parentElement, 0);\n            }\n            else {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer, pointer);\n            }\n        }\n    };\n    Formats.prototype.deleteContent = function (range) {\n        if (range.startContainer !== range.endContainer || range.startOffset !== range.endOffset) {\n            range.deleteContents();\n        }\n    };\n    Formats.prototype.paraFocus = function (referNode, enterAction) {\n        var insertTag;\n        if (enterAction === 'DIV') {\n            insertTag = createElement('div');\n            insertTag.innerHTML = '<br>';\n        }\n        else if (enterAction === 'BR') {\n            insertTag = createElement('br');\n        }\n        else {\n            insertTag = createElement('p');\n            insertTag.innerHTML = '<br>';\n        }\n        this.parent.domNode.insertAfter(insertTag, referNode);\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, insertTag, 0);\n        detach(referNode.lastChild);\n    };\n    Formats.prototype.isNotEndCursor = function (preElem, range) {\n        var nodeCutter = new NodeCutter();\n        var isEnd = range.startOffset === preElem.lastChild.textContent.length &&\n            preElem.lastChild.textContent === range.startContainer.textContent;\n        //Cursor at start point\n        if (preElem.textContent.indexOf(range.startContainer.textContent) === 0 &&\n            ((range.startOffset === 0 && range.endOffset === 0) || range.startContainer.nodeName === 'PRE')) {\n            this.insertMarker(preElem, range);\n            var brTag = createElement('br');\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(brTag, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            //Cursor at middle\n            var cloneNode = nodeCutter.SplitNode(range, preElem, true);\n            this.insertMarker(preElem, range);\n            var previousSib = preElem.previousElementSibling;\n            if (previousSib.tagName === 'PRE') {\n                previousSib.insertAdjacentHTML('beforeend', '<br>' + cloneNode.innerHTML);\n                detach(preElem);\n            }\n        }\n        //To place the cursor position\n        this.setCursorPosition(isEnd, preElem);\n    };\n    Formats.prototype.setCursorPosition = function (isEnd, preElem) {\n        var isEmpty = false;\n        var markerElem = this.parent.editableElement.querySelector('.tempSpan');\n        var mrkParentElem = markerElem.parentElement;\n        // eslint-disable-next-line\n        markerElem.parentNode.textContent === '' ? isEmpty = true :\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n        if (isEnd) {\n            if (isEmpty) {\n                //Enter press when pre element is empty\n                if (mrkParentElem === preElem) {\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                    detach(markerElem);\n                }\n                else {\n                    this.focusSelectionParent(markerElem, mrkParentElem);\n                }\n            }\n            else {\n                var brElm = createElement('br');\n                this.parent.domNode.insertAfter(brElm, markerElem);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                detach(markerElem);\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            isEmpty ? this.focusSelectionParent(markerElem, mrkParentElem) : detach(markerElem);\n        }\n    };\n    Formats.prototype.focusSelectionParent = function (markerElem, tempSpanPElem) {\n        detach(markerElem);\n        tempSpanPElem.innerHTML = '\\u200B';\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, tempSpanPElem, 0);\n    };\n    Formats.prototype.insertMarker = function (preElem, range) {\n        var tempSpan = createElement('span', { className: 'tempSpan' });\n        if (range.startContainer.nodeName === 'PRE') {\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(tempSpan, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            range.startContainer.parentElement.insertBefore(tempSpan, range.startContainer);\n        }\n    };\n    Formats.prototype.applyFormats = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var isSelectAll = false;\n        if (this.parent.editableElement === range.endContainer &&\n            !isNOU(this.parent.editableElement.children[range.endOffset - 1]) &&\n            this.parent.editableElement.children[range.endOffset - 1].tagName === 'TABLE' && !range.collapsed) {\n            isSelectAll = true;\n        }\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var formatsNodes = this.parent.domNode.blockNodes();\n        if (e.enterAction === 'BR') {\n            this.setSelectionBRConfig();\n            var allSelectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument);\n            var selectedNodes = this.parent.nodeSelection.getSelectionNodes(allSelectedNode);\n            var currentFormatNodes = [];\n            if (selectedNodes.length === 0) {\n                selectedNodes.push(formatsNodes[0]);\n            }\n            for (var i = 0; i < selectedNodes.length; i++) {\n                var currentNode = selectedNodes[i];\n                var previousCurrentNode = void 0;\n                while (!this.parent.domNode.isBlockNode(currentNode) && currentNode !== this.parent.editableElement) {\n                    previousCurrentNode = currentNode;\n                    currentNode = currentNode.parentElement;\n                }\n                if (this.parent.domNode.isBlockNode(currentNode) && currentNode === this.parent.editableElement) {\n                    currentFormatNodes.push(previousCurrentNode);\n                }\n            }\n            for (var i = 0; i < currentFormatNodes.length; i++) {\n                if (!this.parent.domNode.isBlockNode(currentFormatNodes[i])) {\n                    var currentNode = currentFormatNodes[i];\n                    var previousNode = currentNode;\n                    while (currentNode === this.parent.editableElement) {\n                        previousNode = currentNode;\n                        currentNode = currentNode.parentElement;\n                    }\n                    var tempElem = void 0;\n                    if (this.parent.domNode.isBlockNode(previousNode.parentElement) &&\n                        previousNode.parentElement === this.parent.editableElement) {\n                        tempElem = createElement('div');\n                        previousNode.parentElement.insertBefore(tempElem, previousNode);\n                        tempElem.appendChild(previousNode);\n                    }\n                    else {\n                        tempElem = previousNode;\n                    }\n                    var preNode = tempElem.previousSibling;\n                    while (!isNOU(preNode) && preNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(preNode)) {\n                        tempElem.firstChild.parentElement.insertBefore(preNode, tempElem.firstChild);\n                        preNode = tempElem.previousSibling;\n                    }\n                    if (!isNOU(preNode) && preNode.nodeName === 'BR') {\n                        detach(preNode);\n                    }\n                    var postNode = tempElem.nextSibling;\n                    while (!isNOU(postNode) && postNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(postNode)) {\n                        tempElem.appendChild(postNode);\n                        postNode = tempElem.nextSibling;\n                    }\n                    if (!isNOU(postNode) && postNode.nodeName === 'BR') {\n                        detach(postNode);\n                    }\n                }\n            }\n            this.setSelectionBRConfig();\n            formatsNodes = this.parent.domNode.blockNodes();\n        }\n        for (var i = 0; i < formatsNodes.length; i++) {\n            var parentNode = void 0;\n            var replaceHTML = void 0;\n            if (e.subCommand.toLowerCase() === 'blockquote') {\n                parentNode = this.getParentNode(formatsNodes[i]);\n                replaceHTML = this.parent.domNode.isList(parentNode) ||\n                    parentNode.tagName === 'TABLE' ? parentNode.outerHTML : parentNode.innerHTML;\n            }\n            else {\n                parentNode = formatsNodes[i];\n                replaceHTML = parentNode.innerHTML;\n            }\n            if ((e.subCommand.toLowerCase() === parentNode.tagName.toLowerCase() &&\n                (e.subCommand.toLowerCase() !== 'pre' ||\n                    (!isNOU(e.exeValue) && e.exeValue.name === 'dropDownSelect'))) ||\n                isNOU(parentNode.parentNode) ||\n                (parentNode.tagName === 'TABLE' && e.subCommand.toLowerCase() === 'pre')) {\n                continue;\n            }\n            this.cleanFormats(parentNode, e.subCommand);\n            var replaceNode = (e.subCommand.toLowerCase() === 'pre' && parentNode.tagName.toLowerCase() === 'pre') ?\n                'p' : e.subCommand;\n            var replaceTag = this.parent.domNode.createTagString(replaceNode, parentNode, replaceHTML.replace(/>\\s+</g, '><'));\n            if (parentNode.tagName === 'LI') {\n                parentNode.innerHTML = '';\n                parentNode.insertAdjacentHTML('beforeend', replaceTag);\n            }\n            else {\n                this.parent.domNode.replaceWith(parentNode, replaceTag);\n            }\n        }\n        this.preFormatMerge();\n        var startNode = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endNode = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (!isNOU(startNode) && !isNOU(endNode)) {\n            startNode = startNode.lastChild;\n            endNode = endNode.lastChild;\n        }\n        save = this.parent.domNode.saveMarker(save, null);\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, e.selector);\n        }\n        if (isSelectAll) {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startNode, endNode, 0, endNode.textContent.length);\n        }\n        else {\n            save.restore();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Formats.prototype.setSelectionBRConfig = function () {\n        var startElem = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endElem = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (isNOU(endElem)) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, startElem, 0);\n        }\n        else {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startElem, endElem, 0, 0);\n        }\n    };\n    Formats.prototype.preFormatMerge = function () {\n        var preNodes = this.parent.editableElement.querySelectorAll('PRE');\n        if (!isNOU(preNodes)) {\n            for (var i = 0; i < preNodes.length; i++) {\n                var previousSib = preNodes[i].previousElementSibling;\n                if (!isNOU(previousSib) && previousSib.tagName === 'PRE') {\n                    previousSib.insertAdjacentHTML('beforeend', '<br>' + preNodes[i].innerHTML);\n                    detach(preNodes[i]);\n                }\n            }\n        }\n    };\n    Formats.prototype.cleanFormats = function (element, tagName) {\n        var ignoreAttr = ['display', 'font-size', 'margin-top', 'margin-bottom', 'margin-left', 'margin-right', 'font-weight'];\n        tagName = tagName.toLowerCase();\n        for (var i = 0; i < ignoreAttr.length && (tagName !== 'p' && tagName !== 'blockquote' && tagName !== 'pre'); i++) {\n            element.style.removeProperty(ignoreAttr[i]);\n        }\n    };\n    return Formats;\n}());\nexport { Formats };\n","import { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport * as CONSTANT from './../base/constant';\nimport { detach, Browser, isNullOrUndefined as isNOU, createElement, closest } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\nimport { updateTextNode } from './../../common/util';\n/**\n * Insert a HTML Node or Text\n *\n * @hidden\n\n */\nvar InsertHtml = /** @class */ (function () {\n    function InsertHtml() {\n    }\n    InsertHtml.Insert = function (docElement, insertNode, editNode, isExternal) {\n        var node;\n        if (typeof insertNode === 'string') {\n            var divNode = document.createElement('div');\n            divNode.innerHTML = insertNode;\n            node = isExternal ? divNode : divNode.firstChild;\n        }\n        else {\n            if (isExternal && !(!isNOU(insertNode) && !isNOU(insertNode.classList) &&\n                insertNode.classList.contains('pasteContent'))) {\n                var divNode = document.createElement('div');\n                divNode.appendChild(insertNode);\n                node = divNode;\n            }\n            else {\n                node = insertNode;\n            }\n        }\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        if (range.startContainer === editNode && range.startContainer === range.endContainer && range.startOffset === 0 &&\n            range.startOffset === range.endOffset && editNode.textContent.length === 0 && editNode.children[0].tagName === 'P') {\n            nodeSelection.setSelectionText(docElement, range.startContainer.children[0], range.startContainer.children[0], 0, 0);\n            range = nodeSelection.getRange(docElement);\n        }\n        if (range.startContainer.nodeName === 'BR' && range.startOffset === 0 && range.startOffset === range.endOffset &&\n            range.startContainer === range.endContainer) {\n            var currentIndex = Array.prototype.slice.call(range.startContainer.parentElement.children).indexOf(range.startContainer);\n            nodeSelection.setSelectionText(docElement, range.startContainer.parentElement, range.startContainer.parentElement, currentIndex + 1, currentIndex + 1);\n            range = nodeSelection.getRange(docElement);\n        }\n        var isCursor = range.startOffset === range.endOffset && range.startOffset === 0 &&\n            range.startContainer === range.endContainer;\n        var isCollapsed = range.collapsed;\n        var nodes = this.getNodeCollection(range, nodeSelection, node);\n        var closestParentNode = (node.nodeName.toLowerCase() === 'table') ? this.closestEle(nodes[0].parentNode, editNode) : nodes[0];\n        if (isExternal || (!isNOU(node) && !isNOU(node.classList) &&\n            node.classList.contains('pasteContent'))) {\n            this.pasteInsertHTML(nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode);\n            return;\n        }\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            var preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            var sibNode = preNode.previousSibling;\n            var parentNode = preNode.parentNode;\n            if (nodes.length === 1 || (node.nodeName.toLowerCase() === 'table' && preNode.childElementCount === 0)) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            range.extractContents();\n            if (insertNode.tagName === 'TABLE') {\n                this.removeEmptyElements(editNode);\n            }\n            for (var index = 0; index < nodes.length; index++) {\n                if (nodes[index].nodeType !== 3 && nodes[index].parentNode != null) {\n                    if (nodes[index].nodeName === 'IMG') {\n                        continue;\n                    }\n                    nodes[index].parentNode.removeChild(nodes[index]);\n                }\n            }\n            if (sibNode) {\n                InsertMethods.AppendBefore(node, sibNode, true);\n            }\n            else {\n                var previousNode = null;\n                while (parentNode !== editNode && parentNode.firstChild &&\n                    (parentNode.textContent.trim() === '')) {\n                    var parentNode1 = parentNode.parentNode;\n                    previousNode = parentNode;\n                    parentNode = parentNode1;\n                }\n                if (previousNode !== null) {\n                    parentNode = previousNode;\n                }\n                if (parentNode.firstChild && (parentNode !== editNode ||\n                    (node.nodeName === 'TABLE' && isCursor && parentNode === range.startContainer &&\n                        parentNode === range.endContainer))) {\n                    if (parentNode.textContent.trim() === '' && parentNode !== editNode) {\n                        InsertMethods.AppendBefore(node, parentNode, false);\n                        detach(parentNode);\n                    }\n                    else {\n                        InsertMethods.AppendBefore(node, parentNode.firstChild, false);\n                    }\n                }\n                else {\n                    parentNode.appendChild(node);\n                }\n            }\n            if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.childNodes.length);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.textContent.length);\n            }\n        }\n        else {\n            range.deleteContents();\n            if (isCursor && range.startContainer.textContent === '' && range.startContainer.nodeName !== 'BR') {\n                range.startContainer.innerHTML = '';\n            }\n            if (Browser.isIE) {\n                var frag = docElement.createDocumentFragment();\n                frag.appendChild(node);\n                range.insertNode(frag);\n            }\n            else if (range.startContainer.nodeType === 1 && range.startContainer.nodeName.toLowerCase() === 'hr'\n                && range.endContainer.nodeName.toLowerCase() === 'hr') {\n                var paraElem = range.startContainer.nextElementSibling;\n                if (paraElem) {\n                    if (paraElem.querySelector('br')) {\n                        detach(paraElem.querySelector('br'));\n                    }\n                    paraElem.appendChild(node);\n                }\n            }\n            else {\n                if (range.startContainer.nodeName === 'BR') {\n                    range.startContainer.parentElement.insertBefore(node, range.startContainer);\n                }\n                else {\n                    range.insertNode(node);\n                }\n            }\n            if (node.nodeType !== 3 && node.childNodes.length > 0) {\n                nodeSelection.setSelectionText(docElement, node, node, 1, 1);\n            }\n            else if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionContents(docElement, node);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, node.textContent.length, node.textContent.length);\n            }\n        }\n    };\n    InsertHtml.pasteInsertHTML = function (nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode) {\n        var isCursor = range.startOffset === range.endOffset &&\n            range.startContainer === range.endContainer;\n        if (isCursor && range.startContainer === editNode && editNode.textContent === '') {\n            var currentBlockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            nodeSelection.setSelectionText(docElement, currentBlockNode, currentBlockNode, 0, 0);\n            range = nodeSelection.getRange(docElement);\n        }\n        var lasNode;\n        var sibNode;\n        var isSingleNode;\n        var preNode;\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            sibNode = isNOU(preNode.previousSibling) ? preNode.parentNode.previousSibling : preNode.previousSibling;\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = true;\n            }\n            else {\n                lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = false;\n            }\n        }\n        var containsBlockNode = false;\n        this.removingComments(node);\n        var allChildNodes = node.childNodes;\n        for (var i = 0; i < allChildNodes.length; i++) {\n            if (CONSTANT.BLOCK_TAGS.indexOf(allChildNodes[i].nodeName.toLocaleLowerCase()) >= 0) {\n                containsBlockNode = true;\n                break;\n            }\n        }\n        var lastSelectionNode;\n        var fragment = document.createDocumentFragment();\n        if (!containsBlockNode) {\n            if (!isCursor) {\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                if (isSingleNode) {\n                    preNode.parentNode.replaceChild(fragment, preNode);\n                }\n                else {\n                    range.deleteContents();\n                    detach(lasNode);\n                    // eslint-disable-next-line\n                    !isNOU(sibNode) ? sibNode.parentNode.appendChild(fragment) : editNode.appendChild(fragment);\n                }\n            }\n            else {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                var nearestAnchor = closest(range.startContainer.parentElement, 'a');\n                if (range.startContainer.nodeType === 3 && nearestAnchor && closest(nearestAnchor, 'span')) {\n                    var immediateBlockNode = this.getImmediateBlockNode(range.startContainer, editNode);\n                    if (immediateBlockNode.querySelectorAll('br').length > 0) {\n                        detach(immediateBlockNode.querySelector('br'));\n                    }\n                    var rangeElement = closest(nearestAnchor, 'span');\n                    rangeElement.appendChild(tempSpan);\n                }\n                else {\n                    range.insertNode(tempSpan);\n                }\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                tempSpan.parentNode.replaceChild(fragment, tempSpan);\n            }\n        }\n        else {\n            this.insertTempNode(range, node, nodes, nodeCutter, editNode);\n            var isFirstTextNode = true;\n            var isPreviousInlineElem = void 0;\n            var paraElm = void 0;\n            var previousParent = void 0;\n            if (!this.contentsDeleted) {\n                range.deleteContents();\n            }\n            while (node.firstChild) {\n                if (node.firstChild.nodeName === '#text' && node.firstChild.textContent.trim() === '') {\n                    detach(node.firstChild);\n                    continue;\n                }\n                if (node.firstChild.nodeName === '#text' && isFirstTextNode ||\n                    (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0 && isFirstTextNode)) {\n                    lastSelectionNode = node.firstChild;\n                    if (isNOU(node.previousElementSibling)) {\n                        var firstParaElm = createElement('p');\n                        node.parentElement.insertBefore(firstParaElm, node);\n                    }\n                    node.previousElementSibling.appendChild(node.firstChild);\n                }\n                else {\n                    lastSelectionNode = node.firstChild;\n                    if (node.firstChild.nodeName === '#text' ||\n                        (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0)) {\n                        if (!isPreviousInlineElem) {\n                            paraElm = createElement('p');\n                            paraElm.appendChild(node.firstChild);\n                            fragment.appendChild(paraElm);\n                        }\n                        else {\n                            previousParent.appendChild(node.firstChild);\n                            fragment.appendChild(previousParent);\n                        }\n                        previousParent = paraElm;\n                        isPreviousInlineElem = true;\n                    }\n                    else {\n                        fragment.appendChild(node.firstChild);\n                        isPreviousInlineElem = false;\n                    }\n                    isFirstTextNode = false;\n                }\n            }\n            node.parentNode.replaceChild(fragment, node);\n        }\n        if (lastSelectionNode.nodeName === '#text') {\n            this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n        else {\n            this.cursorPos(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n    };\n    InsertHtml.placeCursorEnd = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode = lastSelectionNode.nodeName === 'BR' ? (isNOU(lastSelectionNode.previousSibling) ? lastSelectionNode.parentNode\n            : lastSelectionNode.previousSibling) : lastSelectionNode;\n        while (!isNOU(lastSelectionNode) && lastSelectionNode.nodeName !== '#text' && lastSelectionNode.nodeName !== 'IMG' &&\n            lastSelectionNode.nodeName !== 'BR' && lastSelectionNode.nodeName !== 'HR') {\n            lastSelectionNode = lastSelectionNode.lastChild;\n        }\n        lastSelectionNode = isNOU(lastSelectionNode) ? node : lastSelectionNode;\n        if (lastSelectionNode.nodeName === 'IMG') {\n            this.imageFocus(lastSelectionNode, nodeSelection, docElement);\n        }\n        else {\n            nodeSelection.setSelectionText(docElement, lastSelectionNode, lastSelectionNode, lastSelectionNode.textContent.length, lastSelectionNode.textContent.length);\n        }\n        this.removeEmptyElements(editNode);\n    };\n    InsertHtml.getNodeCollection = function (range, nodeSelection, node) {\n        var nodes = [];\n        if (range.startOffset === range.endOffset && range.startContainer === range.endContainer &&\n            range.startContainer.nodeName != 'BR' &&\n            (range.startContainer.nodeName === 'TD' || (range.startContainer.nodeType !== 3 &&\n                node.classList && node.classList.contains('pasteContent')))) {\n            nodes.push(range.startContainer.childNodes[range.endOffset]);\n        }\n        else {\n            nodes = nodeSelection.getInsertNodeCollection(range);\n        }\n        return nodes;\n    };\n    InsertHtml.insertTempNode = function (range, node, nodes, nodeCutter, editNode) {\n        if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset - 1]) &&\n            range.startContainer.childNodes[range.endOffset - 1].nodeName === 'TABLE') {\n            if (isNOU(range.startContainer.childNodes[range.endOffset - 1].nextSibling)) {\n                range.startContainer.appendChild(node);\n            }\n            else {\n                range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset - 1].nextSibling);\n            }\n        }\n        else if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset]) &&\n            range.startContainer.childNodes[range.endOffset].nodeName === 'TABLE') {\n            range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset]);\n        }\n        else if (range.startContainer === range.endContainer && range.startContainer.nodeType !== 3\n            && node.firstChild.nodeName === 'HR') {\n            if (range.startContainer.classList.contains('e-content') || range.startContainer.nodeName === 'BODY') {\n                range.startContainer.appendChild(node);\n            }\n            else {\n                range.startContainer.parentNode.insertBefore(node, range.startContainer);\n            }\n        }\n        else {\n            var blockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            if ((isNOU(blockNode) || isNOU(blockNode.parentElement)) && range.endContainer.nodeType !== 3) {\n                blockNode = range.endContainer;\n                range.setEnd(blockNode, range.endContainer.textContent.length);\n            }\n            if (blockNode.nodeName === 'BODY' && range.startContainer === range.endContainer && range.startContainer.nodeType === 1) {\n                blockNode = range.startContainer;\n            }\n            if (blockNode.closest('LI') && node && node.firstElementChild &&\n                ((node).firstElementChild.tagName === 'OL' || node.firstElementChild.tagName === 'UL')) {\n                var liNode = void 0;\n                while (node.firstElementChild.lastElementChild && node.firstElementChild.lastElementChild.tagName === 'LI') {\n                    liNode = node.firstElementChild.lastElementChild;\n                    liNode.style.removeProperty('margin-left');\n                    liNode.style.removeProperty('margin-top');\n                    liNode.style.removeProperty('margin-bottom');\n                    node.firstElementChild.insertAdjacentElement('afterend', liNode);\n                }\n            }\n            if (blockNode.nodeName === 'TD' || blockNode.nodeName === 'TH') {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                range.insertNode(tempSpan);\n                tempSpan.parentNode.replaceChild(node, tempSpan);\n            }\n            else {\n                var nodeSelection = new NodeSelection();\n                var currentNode = this.getNodeCollection(range, nodeSelection, node)[this.getNodeCollection(range, nodeSelection, node).length - 1];\n                var splitedElm = void 0;\n                if ((currentNode.nodeName === 'BR' || currentNode.nodeName === 'HR' ||\n                    (currentNode.nodeName === '#text' && !isNOU(currentNode.parentElement) && currentNode.parentElement.nodeName === 'LI')) &&\n                    (!isNOU(currentNode.parentElement) && currentNode.parentElement.textContent.trim().length === 0)) {\n                    splitedElm = currentNode;\n                    if (currentNode.parentElement.nodeName === 'LI' && !isNOU(currentNode.nextSibling) &&\n                        currentNode.nextSibling.nodeName === 'BR') {\n                        detach(currentNode.nextSibling);\n                    }\n                }\n                else if (currentNode.nodeName === '#text' && !isNOU(currentNode.parentElement) &&\n                    currentNode.parentElement.nodeName === 'LI' && currentNode.parentElement.textContent.trim().length > 0) {\n                    splitedElm = currentNode;\n                    if (currentNode.parentElement.nodeName === 'LI' && !isNOU(currentNode.nextSibling) &&\n                        currentNode.nextSibling.nodeName === 'BR') {\n                        detach(currentNode.nextSibling);\n                    }\n                    if (!range.collapsed) {\n                        range.deleteContents();\n                    }\n                    range.insertNode(node);\n                    this.contentsDeleted = true;\n                    return;\n                }\n                else {\n                    splitedElm = nodeCutter.GetSpliceNode(range, blockNode);\n                }\n                splitedElm.parentNode.replaceChild(node, splitedElm);\n            }\n        }\n    };\n    InsertHtml.cursorPos = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode.classList.add('lastNode');\n        editNode.innerHTML = updateTextNode(editNode.innerHTML);\n        lastSelectionNode = editNode.querySelector('.lastNode');\n        if (!isNOU(lastSelectionNode)) {\n            this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n            lastSelectionNode.classList.remove('lastNode');\n            if (lastSelectionNode.classList.length === 0) {\n                lastSelectionNode.removeAttribute('class');\n            }\n        }\n    };\n    InsertHtml.imageFocus = function (node, nodeSelection, docElement) {\n        var focusNode = document.createTextNode(' ');\n        node.parentNode.insertBefore(focusNode, node.nextSibling);\n        nodeSelection.setSelectionText(docElement, node.nextSibling, node.nextSibling, 0, 0);\n    };\n    // eslint-disable-next-line\n    InsertHtml.getImmediateBlockNode = function (node, editNode) {\n        do {\n            node = node.parentNode;\n        } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    InsertHtml.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    InsertHtml.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' && element.parentElement.contentEditable !== 'true') {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    InsertHtml.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (CONSTANT.SELF_CLOSING_TAGS.indexOf(emptyElements[i].tagName.toLowerCase()) < 0) {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    InsertHtml.closestEle = function (element, editNode) {\n        var el = element;\n        while (el && el.nodeType === 1) {\n            if (el.parentNode === editNode ||\n                (!isNOU(el.parentNode.tagName) &&\n                    CONSTANT.IGNORE_BLOCK_TAGS.indexOf(el.parentNode.tagName.toLocaleLowerCase()) !== -1)) {\n                return el;\n            }\n            el = el.parentNode;\n        }\n        return null;\n    };\n    /**\n     * Insert method\n     *\n     * @hidden\n\n     */\n    InsertHtml.inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n        'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n        'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n        'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'sub', 'sup', 'svg',\n        'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n    InsertHtml.contentsDeleted = false;\n    return InsertHtml;\n}());\nexport { InsertHtml };\n","import * as CONSTANT from './../base/constant';\nimport { NodeSelection } from '../../selection/selection';\nimport { NodeCutter } from './nodecutter';\nimport { InsertHtml } from './inserthtml';\nimport { createElement, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar LinkCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the editor manager\n     * @hidden\n\n     */\n    function LinkCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    LinkCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.LINK, this.linkCommand, this);\n    };\n    LinkCommand.prototype.linkCommand = function (e) {\n        switch (e.value.toString().toLocaleLowerCase()) {\n            case 'createlink':\n            case 'editlink':\n                this.createLink(e);\n                break;\n            case 'openlink':\n                this.openLink(e);\n                break;\n            case 'removelink':\n                this.removeLink(e);\n                break;\n        }\n    };\n    LinkCommand.prototype.createLink = function (e) {\n        var closestAnchor = (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) &&\n            closest(e.item.selectParent[0], 'a');\n        closestAnchor = !isNOU(closestAnchor) ? closestAnchor :\n            (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) ? (e.item.selectParent[0]) : null;\n        if (!isNOU(closestAnchor) && closestAnchor.tagName === 'A') {\n            var anchorEle = closestAnchor;\n            var linkText = '';\n            if (!isNOU(e.item.url)) {\n                anchorEle.setAttribute('href', e.item.url);\n            }\n            if (!isNOU(e.item.title)) {\n                anchorEle.setAttribute('title', e.item.title);\n            }\n            if (!isNOU(e.item.text) && e.item.text !== '') {\n                linkText = anchorEle.innerText;\n                anchorEle.innerText = e.item.text;\n            }\n            if (!isNOU(e.item.target)) {\n                anchorEle.setAttribute('target', e.item.target);\n            }\n            else {\n                anchorEle.removeAttribute('target');\n            }\n            if (linkText === e.item.text) {\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle, anchorEle, 1, 1);\n                e.item.selection.restore();\n            }\n            else {\n                var startIndex = e.item.action === 'Paste' ? anchorEle.childNodes[0].textContent.length : 0;\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle.childNodes[0], anchorEle.childNodes[0], startIndex, anchorEle.childNodes[0].textContent.length);\n            }\n        }\n        else {\n            var domSelection = new NodeSelection();\n            var range = domSelection.getRange(this.parent.currentDocument);\n            if (range.endContainer.nodeName === '#text' && range.startContainer.textContent.length === (range.endOffset + 1) &&\n                range.endContainer.textContent.charAt(range.endOffset) === ' ' && range.endContainer.nextSibling.nodeName === 'A') {\n                domSelection.setSelectionText(this.parent.currentDocument, range.startContainer, range.endContainer, range.startOffset, range.endOffset + 1);\n                range = domSelection.getRange(this.parent.currentDocument);\n            }\n            var text = isNOU(e.item.text) ? true : e.item.text.replace(/ /g, '').localeCompare(range.toString()\n                .replace(/\\n/g, ' ').replace(/ /g, '')) < 0;\n            if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                || e.event.keyCode === 13) || e.item.action === 'Paste' || range.collapsed || text) {\n                var anchor = this.createAchorNode(e);\n                anchor.innerText = e.item.text === '' ? e.item.url : e.item.text;\n                e.item.selection.restore();\n                InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n                if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                    || e.event.keyCode === 13)) {\n                    var startContainer = e.item.selection.range.startContainer;\n                    startContainer.textContent = this.removeText(startContainer.textContent, e.item.text);\n                }\n                else {\n                    var startIndex = e.item.action === 'Paste' ? anchor.childNodes[0].textContent.length : 0;\n                    e.item.selection.setSelectionText(this.parent.currentDocument, anchor.childNodes[0], anchor.childNodes[0], startIndex, anchor.childNodes[0].textContent.length);\n                }\n            }\n            else {\n                this.createLinkNode(e);\n            }\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Links',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    LinkCommand.prototype.createLinkNode = function (e) {\n        var domSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = domSelection.getRange(this.parent.currentDocument);\n        var nodes = this.getSelectionNodes(domSelection.getNodeCollection(range));\n        var save = domSelection.save(range, this.parent.currentDocument);\n        var txtArray = [];\n        var inlineNodes = [];\n        var currentNode;\n        var removeNodes = [];\n        var anchorNodes = [];\n        var finalinlineNodes = [];\n        var cloneNode;\n        for (var index = 0; index < nodes.length; index++) {\n            nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            txtArray[index] = nodes[index];\n        }\n        for (var i = 0; i < txtArray.length; i++) {\n            var check = true;\n            currentNode = txtArray[i];\n            while (check === true) {\n                if (currentNode.parentNode.nodeName === 'A') {\n                    var anchorEle = currentNode.parentNode;\n                    currentNode.parentNode.parentNode.insertBefore(anchorEle.firstChild, anchorEle);\n                    currentNode.parentNode.removeChild(anchorEle);\n                }\n                if (this.isBlockNode(currentNode.parentNode) || txtArray.length === 0 || i === 0 || i === txtArray.length - 1\n                    || range.startContainer.nodeType === 3) {\n                    inlineNodes[i] = currentNode;\n                    check = false;\n                }\n                else {\n                    currentNode = currentNode.parentNode;\n                }\n            }\n        }\n        for (var i = 0, j_1 = 0; i < inlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[j_1] = inlineNodes[i];\n            }\n            if (inlineNodes.length > 1 && i < inlineNodes.length - 1) {\n                if ((inlineNodes[i].parentElement === inlineNodes[i + 1].parentElement) && (inlineNodes[i] === inlineNodes[i + 1])) {\n                    continue;\n                }\n                else {\n                    finalinlineNodes[j_1 + 1] = inlineNodes[i + 1];\n                    j_1++;\n                }\n            }\n        }\n        var j = 0;\n        anchorNodes[j] = this.createAchorNode(e);\n        for (var i = 0; i < finalinlineNodes.length; i++) {\n            if (i === 0) {\n                cloneNode = finalinlineNodes[i].cloneNode(true);\n                anchorNodes[i].appendChild(cloneNode);\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    var cln = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cln);\n                }\n                else {\n                    j = j + 1;\n                    anchorNodes[j] = this.createAchorNode(e);\n                    cloneNode = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cloneNode);\n                }\n            }\n        }\n        this.parent.nodeSelection.setRange(document, save.range);\n        for (var i = 0, j_2 = 0, k = 0; i <= finalinlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[i].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i].nextSibling);\n                if (this.parent.domNode.blockNodes().length === 1) {\n                    this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument, anchorNodes[j_2]);\n                }\n                removeNodes[k] = finalinlineNodes[i];\n                k++;\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n                else {\n                    j_2 = j_2 + 1;\n                    finalinlineNodes[i + 1].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i + 1]);\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n            }\n        }\n        for (var i = 0; i < removeNodes.length; i++) {\n            if (removeNodes[i].parentNode) {\n                removeNodes[i].parentNode.removeChild(removeNodes[i]);\n            }\n        }\n    };\n    LinkCommand.prototype.createAchorNode = function (e) {\n        var anchorEle = createElement('a', {\n            className: 'e-rte-anchor',\n            attrs: {\n                href: e.item.url,\n                title: isNOU(e.item.title) || e.item.title === '' ? e.item.url : e.item.title\n            }\n        });\n        if (!isNOU(e.item.target)) {\n            anchorEle.setAttribute('target', e.item.target);\n        }\n        return anchorEle;\n    };\n    LinkCommand.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '') {\n                if (nodeCollection[index].nodeName !== 'IMG') {\n                    nodeCollection.splice(index, 1);\n                    index--;\n                }\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    LinkCommand.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    LinkCommand.prototype.removeText = function (text, val) {\n        var arr = text.split(' ');\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === val) {\n                arr.splice(i, 1);\n                i--;\n            }\n        }\n        return arr.join(' ') + ' ';\n    };\n    LinkCommand.prototype.openLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    LinkCommand.prototype.removeLink = function (e) {\n        var blockNodes = this.parent.domNode.blockNodes();\n        if (blockNodes.length < 2) {\n            this.parent.domNode.setMarker(e.item.selection);\n            var closestAnchor = closest(e.item.selectParent[0], 'a');\n            var selectParent = closestAnchor ? closestAnchor : e.item.selectParent[0];\n            var parent_1 = selectParent.parentNode;\n            var child = [];\n            for (; selectParent.firstChild; null) {\n                child.push(parent_1.insertBefore(selectParent.firstChild, selectParent));\n            }\n            parent_1.removeChild(selectParent);\n            if (child && child.length === 1) {\n                e.item.selection.startContainer = e.item.selection.getNodeArray(child[child.length - 1], true);\n                e.item.selection.endContainer = e.item.selection.startContainer;\n            }\n            e.item.selection = this.parent.domNode.saveMarker(e.item.selection);\n        }\n        else {\n            for (var i = 0; i < blockNodes.length; i++) {\n                var linkNode = blockNodes[i].querySelectorAll('a');\n                for (var j = 0; j < linkNode.length; j++) {\n                    if (document.getSelection().containsNode(linkNode[j], true)) {\n                        linkNode[j].outerHTML = linkNode[j].innerHTML;\n                    }\n                }\n            }\n        }\n        e.item.selection.restore();\n        this.callBack(e);\n    };\n    LinkCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return LinkCommand;\n}());\nexport { LinkCommand };\n","import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus();\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    return Alignments;\n}());\nexport { Alignments };\n","import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var editEle = this.parent.editableElement;\n        var isRtl = editEle.classList.contains('e-rtl');\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () {\n                        return;\n                    },\n                    stopPropagation: function () {\n                        return;\n                    },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                },\n                ignoreDefault: true\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                /* eslint-disable */\n                indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n            }\n            else {\n                indentsValue = (marginLeftOrRight === '' || marginLeftOrRight === '0px') ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n                /* eslint-enable */\n            }\n        }\n        editEle.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(editEle, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    return Indents;\n}());\nexport { Indents };\n","/**\n * Rich Text Editor classes defined here.\n */\n/**\n * @hidden\n\n */\nexport var CLASS_IMAGE_RIGHT = 'e-imgright';\nexport var CLASS_IMAGE_LEFT = 'e-imgleft';\nexport var CLASS_IMAGE_CENTER = 'e-imgcenter';\nexport var CLASS_IMAGE_BREAK = 'e-imgbreak';\nexport var CLASS_CAPTION = 'e-img-caption';\nexport var CLASS_RTE_CAPTION = 'e-rte-img-caption';\nexport var CLASS_CAPTION_INLINE = 'e-caption-inline';\nexport var CLASS_IMAGE_INLINE = 'e-imginline';\n","import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function ImageCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ImageCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n    };\n    /**\n     * imageCommand method\n     *\n     * @param {IHtmlItem} e - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    ImageCommand.prototype.imageCommand = function (e) {\n        switch (e.value.toString().toLowerCase()) {\n            case 'image':\n            case 'replace':\n                this.createImage(e);\n                break;\n            case 'insertlink':\n                this.insertImageLink(e);\n                break;\n            case 'openimagelink':\n                this.openImageLink(e);\n                break;\n            case 'editimagelink':\n                this.editImageLink(e);\n                break;\n            case 'removeimagelink':\n                this.removeImageLink(e);\n                break;\n            case 'remove':\n                this.removeImage(e);\n                break;\n            case 'alttext':\n                this.insertAltTextImage(e);\n                break;\n            case 'dimension':\n                this.imageDimension(e);\n                break;\n            case 'caption':\n                this.imageCaption(e);\n                break;\n            case 'justifyleft':\n                this.imageJustifyLeft(e);\n                break;\n            case 'justifycenter':\n                this.imageJustifyCenter(e);\n                break;\n            case 'justifyright':\n                this.imageJustifyRight(e);\n                break;\n            case 'inline':\n                this.imageInline(e);\n                break;\n            case 'break':\n                this.imageBreak(e);\n                break;\n        }\n    };\n    ImageCommand.prototype.createImage = function (e) {\n        var _this = this;\n        var isReplaced = false;\n        e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n        if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n            var imgEle = e.item.selectParent[0];\n            this.setStyle(imgEle, e);\n            isReplaced = true;\n        }\n        else {\n            var imgElement = createElement('img');\n            this.setStyle(imgElement, e);\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n                e.callBack({ requestType: 'Images',\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: [imgElement]\n                });\n            }\n            else {\n                InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n            var imgElm_1 = (e.value === 'Replace' || isReplaced) ? e.item.selectParent[0] :\n                (Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling);\n            imgElm_1.addEventListener('load', function () {\n                if (e.value !== 'Replace' || !isReplaced) {\n                    e.callBack({\n                        requestType: 'Images',\n                        editorMode: 'HTML',\n                        event: e.event,\n                        range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                        elements: [imgElm_1]\n                    });\n                }\n            });\n        }\n    };\n    ImageCommand.prototype.setStyle = function (imgElement, e) {\n        if (!isNOU(e.item.url)) {\n            imgElement.setAttribute('src', e.item.url);\n        }\n        imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass));\n        if (!isNOU(e.item.altText)) {\n            imgElement.setAttribute('alt', e.item.altText);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n        }\n    };\n    ImageCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    ImageCommand.prototype.insertImageLink = function (e) {\n        var anchor = createElement('a', {\n            attrs: {\n                href: e.item.url\n            }\n        });\n        if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n            e.item.selection.restore();\n            anchor.setAttribute('contenteditable', 'true');\n        }\n        anchor.appendChild(e.item.selectNode[0]);\n        if (!isNOU(e.item.target)) {\n            anchor.setAttribute('target', e.item.target);\n        }\n        InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.openImageLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImageLink = function (e) {\n        var selectParent = e.item.selectParent[0];\n        if (selectParent.classList.contains('e-img-caption')) {\n            var capImgWrap = select('.e-img-wrap', selectParent);\n            var textEle = select('.e-img-inner', selectParent);\n            var newTextEle = textEle.cloneNode(true);\n            detach(select('a', selectParent));\n            detach(textEle);\n            capImgWrap.appendChild(e.item.insertElement);\n            capImgWrap.appendChild(newTextEle);\n        }\n        else {\n            detach(selectParent);\n            if (Browser.isIE) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.editImageLink = function (e) {\n        e.item.selectNode[0].parentElement.href = e.item.url;\n        if (isNOU(e.item.target)) {\n            e.item.selectNode[0].parentElement.removeAttribute('target');\n        }\n        else {\n            e.item.selectNode[0].parentElement.target = e.item.target;\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImage = function (e) {\n        if (closest(e.item.selectNode[0], 'a')) {\n            if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n                if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n                    detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n                }\n                else {\n                    detach(e.item.selectNode[0]);\n                }\n            }\n            else {\n                detach(closest(e.item.selectNode[0], 'a'));\n            }\n        }\n        else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n            detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        }\n        else {\n            detach(e.item.selectNode[0]);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.insertAltTextImage = function (e) {\n        e.item.selectNode[0].setAttribute('alt', e.item.altText);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageDimension = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        if (e.item.width !== 'auto') {\n            selectNode.style.width = formatUnit(e.item.width);\n        }\n        else {\n            selectNode.removeAttribute('width');\n        }\n        if (e.item.height !== 'auto') {\n            selectNode.style.height = formatUnit(e.item.height);\n        }\n        else {\n            selectNode.removeAttribute('height');\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageCaption = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyLeft = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyCenter = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyRight = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageInline = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageBreak = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return ImageCommand;\n}());\nexport { ImageCommand };\n","import { createElement, closest, detach, Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar TableCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function TableCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    TableCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.TABLE, this.createTable, this);\n        this.parent.observer.on(CONSTANT.INSERT_ROW, this.insertRow, this);\n        this.parent.observer.on(CONSTANT.INSERT_COLUMN, this.insertColumn, this);\n        this.parent.observer.on(CONSTANT.DELETEROW, this.deleteRow, this);\n        this.parent.observer.on(CONSTANT.DELETECOLUMN, this.deleteColumn, this);\n        this.parent.observer.on(CONSTANT.REMOVETABLE, this.removeTable, this);\n        this.parent.observer.on(CONSTANT.TABLEHEADER, this.tableHeader, this);\n        this.parent.observer.on(CONSTANT.TABLE_VERTICAL_ALIGN, this.tableVerticalAlign, this);\n        this.parent.observer.on(CONSTANT.TABLE_MERGE, this.cellMerge, this);\n        this.parent.observer.on(CONSTANT.TABLE_HORIZONTAL_SPLIT, this.HorizontalSplit, this);\n        this.parent.observer.on(CONSTANT.TABLE_VERTICAL_SPLIT, this.VerticalSplit, this);\n        this.parent.observer.on(CONSTANT.TABLE_MOVE, this.tableMove, this);\n    };\n    TableCommand.prototype.createTable = function (e) {\n        var table = createElement('table', { className: 'e-rte-table' });\n        var tblBody = createElement('tbody');\n        if (!isNOU(e.item.width.width)) {\n            table.style.width = this.calculateStyleValue(e.item.width.width);\n        }\n        if (!isNOU(e.item.width.minWidth)) {\n            table.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width.maxWidth)) {\n            table.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        var tdWid = parseInt(e.item.width.width, 10) > 100 ?\n            100 / e.item.columns : parseInt(e.item.width.width, 10) / e.item.columns;\n        for (var i = 0; i < e.item.rows; i++) {\n            var row = createElement('tr');\n            for (var j = 0; j < e.item.columns; j++) {\n                var cell = createElement('td');\n                cell.appendChild(createElement('br'));\n                cell.style.width = tdWid + '%';\n                row.appendChild(cell);\n            }\n            tblBody.appendChild(row);\n        }\n        table.appendChild(tblBody);\n        e.item.selection.restore();\n        InsertHtml.Insert(this.parent.currentDocument, table, this.parent.editableElement);\n        this.removeEmptyNode();\n        e.item.selection.setSelectionText(this.parent.currentDocument, table.querySelector('td'), table.querySelector('td'), 0, 0);\n        if (table.nextElementSibling === null) {\n            var insertElem = void 0;\n            if (e.enterAction === 'DIV') {\n                insertElem = createElement('div');\n                insertElem.appendChild(createElement('br'));\n            }\n            else if (e.enterAction === 'BR') {\n                insertElem = createElement('br');\n            }\n            else {\n                insertElem = createElement('p');\n                insertElem.appendChild(createElement('br'));\n            }\n            this.insertAfter(insertElem, table);\n        }\n        table.querySelector('td').classList.add('e-cell-select');\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Table',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: [table]\n            });\n        }\n        return table;\n    };\n    TableCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    TableCommand.prototype.removeEmptyNode = function () {\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty:not(img)');\n        for (var i = 0; i < emptyLiChild.length; i++) {\n            detach(emptyLiChild[i]);\n            if (emptyLiChild.length === i + 1) {\n                emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty:not(img)');\n                i = -1;\n            }\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    TableCommand.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    TableCommand.prototype.getSelectedCellMinMaxIndex = function (e) {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        var a = 0;\n        var minI = e.length;\n        var maxI = 0;\n        var minJ = e[0].length;\n        var maxJ = 0;\n        //eslint-disable-next-line\n        for (var i = 0; a < selectedCells.length; a++) {\n            var selectedCellIndex = this.getCorrespondingIndex(selectedCells[a], e);\n            var minMaxIndex = this.FindIndex(selectedCellIndex[0], selectedCellIndex[1], e);\n            //eslint-disable-next-line\n            minI = Math.min(selectedCellIndex[0], minI),\n                maxI = Math.max(minMaxIndex[0], maxI),\n                minJ = Math.min(selectedCellIndex[1], minJ),\n                maxJ = Math.max(minMaxIndex[1], maxJ);\n        }\n        return {\n            startRow: minI,\n            endRow: maxI,\n            startColumn: minJ,\n            endColumn: maxJ\n        };\n    };\n    TableCommand.prototype.insertRow = function (e) {\n        var isBelow = e.item.subCommand === 'InsertRowBefore' ? false : true;\n        var selectedCell = e.item.selection.range.startContainer;\n        if (!(selectedCell.nodeName === 'TH' || selectedCell.nodeName === 'TD')) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        if (selectedCell.nodeName.toLowerCase() === 'th' && e.item.subCommand === 'InsertRowBefore') {\n            return;\n        }\n        this.curTable = closest(this.parent.nodeSelection.range.startContainer.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length === 0) {\n            var lastRow = this.curTable.rows[this.curTable.rows.length - 1];\n            var cloneRow = lastRow.cloneNode(true);\n            cloneRow.removeAttribute('rowspan');\n            this.insertAfter(cloneRow, lastRow);\n        }\n        else {\n            var allCells = this.getCorrespondingColumns();\n            var minMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n            var minVal = isBelow ? minMaxIndex.endRow : minMaxIndex.startRow;\n            var newRow = createElement('tr');\n            var isHeaderSelect = this.curTable.querySelectorAll('th.e-cell-select').length > 0;\n            for (var i = 0; i < allCells[minVal].length; i++) {\n                if (isBelow && minVal < allCells.length - 1 && allCells[minVal][i] === allCells[minVal + 1][i] ||\n                    !isBelow && 0 < minVal && allCells[minVal][i] === allCells[minVal - 1][i]) {\n                    if (0 === i || 0 < i && allCells[minVal][i] !== allCells[minVal][i - 1]) {\n                        allCells[minVal][i].setAttribute('rowspan', (parseInt(allCells[minVal][i].getAttribute('rowspan'), 10) + 1).toString());\n                    }\n                }\n                else {\n                    var tdElement = createElement('td');\n                    tdElement.appendChild(createElement('br'));\n                    newRow.appendChild(tdElement);\n                    tdElement.setAttribute('style', allCells[(isHeaderSelect && isBelow) ? allCells[(minVal + 1)] ? (minVal + 1) : minVal : minVal][i].getAttribute('style'));\n                }\n            }\n            // eslint-disable-next-line\n            var selectedRow = void 0;\n            if (isHeaderSelect && isBelow) {\n                selectedRow = this.curTable.querySelector('tbody').childNodes[0];\n            }\n            else {\n                selectedRow = this.curTable.rows[minVal];\n            }\n            // eslint-disable-next-line\n            (e.item.subCommand === 'InsertRowBefore') ? selectedRow.parentElement.insertBefore(newRow, selectedRow) :\n                (isHeaderSelect ? selectedRow.parentElement.insertBefore(newRow, selectedRow) :\n                    this.insertAfter(newRow, selectedRow));\n        }\n        e.item.selection.setSelectionText(this.parent.currentDocument, e.item.selection.range.startContainer, e.item.selection.range.startContainer, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.insertColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (!(selectedCell.nodeName === 'TH' || selectedCell.nodeName === 'TD')) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var curRow = closest(selectedCell, 'tr');\n        var curCell;\n        var allRows = closest((curRow), 'table').rows;\n        var colIndex = Array.prototype.slice.call(curRow.querySelectorAll(':scope > td, :scope > th')).indexOf(selectedCell);\n        var previousWidth = parseInt(e.item.width, 10) / (curRow.querySelectorAll(':scope > td, :scope > th').length);\n        var currentWidth = parseInt(e.item.width, 10) / (curRow.querySelectorAll(':scope > td, :scope > th').length + 1);\n        var currentTabElm = closest(curRow, 'table');\n        var thTdElm = closest(curRow, 'table').querySelectorAll('th,td');\n        for (var i = 0; i < thTdElm.length; i++) {\n            thTdElm[i].dataset.oldWidth = (thTdElm[i].offsetWidth / currentTabElm.offsetWidth * 100) + '%';\n        }\n        for (var i = 0; i < allRows.length; i++) {\n            curCell = allRows[i].querySelectorAll(':scope > td, :scope > th')[colIndex];\n            var colTemplate = curCell.cloneNode(true);\n            colTemplate.innerHTML = '';\n            colTemplate.appendChild(createElement('br'));\n            colTemplate.removeAttribute('class');\n            colTemplate.removeAttribute('colspan');\n            colTemplate.removeAttribute('rowspan');\n            // eslint-disable-next-line\n            (e.item.subCommand === 'InsertColumnLeft') ? curCell.parentElement.insertBefore(colTemplate, curCell) :\n                this.insertAfter(colTemplate, curCell);\n            colTemplate.style.width = currentWidth.toFixed(4) + '%';\n            delete colTemplate.dataset.oldWidth;\n        }\n        for (var i = 0; i < thTdElm.length; i++) {\n            thTdElm[i].style.width = (Number(thTdElm[i].dataset.oldWidth.split('%')[0]) * currentWidth / previousWidth).toFixed(4) + '%';\n            delete thTdElm[i].dataset.oldWidth;\n        }\n        e.item.selection.setSelectionText(this.parent.currentDocument, selectedCell, selectedCell, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (selectedCell.nodeType === 3) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var tBodyHeadEle = closest(selectedCell, selectedCell.tagName === 'TH' ? 'thead' : 'tbody');\n        var rowIndex = tBodyHeadEle && Array.prototype.indexOf.call(tBodyHeadEle.childNodes, selectedCell.parentNode);\n        this.curTable = closest(selectedCell, 'table');\n        var curRow = closest(selectedCell, 'tr');\n        if (curRow.querySelectorAll('th,td').length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            var deleteIndex = void 0;\n            var allCells = this.getCorrespondingColumns();\n            //eslint-disable-next-line\n            var selectedMinMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n            var minCol = selectedMinMaxIndex.startColumn;\n            var maxCol = selectedMinMaxIndex.endColumn;\n            for (var i = 0; i < allCells.length; i++) {\n                var currentRow = allCells[i];\n                for (var j = 0; j < currentRow.length; j++) {\n                    var currentCell = currentRow[j];\n                    //eslint-disable-next-line\n                    var currentCellIndex = this.getCorrespondingIndex(currentCell, allCells);\n                    var colSpanVal = parseInt(currentCell.getAttribute('colspan'), 10) || 1;\n                    if (currentCellIndex[1] + (colSpanVal - 1) >= minCol && currentCellIndex[1] <= maxCol) {\n                        if (colSpanVal > 1) {\n                            currentCell.setAttribute('colspan', (colSpanVal - 1).toString());\n                        }\n                        else {\n                            detach(currentCell);\n                            deleteIndex = j;\n                            if (Browser.isIE) {\n                                e.item.selection.setSelectionText(this.parent.currentDocument, this.curTable.querySelector('td'), this.curTable.querySelector('td'), 0, 0);\n                                this.curTable.querySelector('td, th').classList.add('e-cell-select');\n                            }\n                        }\n                    }\n                }\n            }\n            if (deleteIndex > -1) {\n                var rowHeadEle = tBodyHeadEle.children[rowIndex];\n                var nextFocusCell = rowHeadEle &&\n                    rowHeadEle.children[(deleteIndex <= rowHeadEle.children.length - 1 ? deleteIndex : deleteIndex - 1)];\n                if (nextFocusCell) {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, nextFocusCell, nextFocusCell, 0, 0);\n                    nextFocusCell.classList.add('e-cell-select');\n                }\n            }\n        }\n        if (e.callBack) {\n            var sContainer = this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;\n            if (sContainer.nodeName !== 'TD') {\n                var startChildLength = this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset;\n                var focusNode = sContainer.children[startChildLength];\n                if (focusNode) {\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, focusNode, 0);\n                }\n            }\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteRow = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (selectedCell.nodeType === 3) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var colIndex = Array.prototype.indexOf.call(selectedCell.parentNode.childNodes, selectedCell);\n        this.curTable = closest(selectedCell, 'table');\n        var currentRow;\n        var allCells = this.getCorrespondingColumns();\n        var minMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n        var maxI;\n        var j;\n        if (this.curTable.rows.length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            for (maxI = minMaxIndex.endRow; maxI >= minMaxIndex.startRow; maxI--) {\n                currentRow = this.curTable.rows[maxI];\n                for (j = 0; j < allCells[maxI].length; j++) {\n                    if (j === 0 || allCells[maxI][j] !== allCells[maxI][j - 1]) {\n                        if (1 < parseInt(allCells[maxI][j].getAttribute('rowspan'), 10)) {\n                            var rowSpanVal = parseInt(allCells[maxI][j].getAttribute('rowspan'), 10) - 1;\n                            //eslint-disable-next-line\n                            1 === rowSpanVal ? allCells[maxI][j].removeAttribute('rowspan') : allCells[maxI][j].setAttribute('rowspan', rowSpanVal.toString());\n                        }\n                    }\n                    if (maxI < allCells.length - 1 && allCells[maxI][j] === allCells[maxI + 1][j] && (0 === maxI ||\n                        allCells[maxI][j] !== allCells[maxI - 1][j])) {\n                        var element = allCells[maxI][j];\n                        var index = void 0;\n                        for (index = j; 0 < index && allCells[maxI][index] === allCells[maxI][index - 1]; index--) {\n                            if (index === 0) {\n                                this.curTable.rows[maxI + 1].prepend(element);\n                            }\n                            else {\n                                allCells[maxI + 1][index - 1].insertAdjacentElement('afterend', element);\n                            }\n                        }\n                    }\n                }\n                var deleteIndex = currentRow.rowIndex;\n                this.curTable.deleteRow(deleteIndex);\n                var focusTrEle = !isNOU(this.curTable.rows[deleteIndex]) ? this.curTable.querySelectorAll('tbody tr')[deleteIndex]\n                    : this.curTable.querySelectorAll('tbody tr')[deleteIndex - 1];\n                var nextFocusCell = focusTrEle && focusTrEle.querySelectorAll('td')[colIndex];\n                if (nextFocusCell) {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, nextFocusCell, nextFocusCell, 0, 0);\n                    nextFocusCell.classList.add('e-cell-select');\n                }\n                else {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, this.curTable.querySelector('td'), this.curTable.querySelector('td'), 0, 0);\n                    this.curTable.querySelector('td, th').classList.add('e-cell-select');\n                }\n            }\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.removeTable = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var selectedTable = closest(selectedCell.parentElement, 'table');\n        if (selectedTable) {\n            e.item.selection.restore();\n            detach(selectedTable);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableHeader = function (e) {\n        var headerExit = false;\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var table = closest(selectedCell.parentElement, 'table');\n        [].slice.call(table.childNodes).forEach(function (el) {\n            if (el.nodeName === 'THEAD') {\n                headerExit = true;\n            }\n        });\n        if (table && !headerExit) {\n            var cellCount = table.querySelector('tr').childElementCount;\n            var colSpanCount = 0;\n            for (var i = 0; i < cellCount; i++) {\n                colSpanCount = colSpanCount + (parseInt(table.querySelector('tr').children[i].getAttribute('colspan'), 10) || 1);\n            }\n            var header = table.createTHead();\n            var row = header.insertRow(0);\n            for (var j = 0; j < colSpanCount; j++) {\n                var th = createElement('th');\n                th.appendChild(createElement('br'));\n                row.appendChild(th);\n            }\n        }\n        else {\n            table.deleteTHead();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableVerticalAlign = function (e) {\n        if (e.item.subCommand === 'AlignTop') {\n            e.item.tableCell.style.verticalAlign = 'top';\n        }\n        else if (e.item.subCommand === 'AlignMiddle') {\n            e.item.tableCell.style.verticalAlign = 'middle';\n        }\n        else {\n            e.item.tableCell.style.verticalAlign = 'bottom';\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.cellMerge = function (e) {\n        if (isNOU(this.curTable)) {\n            this.curTable = closest(this.parent.nodeSelection.range.startContainer.parentElement, 'table');\n        }\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        if (selectedCells.length < 2) {\n            return;\n        }\n        this.mergeCellContent();\n        var minMaxIndexes = this.getSelectedMinMaxIndexes(this.getCorrespondingColumns());\n        var firstCell = selectedCells[0];\n        var rowSelectedCells = firstCell.parentElement.querySelectorAll('.e-cell-select');\n        if (minMaxIndexes.startColumn < minMaxIndexes.endColumn) {\n            firstCell.setAttribute('colspan', (minMaxIndexes.endColumn - minMaxIndexes.startColumn + 1).toString());\n        }\n        if (minMaxIndexes.startRow < minMaxIndexes.endRow) {\n            firstCell.setAttribute('rowspan', (minMaxIndexes.endRow - minMaxIndexes.startRow + 1).toString());\n        }\n        var totalWidth = 0;\n        for (var j = rowSelectedCells.length - 1; j >= 0; j--) {\n            totalWidth = totalWidth + parseFloat(rowSelectedCells[j].style.width);\n        }\n        firstCell.style.width = totalWidth + '%';\n        for (var i = 1; i <= selectedCells.length - 1; i++) {\n            detach(selectedCells[i]);\n        }\n        for (var i = 0; i < this.curTable.rows.length; i++) {\n            if (this.curTable.rows[i].innerHTML === '') {\n                detach(this.curTable.rows[i]);\n            }\n        }\n        this.updateRowSpanStyle(minMaxIndexes.startRow, minMaxIndexes.endRow, this.getCorrespondingColumns());\n        this.updateColSpanStyle(minMaxIndexes.startColumn, minMaxIndexes.endColumn, this.getCorrespondingColumns());\n        e.item.selection.setSelectionText(this.parent.currentDocument, e.item.selection.range.startContainer, e.item.selection.range.startContainer, 0, 0);\n        if (this.parent.nodeSelection.range) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, \n            // eslint-disable-next-line\n            this.parent.nodeSelection.range.endContainer, 0);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.updateColSpanStyle = function (min, max, elements) {\n        var colValue;\n        var colIndex;\n        var colMin;\n        var index = 0;\n        var attrValue;\n        var count = 0;\n        var eleArray = elements;\n        //eslint-disable-next-line\n        if (min < (max = Math.min(max, eleArray[0].length - 1))) {\n            for (colIndex === min; colIndex <= max; colIndex++) {\n                // eslint-disable-next-line\n                if (!(min < colIndex && eleArray[0][colIndex] === eleArray[0][colIndex - 1]) && 1 < (index =\n                    Math.min(parseInt(eleArray[0][colIndex].getAttribute('colspan'), 10) || 1, max - min + 1)) &&\n                    eleArray[0][colIndex] === eleArray[0][colIndex + 1]) {\n                    for (count = index - 1, colValue = 1; colValue < eleArray.length; colValue++) {\n                        if (eleArray[colValue][colIndex] !== eleArray[colValue - 1][colIndex]) {\n                            /* eslint-disable */\n                            for (colMin = colIndex; colMin < colIndex + index; colMin++) {\n                                if (1 < (attrValue = parseInt(eleArray[colValue][colMin].getAttribute('colspan'), 10) || 1) &&\n                                    eleArray[colValue][colMin] === eleArray[colValue][colMin + 1]) {\n                                    colMin += count = Math.min(count, attrValue - 1);\n                                }\n                                else if (!(count = Math.max(0, count - 1))) {\n                                    break;\n                                }\n                                /* eslint-enable */\n                            }\n                        }\n                        if (!count) {\n                            break;\n                        }\n                    }\n                }\n            }\n            if (count) {\n                this.updateCellAttribute(eleArray, count, 'colspan', 0, eleArray.length - 1, min, max);\n            }\n        }\n    };\n    TableCommand.prototype.updateRowSpanStyle = function (min, max, ele) {\n        var rowValue;\n        var colIndex;\n        var rowMin;\n        var index = 0;\n        var attrValue;\n        var count = 0;\n        var eleArray = ele;\n        // eslint-disable-next-line\n        if (min < (max = Math.min(max, eleArray.length - 1))) {\n            for (rowValue = min; rowValue <= max; rowValue++) {\n                // eslint-disable-next-line\n                if (!(min < rowValue && eleArray[rowValue][0] === eleArray[rowValue - 1][0]) && eleArray[rowValue][0] &&\n                    1 < (index = Math.min(parseInt(eleArray[rowValue][0].getAttribute('rowspan'), 10) || 1, max - min + 1)) && eleArray[rowValue][0] === eleArray[rowValue + 1][0]) {\n                    for (count = index - 1, colIndex = 1; colIndex < eleArray[0].length; colIndex++) {\n                        if (eleArray[rowValue][colIndex] !== eleArray[rowValue][colIndex - 1]) {\n                            for (rowMin = rowValue; rowMin < rowValue + index; rowMin++) {\n                                // eslint-disable-next-line\n                                if (1 < (attrValue = parseInt(eleArray[rowMin][colIndex].getAttribute('rowspan'), 10) || 1) && eleArray[rowMin][colIndex] === eleArray[rowMin + 1][colIndex]) {\n                                    rowMin += count = Math.min(count, attrValue - 1);\n                                }\n                                // eslint-disable-next-line\n                                else if (!(count = Math.max(0, count - 1))) {\n                                    break;\n                                }\n                            }\n                            if (!count) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (count) {\n                this.updateCellAttribute(eleArray, count, 'rowspan', min, max, 0, eleArray[0].length - 1);\n            }\n        }\n    };\n    TableCommand.prototype.updateCellAttribute = function (elements, index, attr, min, max, firstIndex, length) {\n        var rowIndex;\n        var colIndex;\n        var spanCount;\n        for (rowIndex = min; rowIndex <= max; rowIndex++) {\n            for (colIndex = firstIndex; colIndex <= length; colIndex++) {\n                // eslint-disable-next-line\n                min < rowIndex && elements[rowIndex][colIndex] === elements[rowIndex - 1][colIndex] ||\n                    firstIndex < colIndex && elements[rowIndex][colIndex] === elements[rowIndex][colIndex - 1] ||\n                    1 < (spanCount = parseInt(elements[rowIndex][colIndex].getAttribute(attr), 10) || 1) &&\n                        (1 < spanCount - index ? elements[rowIndex][colIndex].setAttribute(attr, (spanCount - index).toString()) :\n                            elements[rowIndex][colIndex].removeAttribute(attr));\n            }\n        }\n    };\n    TableCommand.prototype.mergeCellContent = function () {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        var innerHtml = selectedCells[0].innerHTML === '<br>' ? '' : selectedCells[0].innerHTML;\n        for (var i = 1; i < selectedCells.length; i++) {\n            if ('<br>' !== selectedCells[i].innerHTML) {\n                innerHtml = innerHtml ? innerHtml + '<br>' + selectedCells[i].innerHTML : innerHtml + selectedCells[i].innerHTML;\n            }\n        }\n        selectedCells[0].innerHTML = innerHtml;\n    };\n    TableCommand.prototype.getSelectedMinMaxIndexes = function (correspondingCells) {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        if (0 < selectedCells.length) {\n            var minRow = correspondingCells.length;\n            var maxRow = 0;\n            var minCol = correspondingCells[0].length;\n            var maxCol = 0;\n            for (var i = 0; i < selectedCells.length; i++) {\n                var currentRowCol = this.getCorrespondingIndex(selectedCells[i], correspondingCells);\n                var targetRowCol = this.FindIndex(currentRowCol[0], currentRowCol[1], correspondingCells);\n                minRow = Math.min(currentRowCol[0], minRow);\n                maxRow = Math.max(targetRowCol[0], maxRow);\n                minCol = Math.min(currentRowCol[1], minCol);\n                maxCol = Math.max(targetRowCol[1], maxCol);\n            }\n            return {\n                startRow: minRow,\n                endRow: maxRow,\n                startColumn: minCol,\n                endColumn: maxCol\n            };\n        }\n        return null;\n    };\n    TableCommand.prototype.HorizontalSplit = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        this.curTable = closest(selectedCell.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            return;\n        }\n        this.activeCell = this.curTable.querySelector('.e-cell-select');\n        var newCell = this.activeCell.cloneNode(true);\n        newCell.removeAttribute('class');\n        newCell.innerHTML = '</br>';\n        var activeCellIndex = this.getCorrespondingIndex(this.activeCell, this.getCorrespondingColumns());\n        var correspondingCells = this.getCorrespondingColumns();\n        var activeCellRowSpan = this.activeCell.getAttribute('rowspan') ? parseInt(this.activeCell.getAttribute('rowspan'), 10) : 1;\n        if (activeCellRowSpan > 1) {\n            var avgCount = Math.ceil(activeCellRowSpan / 2);\n            // eslint-disable-next-line\n            1 < avgCount ? this.activeCell.setAttribute('rowspan', avgCount.toString()) :\n                this.activeCell.removeAttribute('rowspan');\n            // eslint-disable-next-line\n            1 < (activeCellRowSpan - avgCount) ? newCell.setAttribute('rowspan', (activeCellRowSpan - avgCount).toString()) : newCell.removeAttribute('rowspan');\n            var avgRowIndex = void 0;\n            var colIndex = void 0;\n            for (avgRowIndex = activeCellIndex[0] + Math.ceil(activeCellRowSpan / 2),\n                colIndex = 0 === activeCellIndex[1] ? activeCellIndex[1]\n                    : activeCellIndex[1] - 1; 0 <= colIndex && (correspondingCells[avgRowIndex][colIndex] ===\n                correspondingCells[avgRowIndex][colIndex - 1] || 0 < avgRowIndex && correspondingCells[avgRowIndex][colIndex]\n                === correspondingCells[avgRowIndex - 1][colIndex]);) {\n                colIndex--;\n            }\n            if (colIndex === -1) {\n                // eslint-disable-next-line\n                this.curTable.rows[avgRowIndex].firstChild ? this.curTable.rows[avgRowIndex].prepend(newCell) : this.curTable.appendChild(newCell);\n            }\n            else {\n                correspondingCells[avgRowIndex][colIndex].insertAdjacentElement('afterend', newCell);\n            }\n        }\n        else {\n            var newTrEle = createElement('tr');\n            newTrEle.appendChild(newCell);\n            var selectedRow = correspondingCells[activeCellIndex[0]];\n            for (var j = 0; j <= selectedRow.length - 1; j++) {\n                if (selectedRow[j] !== selectedRow[j - 1] && selectedRow[j] !== this.activeCell) {\n                    selectedRow[j].setAttribute('rowspan', ((parseInt(selectedRow[j].getAttribute('rowspan'), 10) ?\n                        parseInt(selectedRow[j].getAttribute('rowspan'), 10) : 1) + 1).toString());\n                }\n            }\n            this.activeCell.parentNode.insertAdjacentElement('afterend', newTrEle);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.VerticalSplit = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        this.curTable = closest(selectedCell.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            return;\n        }\n        this.activeCell = this.curTable.querySelector('.e-cell-select');\n        var allRows = this.curTable.rows;\n        var newCell = this.activeCell.cloneNode(true);\n        newCell.removeAttribute('class');\n        newCell.innerHTML = '</br>';\n        var avgWidth = parseFloat(this.activeCell.style.width) / 2;\n        if (this.activeCell.tagName === 'TH' && isNaN(avgWidth)) {\n            var cellCount = this.curTable.querySelector('tr').childElementCount;\n            var colSpanCount = 0;\n            for (var i = 0; i < cellCount; i++) {\n                colSpanCount = colSpanCount + (parseInt(this.curTable.querySelector('tr').children[i].getAttribute('colspan'), 10) || 1);\n            }\n            avgWidth = parseFloat((((this.activeCell.offsetWidth / 2) / this.curTable.offsetWidth) * 100).toFixed(1));\n        }\n        var activeCellIndex = this.getCorrespondingIndex(this.activeCell, this.getCorrespondingColumns());\n        var correspondingColumns = this.getCorrespondingColumns();\n        var activeCellcolSpan = parseInt(this.activeCell.getAttribute('colspan'), 10);\n        if (activeCellcolSpan > 1) {\n            // eslint-disable-next-line\n            1 < Math.ceil(activeCellcolSpan / 2) ? this.activeCell.setAttribute('colspan', (activeCellcolSpan / 2).toString())\n                : this.activeCell.removeAttribute('colspan');\n            // eslint-disable-next-line\n            1 < (activeCellcolSpan - activeCellcolSpan / 2) ? newCell.setAttribute('colspan', \n            // eslint-disable-next-line\n            (activeCellcolSpan - activeCellcolSpan / 2).toString()) : newCell.removeAttribute('colspan');\n        }\n        else {\n            for (var i = 0; i <= allRows.length - 1; i++) {\n                if (0 === i || correspondingColumns[i][activeCellIndex[1]] !== correspondingColumns[i - 1][activeCellIndex[1]]) {\n                    var currentCell = correspondingColumns[i][activeCellIndex[1]];\n                    if (currentCell !== this.activeCell) {\n                        currentCell.setAttribute('colspan', ((parseInt(currentCell.getAttribute('colspan'), 10) ?\n                            parseInt(currentCell.getAttribute('colspan'), 10) : 1) + 1).toString());\n                    }\n                }\n            }\n        }\n        this.activeCell.style.width = avgWidth + '%';\n        newCell.style.width = avgWidth + '%';\n        this.activeCell.parentNode.insertBefore(newCell, this.activeCell.nextSibling);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.getCorrespondingColumns = function () {\n        var elementArray = [];\n        // eslint-disable-next-line\n        var _this = this;\n        var colspan = 0;\n        var allRows = _this.curTable.rows;\n        for (var i = 0; i <= allRows.length - 1; i++) {\n            var ele = allRows[i];\n            var index = 0;\n            for (var j = 0; j <= ele.children.length - 1; j++) {\n                /* eslint-disable */\n                var colEle = ele.children[j];\n                for (var ele_1 = colEle, colspan_1 = parseInt(ele_1.getAttribute('colspan'), 10) || 1, rowSpan = parseInt(ele_1.getAttribute('rowspan'), 10) || 1, rowIndex = i; rowIndex < i + rowSpan; rowIndex++) {\n                    for (var colIndex = index; colIndex < index + colspan_1; colIndex++) {\n                        elementArray[rowIndex] || (elementArray[rowIndex] = []);\n                        elementArray[rowIndex][colIndex] ? index++ : elementArray[rowIndex][colIndex] = colEle;\n                    }\n                }\n                index += colspan;\n            }\n            /* eslint-enable */\n        }\n        return elementArray;\n    };\n    // eslint-disable-next-line\n    TableCommand.prototype.FindIndex = function (rowIndex, columnIndex, cells) {\n        var nextIndex;\n        var nextCol;\n        for (nextIndex = rowIndex + 1, nextCol = columnIndex + 1; nextIndex < cells.length;) {\n            if (cells[nextIndex][columnIndex] !== cells[rowIndex][columnIndex]) {\n                nextIndex--;\n                break;\n            }\n            nextIndex++;\n        }\n        for (nextIndex === cells.length && nextIndex--; nextCol < cells[rowIndex].length;) {\n            if (cells[rowIndex][nextCol] !== cells[rowIndex][columnIndex]) {\n                nextCol--;\n                break;\n            }\n            nextCol++;\n        }\n        return nextCol === cells[rowIndex].length && nextCol--,\n            [\n                nextIndex,\n                nextCol\n            ];\n    };\n    TableCommand.prototype.getCorrespondingIndex = function (cell, allCells) {\n        //let value: RowCol = new RowCol();\n        for (var i = 0; i < allCells.length; i++) {\n            for (var j = 0; j < allCells[i].length; j++) {\n                if (allCells[i][j] === cell) {\n                    return [i, j];\n                }\n            }\n        }\n        return [];\n    };\n    TableCommand.prototype.highlightCells = function (minRow, maxRow, minCol, maxCol, eleArray) {\n        var j;\n        var k;\n        var startCell;\n        var endCell;\n        var minRowIndex = minRow;\n        var maxRowIndex = maxRow;\n        var minColIndex = minCol;\n        var maxColIndex = maxCol;\n        var minMaxValues = new MinMax();\n        for (j = minRowIndex; j <= maxRowIndex; j++) {\n            /* eslint-disable */\n            if ((1 < (parseInt(eleArray[j][minColIndex].getAttribute('rowspan'), 10) || 1) ||\n                1 < (parseInt(eleArray[j][minColIndex].getAttribute('colspan'), 10) || 1)) &&\n                (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[j][minColIndex], eleArray))[0], startCell[1], eleArray))) {\n                minRowIndex = Math.min(startCell[0], minRowIndex);\n                maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                minColIndex = Math.min(startCell[1], minColIndex);\n                maxColIndex = Math.max(endCell[1], maxColIndex);\n            }\n            else if ((1 < (parseInt(eleArray[j][maxColIndex].getAttribute('rowspan'), 10) || 1) ||\n                1 < (parseInt(eleArray[j][maxColIndex].getAttribute('colspan'), 10) || 1)) &&\n                (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[j][maxColIndex], eleArray))[0], startCell[1], eleArray))) {\n                minRowIndex = Math.min(startCell[0], minRowIndex);\n                maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                minColIndex = Math.min(startCell[1], minColIndex);\n                maxColIndex = Math.max(endCell[1], maxColIndex);\n            }\n            for (k = minColIndex; k <= maxColIndex; k++) {\n                if ((1 < (parseInt(eleArray[minRowIndex][k].getAttribute('rowspan'), 10) || 1) ||\n                    1 < (parseInt(eleArray[minRowIndex][k].getAttribute('colspan'), 10) || 1)) &&\n                    (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[minRowIndex][k], eleArray))[0], startCell[1], eleArray))) {\n                    minRowIndex = Math.min(startCell[0], minRowIndex);\n                    maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                    minColIndex = Math.min(startCell[1], minColIndex);\n                    maxColIndex = Math.max(endCell[1], maxColIndex);\n                }\n                else if ((1 < (parseInt(eleArray[maxRowIndex][k].getAttribute('rowspan'), 10) || 1) ||\n                    1 < (parseInt(eleArray[maxRowIndex][k].getAttribute('colspan'), 10) || 1)) &&\n                    (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[maxRowIndex][k], eleArray))[0], startCell[1], eleArray))) {\n                    minRowIndex = Math.min(startCell[0], minRowIndex);\n                    maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                    minColIndex = Math.min(startCell[1], minColIndex);\n                    maxColIndex = Math.max(endCell[1], maxColIndex);\n                }\n            }\n            minMaxValues = minRowIndex === minRow && maxRowIndex === maxRow && minColIndex === minCol && maxColIndex === maxCol ? {\n                startRow: minRow,\n                endRow: maxRow,\n                startColumn: minCol,\n                endColumn: maxCol\n            } : this.highlightCells(minRowIndex, maxRowIndex, minColIndex, maxColIndex, eleArray);\n        }\n        return minMaxValues;\n        /* eslint-enable */\n    };\n    TableCommand.prototype.tableMove = function (e) {\n        this.activeCell = e.selectNode[0];\n        var target = e.event.target;\n        var activeCellTag = this.activeCell.tagName;\n        var targetCellTag = target.tagName;\n        this.curTable = closest(target, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            this.parent.nodeSelection.Clear(this.parent.currentDocument);\n        }\n        if ((target.tagName !== 'TD' && target.tagName !== 'TH') && activeCellTag !== targetCellTag) {\n            return;\n        }\n        var activeRowIndex = Array.prototype.slice.call((this.activeCell).parentElement.parentElement.children)\n            .indexOf((this.activeCell).parentElement);\n        var activeColumnIndex = Array.prototype.slice.call((this.activeCell).parentElement.children).indexOf(this.activeCell);\n        var targetRowIndex = Array.prototype.slice.call(target.parentElement.parentElement.children)\n            .indexOf(target.parentElement);\n        var targetColumnIndex = Array.prototype.slice.call(target.parentElement.children).indexOf(target);\n        var activeCellList = this.curTable.querySelectorAll('.e-cell-select');\n        for (var i = activeCellList.length - 1; i >= 0; i--) {\n            if (this.activeCell !== activeCellList[i]) {\n                activeCellList[i].classList.remove('e-cell-select');\n            }\n        }\n        if (activeRowIndex === targetRowIndex && activeColumnIndex === targetColumnIndex) {\n            return;\n        }\n        var correspondingCells = this.getCorrespondingColumns();\n        var activeIndexes = this.getCorrespondingIndex(this.activeCell, correspondingCells);\n        var targetIndexes = this.getCorrespondingIndex(target, correspondingCells);\n        var minMaxIndexes = this.highlightCells(Math.min(activeIndexes[0], targetIndexes[0]), Math.max(activeIndexes[0], \n        /* eslint-disable */\n        targetIndexes[0]), Math.min(activeIndexes[1], targetIndexes[1]), Math.max(activeIndexes[1], targetIndexes[1]), correspondingCells);\n        for (var rowIndex = minMaxIndexes.startRow; rowIndex <= minMaxIndexes.endRow; rowIndex++) {\n            for (var colIndex = minMaxIndexes.startColumn; colIndex <= minMaxIndexes.endColumn; colIndex++) {\n                correspondingCells[rowIndex][colIndex].classList.add('e-cell-select');\n            }\n        }\n        if (this.parent.nodeSelection.range) {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, this.parent.nodeSelection.range.endContainer, this.parent.nodeSelection.range.endContainer, 0, 0);\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, this.parent.nodeSelection.range.endContainer, 0);\n        }\n    };\n    ;\n    return TableCommand;\n}());\nexport { TableCommand };\nvar MinMax = /** @class */ (function () {\n    function MinMax() {\n    }\n    return MinMax;\n}());\n","/**\n * Is formatted or not.\n *\n * @hidden\n\n */\nvar IsFormatted = /** @class */ (function () {\n    function IsFormatted() {\n    }\n    /**\n     * getFormattedNode method\n     *\n     * @param {Node} node - specifies the node.\n     * @param {string} format - specifies the string value.\n     * @param {Node} endNode - specifies the end node\n     * @returns {Node} - returns the node\n     * @hidden\n\n     */\n    IsFormatted.prototype.getFormattedNode = function (node, format, endNode) {\n        var parentNode = this.getFormatParent(node, format, endNode);\n        if (parentNode !== null && parentNode !== endNode) {\n            return parentNode;\n        }\n        return null;\n    };\n    IsFormatted.prototype.getFormatParent = function (node, format, endNode) {\n        do {\n            node = node.parentNode;\n        } while (node && (node !== endNode) && !this.isFormattedNode(node, format));\n        return node;\n    };\n    IsFormatted.prototype.isFormattedNode = function (node, format) {\n        switch (format) {\n            case 'bold':\n                return IsFormatted.isBold(node);\n            case 'italic':\n                return IsFormatted.isItalic(node);\n            case 'underline':\n                return IsFormatted.isUnderline(node);\n            case 'strikethrough':\n                return IsFormatted.isStrikethrough(node);\n            case 'superscript':\n                return IsFormatted.isSuperscript(node);\n            case 'subscript':\n                return IsFormatted.isSubscript(node);\n            case 'fontcolor':\n                return this.isFontColor(node);\n            case 'fontname':\n                return this.isFontName(node);\n            case 'fontsize':\n                return this.isFontSize(node);\n            case 'backgroundcolor':\n                return this.isBackgroundColor(node);\n            default:\n                return false;\n        }\n    };\n    /**\n     * isBold method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isBold = function (node) {\n        var validTags = ['strong', 'b'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontWeight === 'bold') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isItalic method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isItalic = function (node) {\n        var validTags = ['em', 'i'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontStyle === 'italic') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isUnderline method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isUnderline = function (node) {\n        var validTags = ['u'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'underline') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isStrikethrough method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isStrikethrough = function (node) {\n        var validTags = ['del', 'strike'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'line-through') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSuperscript method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isSuperscript = function (node) {\n        var validTags = ['sup'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSubscript method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isSubscript = function (node) {\n        var validTags = ['sub'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontColor = function (node) {\n        var color = node.style && node.style.color;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            color !== null && color !== '' && color !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            backColor !== null && backColor !== '' && backColor !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontSize = function (node) {\n        var size = node.style && node.style.fontSize;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            size !== null && size !== '' && size !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontName = function (node) {\n        var name = node.style && node.style.fontFamily;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            name !== null && name !== '' && name !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // Get Formatted Node\n    IsFormatted.inlineTags = [\n        'a',\n        'abbr',\n        'acronym',\n        'b',\n        'bdo',\n        'big',\n        'cite',\n        'code',\n        'dfn',\n        'em',\n        'i',\n        'kbd',\n        'label',\n        'q',\n        'samp',\n        'small',\n        'span',\n        'strong',\n        'sub',\n        'sup',\n        'tt',\n        'u',\n        'var',\n        'del'\n    ];\n    return IsFormatted;\n}());\nexport { IsFormatted };\n","/**\n * `Selection` module is used to handle RTE Selections.\n */\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined as isNOU, Browser, closest, detach } from '@syncfusion/ej2-base';\nimport { DOMNode } from './dom-node';\nvar SelectionCommands = /** @class */ (function () {\n    function SelectionCommands() {\n    }\n    /**\n     * applyFormat method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {string} format - specifies the string value\n     * @param {Node} endNode - specifies the end node\n     * @param {string} enterAction - specifies the enter key action\n     * @param {string} value - specifies the string value\n     * @param {string} selector - specifies the string\n     * @returns {void}\n     * @hidden\n\n     */\n    SelectionCommands.applyFormat = function (docElement, format, endNode, enterAction, value, selector) {\n        this.enterAction = enterAction;\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase', 'fontcolor', 'fontname', 'fontsize', 'backgroundcolor'];\n        if (validFormats.indexOf(format) > -1) {\n            if (format === 'backgroundcolor' && value === '') {\n                value = 'transparent';\n            }\n            var domSelection = new NodeSelection();\n            var domNode = new DOMNode(endNode, docElement);\n            var nodeCutter = new NodeCutter();\n            var isFormatted = new IsFormatted();\n            var range = domSelection.getRange(docElement);\n            var save = domSelection.save(range, docElement);\n            var nodes = range.collapsed ? domSelection.getSelectionNodeCollection(range) :\n                domSelection.getSelectionNodeCollectionBr(range);\n            var isCollapsed = false;\n            var isFormat = false;\n            var isCursor = false;\n            var preventRestore = false;\n            var isFontStyle = (['fontcolor', 'fontname', 'fontsize', 'backgroundcolor'].indexOf(format) > -1);\n            if (range.collapsed) {\n                var currentFormatNode = isFormatted.getFormattedNode(range.startContainer, format, endNode);\n                var currentSelector = !isNOU(currentFormatNode) ?\n                    (currentFormatNode.getAttribute('style') === null ? currentFormatNode.nodeName :\n                        currentFormatNode.nodeName + \"[style='\" + currentFormatNode.getAttribute('style') + \"']\") : null;\n                if (nodes.length > 0) {\n                    isCollapsed = true;\n                    range = nodeCutter.GetCursorRange(docElement, range, nodes[0]);\n                }\n                else if (range.startContainer.nodeType === 3 && ((range.startContainer.parentElement.childElementCount > 0 &&\n                    range.startOffset > 0 && range.startContainer.parentElement.firstElementChild.tagName.toLowerCase() !== 'br') ||\n                    !isNOU(currentFormatNode) && currentFormatNode === (range.startContainer.parentElement.closest(currentSelector)) &&\n                        ((range.startContainer.parentElement.closest(currentSelector)).textContent.replace(new RegExp(String.fromCharCode(8203), 'g'), '').trim().length != 0))) {\n                    isCollapsed = true;\n                    range = nodeCutter.GetCursorRange(docElement, range, range.startContainer);\n                    nodes.push(range.startContainer);\n                }\n                else {\n                    var cursorNode = this.insertCursorNode(docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode);\n                    domSelection.endContainer = domSelection.startContainer = domSelection.getNodeArray(cursorNode, true);\n                    var childNodes = cursorNode.nodeName === 'BR' && cursorNode.parentNode.childNodes;\n                    if (!isNOU(childNodes) && childNodes.length === 1 && childNodes[0].nodeName === 'BR' && nodes.length === 0) {\n                        domSelection.setSelectionText(docElement, range.startContainer, range.endContainer, 0, 0);\n                        preventRestore = true;\n                    }\n                    else {\n                        domSelection.endOffset = domSelection.startOffset = 1;\n                    }\n                    if (cursorNode.nodeName === 'BR' && cursorNode.parentNode.textContent.length === 0) {\n                        preventRestore = true;\n                    }\n                }\n            }\n            isCursor = range.collapsed;\n            var isSubSup = false;\n            for (var index = 0; index < nodes.length; index++) {\n                var formatNode = isFormatted.getFormattedNode(nodes[index], format, endNode);\n                if (formatNode === null) {\n                    if (format === 'subscript') {\n                        formatNode = isFormatted.getFormattedNode(nodes[index], 'superscript', endNode);\n                        isSubSup = formatNode === null ? false : true;\n                    }\n                    else if (format === 'superscript') {\n                        formatNode = isFormatted.getFormattedNode(nodes[index], 'subscript', endNode);\n                        isSubSup = formatNode === null ? false : true;\n                    }\n                }\n                if (index === 0 && formatNode === null) {\n                    isFormat = true;\n                }\n                if (formatNode !== null && (!isFormat || isFontStyle)) {\n                    nodes[index] = this.removeFormat(nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection, endNode, domNode);\n                }\n                else {\n                    nodes[index] = this.insertFormat(docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value);\n                }\n                domSelection = this.applySelection(nodes, domSelection, nodeCutter, index, isCollapsed);\n            }\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            if (!preventRestore) {\n                save.restore();\n            }\n            if (isSubSup) {\n                this.applyFormat(docElement, format, endNode, enterAction);\n            }\n        }\n    };\n    SelectionCommands.insertCursorNode = function (docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode) {\n        var cursorNodes = domSelection.getNodeCollection(range);\n        var domNode = new DOMNode(endNode, docElement);\n        var cursorFormat = (cursorNodes.length > 0) ?\n            (cursorNodes.length > 1 && range.startContainer === range.endContainer) ?\n                this.getCursorFormat(isFormatted, cursorNodes, format, endNode) :\n                isFormatted.getFormattedNode(cursorNodes[0], format, endNode) : null;\n        var cursorNode = null;\n        if (cursorFormat) {\n            cursorNode = cursorNodes[0];\n            if (cursorFormat.firstChild.textContent.charCodeAt(0) === 8203 && cursorFormat.firstChild.nodeType === 3) {\n                var isCursorEqual = false;\n                var regEx = new RegExp(String.fromCharCode(8203), 'g');\n                var emptySpaceNode = void 0;\n                if (cursorFormat.firstChild === cursorNode) {\n                    cursorNode.textContent = (cursorFormat.parentElement && (domNode.isBlockNode(cursorFormat.parentElement) &&\n                        cursorFormat.parentElement.textContent.length <= 1 ? cursorFormat.parentElement.childElementCount > 1 :\n                        cursorFormat.childElementCount === 0) &&\n                        (cursorFormat.parentElement.textContent.length > 1 ||\n                            cursorFormat.parentElement.firstChild && cursorFormat.parentElement.firstChild.nodeType === 1) ?\n                        cursorNode.textContent : cursorNode.textContent.replace(regEx, ''));\n                    emptySpaceNode = cursorNode;\n                    isCursorEqual = true;\n                }\n                else {\n                    cursorFormat.firstChild.textContent = cursorFormat.firstChild.textContent.replace(regEx, '');\n                    emptySpaceNode = cursorFormat.firstChild;\n                }\n                var pointer = void 0;\n                if (emptySpaceNode.textContent.length === 0) {\n                    if (!isNOU(emptySpaceNode.previousSibling)) {\n                        cursorNode = emptySpaceNode.previousSibling;\n                        pointer = emptySpaceNode.textContent.length - 1;\n                        domSelection.setCursorPoint(docElement, emptySpaceNode, pointer);\n                    }\n                    else if (!isNOU(emptySpaceNode.parentElement) && emptySpaceNode.parentElement.textContent.length === 0) {\n                        var brElem = document.createElement('BR');\n                        emptySpaceNode.parentElement.appendChild(brElem);\n                        detach(emptySpaceNode);\n                        cursorNode = brElem;\n                        domSelection.setCursorPoint(docElement, cursorNode.parentElement, 0);\n                    }\n                }\n            }\n            if ((['fontcolor', 'fontname', 'fontsize', 'backgroundcolor'].indexOf(format) > -1)) {\n                if (format === 'fontcolor') {\n                    cursorFormat.style.color = value;\n                }\n                else if (format === 'fontname') {\n                    cursorFormat.style.fontFamily = value;\n                }\n                else if (format === 'fontsize') {\n                    cursorFormat.style.fontSize = value;\n                }\n                else {\n                    cursorFormat.style.backgroundColor = value;\n                }\n                cursorNode = cursorFormat;\n            }\n            else {\n                InsertMethods.unwrap(cursorFormat);\n            }\n        }\n        else {\n            if (cursorNodes.length > 1 && range.startOffset > 0 && (cursorNodes[0].firstElementChild &&\n                cursorNodes[0].firstElementChild.tagName.toLowerCase() === 'br')) {\n                cursorNodes[0].innerHTML = '';\n            }\n            if (cursorNodes.length === 1 && range.startOffset === 0 && (cursorNodes[0].nodeName === 'BR' ||\n                cursorNodes[0].nextSibling.nodeName === 'BR')) {\n                detach(cursorNodes[0].nodeName === '#text' ? cursorNodes[0].nextSibling : cursorNodes[0]);\n            }\n            cursorNode = this.getInsertNode(docElement, range, format, value).firstChild;\n        }\n        return cursorNode;\n    };\n    SelectionCommands.getCursorFormat = function (isFormatted, cursorNodes, format, endNode) {\n        var currentNode;\n        for (var index = 0; index < cursorNodes.length; index++) {\n            currentNode = cursorNodes[index].lastElementChild ?\n                cursorNodes[index].lastElementChild : cursorNodes[index];\n        }\n        return isFormatted.getFormattedNode(currentNode, format, endNode);\n    };\n    SelectionCommands.removeFormat = function (nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection, endNode, domNode) {\n        var splitNode = null;\n        var startText = range.startContainer.nodeName === '#text' ?\n            range.startContainer.textContent.substring(range.startOffset, range.startContainer.textContent.length) :\n            range.startContainer.textContent;\n        if (!(range.startContainer === range.endContainer && range.startOffset === 0\n            && range.endOffset === range.startContainer.length)) {\n            var nodeIndex = [];\n            var cloneNode = nodes[index];\n            do {\n                nodeIndex.push(domSelection.getIndex(cloneNode));\n                cloneNode = cloneNode.parentNode;\n            } while (cloneNode && (cloneNode !== formatNode));\n            if (nodes[index].nodeName !== 'BR') {\n                cloneNode = splitNode = (isCursor && (formatNode.textContent.length - 1) === range.startOffset) ?\n                    nodeCutter.SplitNode(range, formatNode, true)\n                    : nodeCutter.GetSpliceNode(range, formatNode);\n            }\n            if (!isCursor) {\n                while (cloneNode && cloneNode.childNodes.length > 0 && ((nodeIndex.length - 1) >= 0)\n                    && (cloneNode.childNodes.length > nodeIndex[nodeIndex.length - 1])) {\n                    cloneNode = cloneNode.childNodes[nodeIndex[nodeIndex.length - 1]];\n                    nodeIndex.pop();\n                }\n                if (nodes[index].nodeName !== 'BR') {\n                    if (cloneNode.nodeType === 3 && !(isCursor && cloneNode.nodeValue === '')) {\n                        nodes[index] = cloneNode;\n                    }\n                    else {\n                        var divNode = document.createElement('div');\n                        divNode.innerHTML = '&#8203;';\n                        if (cloneNode.nodeType !== 3) {\n                            cloneNode.insertBefore(divNode.firstChild, cloneNode.firstChild);\n                            nodes[index] = cloneNode.firstChild;\n                        }\n                        else {\n                            cloneNode.parentNode.insertBefore(divNode.firstChild, cloneNode);\n                            nodes[index] = cloneNode.previousSibling;\n                            cloneNode.parentNode.removeChild(cloneNode);\n                        }\n                    }\n                }\n            }\n            else {\n                var lastNode = splitNode;\n                for (; lastNode.firstChild !== null && lastNode.firstChild.nodeType !== 3; null) {\n                    lastNode = lastNode.firstChild;\n                }\n                lastNode.innerHTML = '&#8203;';\n                nodes[index] = lastNode.firstChild;\n            }\n        }\n        var fontStyle;\n        if (format === 'backgroundcolor') {\n            fontStyle = formatNode.style.fontSize;\n        }\n        var bgStyle;\n        if (format === 'fontsize') {\n            var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n            if (!isNOU(bg)) {\n                bgStyle = bg.style.backgroundColor;\n            }\n        }\n        var formatNodeStyles = formatNode.getAttribute('style');\n        var formatNodeTagName = formatNode.tagName;\n        var child = InsertMethods.unwrap(formatNode);\n        if (child[0] && !isFontStyle) {\n            var nodeTraverse = child[index] ? child[index] : child[0];\n            var textNode = nodeTraverse;\n            for (; nodeTraverse && nodeTraverse.parentElement && nodeTraverse.parentElement !== endNode; \n            // eslint-disable-next-line\n            nodeTraverse = nodeTraverse) {\n                var nodeTraverseCondition = void 0;\n                if (formatNode.nodeName === 'SPAN') {\n                    nodeTraverseCondition = nodeTraverse.parentElement.tagName.toLocaleLowerCase()\n                        === formatNode.tagName.toLocaleLowerCase() && nodeTraverse.parentElement.getAttribute('style') === formatNodeStyles;\n                }\n                else {\n                    nodeTraverseCondition = nodeTraverse.parentElement.tagName.toLocaleLowerCase()\n                        === formatNode.tagName.toLocaleLowerCase();\n                }\n                if (nodeTraverse.parentElement && nodeTraverseCondition &&\n                    (nodeTraverse.parentElement.childElementCount > 1 || range.startOffset > 1)) {\n                    if (textNode.parentElement && textNode.parentElement.tagName.toLocaleLowerCase()\n                        === formatNode.tagName.toLocaleLowerCase()) {\n                        if ((range.startOffset === range.endOffset) && textNode.nodeType !== 1 &&\n                            !isNOU(textNode.textContent) && textNode.parentElement.childElementCount > 1) {\n                            range.setStart(textNode, 0);\n                            range.setEnd(textNode, textNode.textContent.length);\n                            nodeCutter.SplitNode(range, textNode.parentElement, false);\n                        }\n                    }\n                    if (nodeTraverse.parentElement.tagName.toLocaleLowerCase() === 'span') {\n                        if (formatNode.style.textDecoration === 'underline' &&\n                            nodeTraverse.parentElement.style.textDecoration !== 'underline') {\n                            nodeTraverse = nodeTraverse.parentElement;\n                            continue;\n                        }\n                    }\n                    InsertMethods.unwrap(nodeTraverse.parentElement);\n                    nodeTraverse = !isNOU(nodeTraverse.parentElement) && !domNode.isBlockNode(nodeTraverse.parentElement) ? textNode :\n                        nodeTraverse.parentElement;\n                }\n                else {\n                    nodeTraverse = nodeTraverse.parentElement;\n                }\n            }\n        }\n        if (child.length > 0 && isFontStyle) {\n            for (var num = 0; num < child.length; num++) {\n                if (child[num].nodeType !== 3 || (child[num].textContent && child[num].textContent.trim().length > 0)) {\n                    child[num] = InsertMethods.Wrap(child[num], this.GetFormatNode(format, value, formatNodeTagName, formatNodeStyles));\n                    if (child[num].textContent === startText) {\n                        if (num === 0) {\n                            range.setStartBefore(child[num]);\n                        }\n                        else if (num === child.length - 1) {\n                            range.setEndAfter(child[num]);\n                        }\n                    }\n                }\n            }\n            var currentNodeElem = nodes[index].parentElement;\n            if (!isNOU(fontStyle) && fontStyle !== '') {\n                currentNodeElem.style.fontSize = fontStyle;\n            }\n            if (!isNOU(bgStyle) && bgStyle !== '') {\n                currentNodeElem.style.backgroundColor = bgStyle;\n            }\n            if ((format === 'backgroundcolor' && !isNOU(fontStyle) && fontStyle !== '') &&\n                currentNodeElem.parentElement.innerHTML === currentNodeElem.outerHTML) {\n                var curParentElem = currentNodeElem.parentElement;\n                curParentElem.parentElement.insertBefore(currentNodeElem, curParentElem);\n                detach(curParentElem);\n            }\n            if (format === 'fontsize' || format === 'fontcolor') {\n                var liElement = nodes[index].parentElement;\n                var parentElement = nodes[index].parentElement;\n                while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                    parentElement = parentElement.parentElement;\n                    liElement = parentElement;\n                }\n                if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                    liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                    if (format === 'fontsize') {\n                        liElement.style.fontSize = value;\n                    }\n                    else {\n                        liElement.style.color = value;\n                        liElement.style.textDecoration = 'inherit';\n                    }\n                }\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.insertFormat = function (docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value) {\n        if (!isCursor) {\n            if ((formatNode === null && isFormat) || isFontStyle) {\n                if (nodes[index].nodeName !== 'BR') {\n                    nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n                    nodes[index].textContent = nodeCutter.TrimLineBreak(nodes[index].textContent);\n                }\n                if (format === 'uppercase' || format === 'lowercase') {\n                    nodes[index].textContent = (format === 'uppercase') ? nodes[index].textContent.toLocaleUpperCase()\n                        : nodes[index].textContent.toLocaleLowerCase();\n                }\n                else if (!(isFontStyle === true && value === '')) {\n                    var element = this.GetFormatNode(format, value);\n                    if (format === 'fontsize' || format === 'fontcolor') {\n                        var liElement = nodes[index].parentElement;\n                        var parentElement = nodes[index].parentElement;\n                        while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                            parentElement = parentElement.parentElement;\n                            liElement = parentElement;\n                        }\n                        if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                            liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                            if (format === 'fontsize') {\n                                liElement.style.fontSize = value;\n                            }\n                            else {\n                                liElement.style.color = value;\n                                liElement.style.textDecoration = 'inherit';\n                            }\n                        }\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                        if (format === 'fontsize') {\n                            var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n                            if (!isNOU(bg)) {\n                                nodes[index].parentElement.style.backgroundColor = bg.style.backgroundColor;\n                            }\n                        }\n                    }\n                    else {\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                    }\n                }\n            }\n            else {\n                nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            }\n        }\n        else {\n            if (format !== 'uppercase' && format !== 'lowercase') {\n                var element = this.getInsertNode(docElement, range, format, value);\n                nodes[index] = element.firstChild;\n                nodeCutter.position = 1;\n            }\n            else {\n                nodeCutter.position = range.startOffset;\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.applyStyles = function (nodes, index, element) {\n        if (!(nodes[index].nodeName === 'BR' && this.enterAction === 'BR')) {\n            nodes[index] = (index === (nodes.length - 1)) || nodes[index].nodeName === 'BR' ?\n                InsertMethods.Wrap(nodes[index], element)\n                : InsertMethods.WrapBefore(nodes[index], element, true);\n            nodes[index] = this.getChildNode(nodes[index], element);\n        }\n        return nodes[index];\n    };\n    SelectionCommands.getInsertNode = function (docElement, range, format, value) {\n        var element = this.GetFormatNode(format, value);\n        element.innerHTML = '&#8203;';\n        if (Browser.isIE) {\n            var frag = docElement.createDocumentFragment();\n            frag.appendChild(element);\n            range.insertNode(frag);\n        }\n        else {\n            range.insertNode(element);\n        }\n        return element;\n    };\n    SelectionCommands.getChildNode = function (node, element) {\n        if (node === undefined || node === null) {\n            element.innerHTML = '&#8203;';\n            node = element.firstChild;\n        }\n        return node;\n    };\n    SelectionCommands.applySelection = function (nodes, domSelection, nodeCutter, index, isCollapsed) {\n        if (nodes.length === 1 && !isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = 0;\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        else if (nodes.length === 1 && isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = nodeCutter.position;\n            domSelection.endOffset = nodeCutter.position;\n        }\n        else if (index === 0) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.startOffset = 0;\n        }\n        else if (index === nodes.length - 1) {\n            domSelection.endContainer = domSelection.getNodeArray(nodes[index], false);\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        return domSelection;\n    };\n    SelectionCommands.GetFormatNode = function (format, value, tagName, styles) {\n        var node;\n        switch (format) {\n            case 'bold':\n                return document.createElement('strong');\n            case 'italic':\n                return document.createElement('em');\n            case 'underline':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'underline';\n                return node;\n            case 'strikethrough':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'line-through';\n                return node;\n            case 'superscript':\n                return document.createElement('sup');\n            case 'subscript':\n                return document.createElement('sub');\n            case 'fontcolor':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.color = value;\n                node.style.textDecoration = 'inherit';\n                return node;\n            case 'fontname':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontFamily = value;\n                return node;\n            case 'fontsize':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontSize = value;\n                return node;\n            default:\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.backgroundColor = value;\n                return node;\n        }\n    };\n    SelectionCommands.updateStyles = function (ele, tag, styles) {\n        if (styles !== null && tag === 'SPAN') {\n            ele.setAttribute('style', styles);\n        }\n    };\n    SelectionCommands.enterAction = 'P';\n    return SelectionCommands;\n}());\nexport { SelectionCommands };\n","import * as CONSTANT from './../base/constant';\nimport { SelectionCommands } from './selection-commands';\nimport * as EVENTS from './../../common/constant';\n/**\n * Selection EXEC internal component\n *\n * @hidden\n\n */\nvar SelectionBasedExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function SelectionBasedExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    SelectionBasedExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.SELECTION_TYPE, this.applySelection, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n    };\n    SelectionBasedExec.prototype.keyDownHandler = function (e) {\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase'];\n        if (e.event.ctrlKey && validFormats.indexOf(e.event.action) > -1) {\n            e.event.preventDefault();\n            SelectionCommands.applyFormat(this.parent.currentDocument, e.event.action, this.parent.editableElement, e.enterAction);\n            this.callBack(e, e.event.action);\n        }\n    };\n    SelectionBasedExec.prototype.applySelection = function (e) {\n        SelectionCommands.applyFormat(this.parent.currentDocument, e.subCommand.toLocaleLowerCase(), this.parent.editableElement, e.enterAction, e.value, e.selector);\n        this.callBack(e, e.subCommand);\n    };\n    SelectionBasedExec.prototype.callBack = function (event, action) {\n        if (event.callBack) {\n            event.callBack({\n                requestType: action,\n                event: event.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return SelectionBasedExec;\n}());\nexport { SelectionBasedExec };\n","import * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Selection EXEC internal component\n *\n * @hidden\n\n */\nvar InsertHtmlExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - sepcifies the parent element\n     * @hidden\n\n     */\n    function InsertHtmlExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertHtmlExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERTHTML_TYPE, this.applyHtml, this);\n    };\n    InsertHtmlExec.prototype.applyHtml = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.value, this.parent.editableElement, true);\n        if (e.subCommand === 'pasteCleanup') {\n            var pastedElements = this.parent.editableElement.querySelectorAll('.pasteContent_RTE');\n            var allPastedElements = [].slice.call(pastedElements);\n            var imgElements = this.parent.editableElement.querySelectorAll('.pasteContent_Img');\n            var allImgElm = [].slice.call(imgElements);\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                elements: allPastedElements,\n                imgElem: allImgElm\n            });\n        }\n        else {\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return InsertHtmlExec;\n}());\nexport { InsertHtmlExec };\n","/**\n * `Clear Format` module is used to handle Clear Format.\n */\nimport { closest } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { DOMNode } from './dom-node';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nvar ClearFormat = /** @class */ (function () {\n    function ClearFormat() {\n    }\n    /**\n     * clear method\n     *\n     * @param {Document} docElement - specifies the document element.\n     * @param {Node} endNode - specifies the end node\n     * @param {string} enterAction - specifies the enter key action\n     * @param {string} selector - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    ClearFormat.clear = function (docElement, endNode, enterAction, selector) {\n        this.domNode = new DOMNode(endNode, docElement);\n        this.defaultTag = enterAction === 'P' ? this.defaultTag : 'div';\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        var isCollapsed = range.collapsed;\n        var nodes = nodeSelection.getInsertNodeCollection(range);\n        var save = nodeSelection.save(range, docElement);\n        if (!isCollapsed) {\n            var preNode = void 0;\n            if (nodes[0].nodeName === 'BR' && closest(nodes[0], 'table')) {\n                preNode = nodeCutter.GetSpliceNode(range, closest(nodes[0], 'table'));\n            }\n            else {\n                preNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length > 1 && nodes[0].nodeName === 'IMG' ? 1 : 0]);\n            }\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var i = 1;\n                var lastText = nodes[nodes.length - i];\n                while (nodes.length <= i && nodes[nodes.length - i].nodeName === 'BR') {\n                    i++;\n                    lastText = nodes[nodes.length - i];\n                }\n                var lasNode = nodeCutter.GetSpliceNode(range, lastText);\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            var exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneSelectNodes = exactNodes.slice();\n            this.clearInlines(nodeSelection.getSelectionNodes(cloneSelectNodes), cloneSelectNodes, nodeSelection.getRange(docElement), nodeCutter, endNode);\n            this.reSelection(docElement, save, exactNodes);\n            range = nodeSelection.getRange(docElement);\n            exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneParentNodes = exactNodes.slice();\n            this.clearBlocks(docElement, cloneParentNodes, endNode, nodeCutter, nodeSelection);\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            this.reSelection(docElement, save, exactNodes);\n        }\n    };\n    ClearFormat.reSelection = function (docElement, save, exactNodes) {\n        var selectionNodes = save.getInsertNodes(exactNodes);\n        save.startContainer = save.getNodeArray(selectionNodes[0], true, docElement);\n        save.startOffset = 0;\n        save.endContainer = save.getNodeArray(selectionNodes[selectionNodes.length - 1], false, docElement);\n        var endIndexNode = selectionNodes[selectionNodes.length - 1];\n        save.endOffset = (endIndexNode.nodeType === 3) ? endIndexNode.textContent.length\n            : endIndexNode.childNodes.length;\n        save.restore();\n    };\n    ClearFormat.clearBlocks = function (docElement, nodes, endNode, nodeCutter, nodeSelection) {\n        var parentNodes = [];\n        for (var index = 0; index < nodes.length; index++) {\n            if (this.BLOCK_TAGS.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1\n                && parentNodes.indexOf(nodes[index]) === -1) {\n                parentNodes.push(nodes[index]);\n            }\n            else if ((this.BLOCK_TAGS.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1)\n                && parentNodes.indexOf(nodes[index].parentNode) === -1\n                && endNode !== nodes[index].parentNode) {\n                parentNodes.push(nodes[index].parentNode);\n            }\n        }\n        parentNodes = this.spliceParent(parentNodes, nodes)[0];\n        parentNodes = this.removeParent(parentNodes);\n        this.unWrap(docElement, parentNodes, nodeCutter, nodeSelection);\n    };\n    ClearFormat.spliceParent = function (parentNodes, nodes) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            var len = parentNodes[index1].childNodes.length;\n            for (var index2 = 0; index2 < len; index2++) {\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) > 0)\n                    && (parentNodes[index1].childNodes[index2].childNodes.length > 0)) {\n                    nodes = this.spliceParent([parentNodes[index1].childNodes[index2]], nodes)[1];\n                }\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) <= -1) &&\n                    (parentNodes[index1].childNodes[index2].textContent.trim() !== '')) {\n                    for (var index3 = 0; index3 < len; index3++) {\n                        if (nodes.indexOf(parentNodes[index1].childNodes[index3]) > -1) {\n                            nodes.splice(nodes.indexOf(parentNodes[index1].childNodes[index3]), 1);\n                        }\n                    }\n                    index2 = parentNodes[index1].childNodes.length;\n                    var parentIndex = parentNodes.indexOf(parentNodes[index1].parentNode);\n                    var nodeIndex = nodes.indexOf(parentNodes[index1].parentNode);\n                    if (parentIndex > -1) {\n                        parentNodes.splice(parentIndex, 1);\n                    }\n                    if (nodeIndex > -1) {\n                        nodes.splice(nodeIndex, 1);\n                    }\n                    var elementIndex = nodes.indexOf(parentNodes[index1]);\n                    if (elementIndex > -1) {\n                        nodes.splice(elementIndex, 1);\n                    }\n                    parentNodes.splice(index1, 1);\n                    index1--;\n                }\n            }\n        }\n        return [parentNodes, nodes];\n    };\n    ClearFormat.removeChild = function (parentNodes, parentNode) {\n        var count = parentNode.childNodes.length;\n        if (count > 0) {\n            for (var index = 0; index < count; index++) {\n                if (parentNodes.indexOf(parentNode.childNodes[index]) > -1) {\n                    parentNodes = this.removeChild(parentNodes, parentNode.childNodes[index]);\n                    parentNodes.splice(parentNodes.indexOf(parentNode.childNodes[index]), 1);\n                }\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.removeParent = function (parentNodes) {\n        for (var index = 0; index < parentNodes.length; index++) {\n            if (parentNodes.indexOf(parentNodes[index].parentNode) > -1) {\n                parentNodes = this.removeChild(parentNodes, parentNodes[index]);\n                parentNodes.splice(index, 1);\n                index--;\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.unWrap = function (docElement, parentNodes, nodeCutter, nodeSelection) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            if (this.NONVALID_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) > -1\n                && parentNodes[index1].parentNode\n                && this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].parentNode.nodeName.toLowerCase()) > -1) {\n                nodeSelection.setSelectionText(docElement, parentNodes[index1], parentNodes[index1], 0, parentNodes[index1].childNodes.length);\n                InsertMethods.unwrap(nodeCutter.GetSpliceNode(nodeSelection.getRange(docElement), parentNodes[index1].parentNode));\n            }\n            if (parentNodes[index1].nodeName.toLocaleLowerCase() !== 'p') {\n                if (this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) < 0\n                    && parentNodes[index1].parentNode.nodeName.toLocaleLowerCase() !== 'p'\n                    && !((parentNodes[index1].nodeName.toLocaleLowerCase() === 'blockquote'\n                        || parentNodes[index1].nodeName.toLocaleLowerCase() === 'li')\n                        && this.IGNORE_PARENT_TAGS.indexOf(parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase()) > -1)\n                    && !(parentNodes[index1].childNodes.length === 1\n                        && parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase() === 'p')) {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                }\n                var childNodes = InsertMethods.unwrap(parentNodes[index1]);\n                if (childNodes.length === 1\n                    && childNodes[0].parentNode.nodeName.toLocaleLowerCase() === 'p') {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                    InsertMethods.unwrap(parentNodes[index1]);\n                }\n                for (var index2 = 0; index2 < childNodes.length; index2++) {\n                    if (this.NONVALID_TAGS.indexOf(childNodes[index2].nodeName.toLowerCase()) > -1) {\n                        this.unWrap(docElement, [childNodes[index2]], nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() !== 'p') {\n                        var blockNodes = this.removeParent([childNodes[index2]]);\n                        this.unWrap(docElement, blockNodes, nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].parentNode.nodeName.toLocaleLowerCase() === childNodes[index2].nodeName.toLocaleLowerCase()) {\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() === 'p') {\n                        InsertMethods.Wrap(childNodes[index2], docElement.createElement(this.defaultTag));\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                }\n            }\n            else {\n                InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                InsertMethods.unwrap(parentNodes[index1]);\n            }\n        }\n    };\n    ClearFormat.clearInlines = function (textNodes, nodes, range, nodeCutter, \n    // eslint-disable-next-line\n    endNode) {\n        for (var index = 0; index < textNodes.length; index++) {\n            var currentInlineNode = textNodes[index];\n            var currentNode = void 0;\n            while (!this.domNode.isBlockNode(currentInlineNode) &&\n                (currentInlineNode.parentElement && !currentInlineNode.parentElement.classList.contains('e-img-inner'))) {\n                currentNode = currentInlineNode;\n                currentInlineNode = currentInlineNode.parentElement;\n            }\n            if (currentNode &&\n                IsFormatted.inlineTags.indexOf(currentNode.nodeName.toLocaleLowerCase()) > -1) {\n                nodeCutter.GetSpliceNode(range, currentNode);\n                this.removeInlineParent(currentNode);\n            }\n        }\n    };\n    ClearFormat.removeInlineParent = function (textNodes) {\n        var nodes = InsertMethods.unwrap(textNodes);\n        for (var index = 0; index < nodes.length; index++) {\n            if (nodes[index].parentNode.childNodes.length === 1 && !nodes[index].parentNode.classList.contains('e-img-inner')\n                && IsFormatted.inlineTags.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index].parentNode);\n            }\n            else if (IsFormatted.inlineTags.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index]);\n            }\n        }\n    };\n    ClearFormat.BLOCK_TAGS = ['address', 'article', 'aside', 'blockquote',\n        'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n        'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'li', 'main', 'nav',\n        'noscript', 'ol', 'p', 'pre', 'section', 'ul'];\n    ClearFormat.NONVALID_PARENT_TAGS = ['thead', 'tbody', 'ul', 'ol', 'table', 'tfoot', 'tr'];\n    ClearFormat.IGNORE_PARENT_TAGS = ['ul', 'ol', 'table'];\n    ClearFormat.NONVALID_TAGS = ['thead', 'tbody', 'figcaption', 'td', 'tr', 'th', 'tfoot', 'figcaption', 'li'];\n    ClearFormat.defaultTag = 'p';\n    return ClearFormat;\n}());\nexport { ClearFormat };\n","import * as CONSTANT from './../base/constant';\nimport { ClearFormat } from './clearformat';\nimport * as EVENTS from './../../common/constant';\n/**\n * Clear Format EXEC internal component\n *\n * @hidden\n\n */\nvar ClearFormatExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function ClearFormatExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ClearFormatExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.CLEAR_TYPE, this.applyClear, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    ClearFormatExec.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'clear-format':\n                this.applyClear({ subCommand: 'ClearFormat', callBack: e.callBack, enterAction: e.enterAction });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    ClearFormatExec.prototype.applyClear = function (e) {\n        if (e.subCommand === 'ClearFormat') {\n            ClearFormat.clear(this.parent.currentDocument, this.parent.editableElement, e.enterAction, e.selector);\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    event: e.event,\n                    editorMode: 'HTML',\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return ClearFormatExec;\n}());\nexport { ClearFormatExec };\n","import { debounce, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/selection';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * `Undo` module is used to handle undo actions.\n */\nvar UndoRedoManager = /** @class */ (function () {\n    function UndoRedoManager(parent, options) {\n        this.undoRedoStack = [];\n        this.parent = parent;\n        this.undoRedoSteps = !isNullOrUndefined(options) ? options.undoRedoSteps : 30;\n        this.undoRedoTimer = !isNullOrUndefined(options) ? options.undoRedoTimer : 300;\n        this.addEventListener();\n    }\n    UndoRedoManager.prototype.addEventListener = function () {\n        var debounceListener = debounce(this.keyUp, this.undoRedoTimer);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, debounceListener, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDown, this);\n        this.parent.observer.on(EVENTS.ACTION, this.onAction, this);\n        this.parent.observer.on(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged, this);\n    };\n    UndoRedoManager.prototype.onPropertyChanged = function (props) {\n        for (var _i = 0, _a = Object.keys(props.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'undoRedoSteps':\n                    this.undoRedoSteps = props.newProp.undoRedoSteps;\n                    break;\n                case 'undoRedoTimer':\n                    this.undoRedoTimer = props.newProp.undoRedoTimer;\n                    break;\n            }\n        }\n    };\n    UndoRedoManager.prototype.removeEventListener = function () {\n        this.parent.observer.off(EVENTS.KEY_UP_HANDLER, this.keyUp);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.keyDown);\n        this.parent.observer.off(EVENTS.ACTION, this.onAction);\n    };\n    /**\n     * onAction method\n     *\n     * @param {IHtmlSubCommands} e - specifies the sub command\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.onAction = function (e) {\n        if (e.subCommand === 'Undo') {\n            this.undo(e);\n        }\n        else {\n            this.redo(e);\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    UndoRedoManager.prototype.keyDown = function (e) {\n        var event = e.event;\n        // eslint-disable-next-line\n        var proxy = this;\n        switch (event.action) {\n            case 'undo':\n                event.preventDefault();\n                proxy.undo(e);\n                break;\n            case 'redo':\n                event.preventDefault();\n                proxy.redo(e);\n                break;\n        }\n    };\n    UndoRedoManager.prototype.keyUp = function (e) {\n        if (e.event.keyCode !== 17 && !e.event.ctrlKey) {\n            this.saveData(e);\n        }\n    };\n    /**\n     * RTE collection stored html format.\n     *\n     * @function saveData\n     * @param {KeyboardEvent} e - specifies the keyboard event\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.saveData = function (e) {\n        var range = new NodeSelection().getRange(this.parent.currentDocument);\n        var currentContainer = this.parent.editableElement === range.startContainer.parentElement ? range.startContainer.parentElement : range.startContainer;\n        for (var i = currentContainer.childNodes.length - 1; i >= 0; i--) {\n            if (!isNullOrUndefined(currentContainer.childNodes[i]) && currentContainer.childNodes[i].nodeName === '#text' &&\n                currentContainer.childNodes[i].textContent.length === 0 && currentContainer.childNodes[i].nodeName !== 'IMG' &&\n                currentContainer.childNodes[i].nodeName !== 'BR' && currentContainer.childNodes[i].nodeName && 'HR') {\n                detach(currentContainer.childNodes[i]);\n            }\n        }\n        range = new NodeSelection().getRange(this.parent.currentDocument);\n        var save = new NodeSelection().save(range, this.parent.currentDocument);\n        var htmlText = this.parent.editableElement.innerHTML;\n        var changEle = { text: htmlText, range: save };\n        if (this.undoRedoStack.length >= this.steps) {\n            this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1);\n        }\n        if (this.undoRedoStack.length > 1 && (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.collapsed === range.collapsed)\n            && (this.undoRedoStack[this.undoRedoStack.length - 1].range.startOffset === save.range.startOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.endOffset === save.range.endOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.startContainer === save.range.startContainer) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].text.trim() === changEle.text.trim())) {\n            return;\n        }\n        this.undoRedoStack.push(changEle);\n        this.steps = this.undoRedoStack.length - 1;\n        if (this.steps > this.undoRedoSteps) {\n            this.undoRedoStack.shift();\n            this.steps--;\n        }\n        if (e && e.callBack) {\n            e.callBack();\n        }\n    };\n    /**\n     * Undo the editable text.\n     *\n     * @function undo\n     * @param {IHtmlSubCommands} e - specifies the sub commands\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.undo = function (e) {\n        if (this.steps > 0) {\n            var range = this.undoRedoStack[this.steps - 1].range;\n            var removedContent = this.undoRedoStack[this.steps - 1].text;\n            this.parent.editableElement.innerHTML = removedContent;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps--;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Undo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * Redo the editable text.\n     *\n     * @param {IHtmlSubCommands} e - specifies the sub commands\n     * @function redo\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.redo = function (e) {\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            var range = this.undoRedoStack[this.steps + 1].range;\n            this.parent.editableElement.innerHTML = this.undoRedoStack[this.steps + 1].text;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps++;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Redo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * getUndoStatus method\n     *\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.getUndoStatus = function () {\n        var status = { undo: false, redo: false };\n        if (this.steps > 0) {\n            status.undo = true;\n        }\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            status.redo = true;\n        }\n        return status;\n    };\n    return UndoRedoManager;\n}());\nexport { UndoRedoManager };\n","import * as EVENTS from '../../common/constant';\nimport { createElement, isNullOrUndefined as isNOU, detach } from '@syncfusion/ej2-base';\n/**\n * PasteCleanup for MsWord content\n *\n * @hidden\n\n */\nvar MsWordPaste = /** @class */ (function () {\n    function MsWordPaste(parent) {\n        this.olData = [\n            'decimal',\n            'lower-alpha',\n            'lower-roman',\n            'upper-alpha',\n            'upper-roman',\n            'lower-greek'\n        ];\n        this.ulData = [\n            'disc',\n            'square',\n            'circle',\n            'disc',\n            'square',\n            'circle'\n        ];\n        this.ignorableNodes = ['A', 'APPLET', 'B', 'BLOCKQUOTE', 'BR',\n            'BUTTON', 'CENTER', 'CODE', 'COL', 'COLGROUP', 'DD', 'DEL', 'DFN', 'DIR', 'DIV',\n            'DL', 'DT', 'EM', 'FIELDSET', 'FONT', 'FORM', 'FRAME', 'FRAMESET', 'H1', 'H2',\n            'H3', 'H4', 'H5', 'H6', 'HR', 'I', 'IMG', 'IFRAME', 'INPUT', 'INS', 'LABEL',\n            'LI', 'OL', 'OPTION', 'P', 'PARAM', 'PRE', 'Q', 'S', 'SELECT', 'SPAN', 'STRIKE',\n            'STRONG', 'SUB', 'SUP', 'TABLE', 'TBODY', 'TD', 'TEXTAREA', 'TFOOT', 'TH',\n            'THEAD', 'TITLE', 'TR', 'TT', 'U', 'UL'];\n        this.blockNode = ['div', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'address', 'blockquote', 'button', 'center', 'dd', 'dir', 'dl', 'dt', 'fieldset',\n            'frameset', 'hr', 'iframe', 'isindex', 'li', 'map', 'menu', 'noframes', 'noscript',\n            'object', 'ol', 'pre', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul',\n            'header', 'article', 'nav', 'footer', 'section', 'aside', 'main', 'figure', 'figcaption'];\n        this.borderStyle = ['border-top', 'border-right', 'border-bottom', 'border-left'];\n        this.removableElements = ['o:p', 'style'];\n        this.listContents = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    MsWordPaste.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.MS_WORD_CLEANUP_PLUGIN, this.wordCleanup, this);\n    };\n    MsWordPaste.prototype.wordCleanup = function (e) {\n        var wordPasteStyleConfig = !isNOU(e.allowedStylePropertiesArray) ? e.allowedStylePropertiesArray : [];\n        var listNodes = [];\n        var tempHTMLContent = e.args.clipboardData.getData('text/HTML');\n        var rtfData = e.args.clipboardData.getData('text/rtf');\n        var elm = createElement('p');\n        elm.setAttribute('id', 'MSWord-Content');\n        elm.innerHTML = tempHTMLContent;\n        var patern = /class='?Mso|style='[^ ]*\\bmso-/i;\n        var patern2 = /class=\"?Mso|style=\"[^ ]*\\bmso-/i;\n        var patern3 = /(class=\"?Mso|class='?Mso|class=\"?Xl|class='?Xl|class=Xl|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument)/gi;\n        var pattern4 = /style='mso-width-source:/i;\n        if (patern.test(tempHTMLContent) || patern2.test(tempHTMLContent) || patern3.test(tempHTMLContent) ||\n            pattern4.test(tempHTMLContent)) {\n            this.imageConversion(elm, rtfData);\n            tempHTMLContent = tempHTMLContent.replace(/<img[^>]+>/i, '');\n            this.addListClass(elm);\n            listNodes = this.cleanUp(elm, listNodes);\n            if (!isNOU(listNodes[0]) && listNodes[0].parentElement.tagName !== 'UL' &&\n                listNodes[0].parentElement.tagName !== 'OL') {\n                this.listConverter(listNodes);\n            }\n            this.styleCorrection(elm, wordPasteStyleConfig);\n            this.removingComments(elm);\n            this.removeUnwantedElements(elm);\n            this.removeEmptyElements(elm);\n            this.breakLineAddition(elm);\n            this.removeClassName(elm);\n            if (pattern4.test(tempHTMLContent)) {\n                this.addTableBorderClass(elm);\n            }\n            e.callBack(elm.innerHTML);\n        }\n        else {\n            e.callBack(elm.innerHTML);\n        }\n    };\n    MsWordPaste.prototype.addListClass = function (elm) {\n        var allNodes = elm.querySelectorAll('*');\n        for (var index = 0; index < allNodes.length; index++) {\n            if (!isNOU(allNodes[index].getAttribute('style')) && allNodes[index].getAttribute('style').replace(/ /g, '').replace('\\n', '').indexOf('mso-list:l') >= 0 &&\n                allNodes[index].className.toLowerCase().indexOf('msolistparagraph') === -1 && allNodes[index].tagName.charAt(0) !== 'H') {\n                allNodes[index].classList.add('msolistparagraph');\n            }\n        }\n    };\n    MsWordPaste.prototype.addTableBorderClass = function (elm) {\n        var allTableElm = elm.querySelectorAll('table');\n        var hasTableBorder = false;\n        for (var i = 0; i < allTableElm.length; i++) {\n            for (var j = 0; j < this.borderStyle.length; j++) {\n                if (allTableElm[i].innerHTML.indexOf(this.borderStyle[j]) >= 0) {\n                    hasTableBorder = true;\n                    break;\n                }\n            }\n            if (hasTableBorder) {\n                allTableElm[i].classList.add('e-rte-table-border');\n                hasTableBorder = false;\n            }\n        }\n    };\n    MsWordPaste.prototype.imageConversion = function (elm, rtfData) {\n        this.checkVShape(elm);\n        var imgElem = elm.querySelectorAll('img');\n        for (var i = 0; i < imgElem.length; i++) {\n            if (!isNOU(imgElem[i].getAttribute('v:shapes')) && imgElem[i].getAttribute('v:shapes').indexOf('Picture') < 0 && imgElem[i].getAttribute('v:shapes').indexOf('Image') < 0) {\n                detach(imgElem[i]);\n            }\n        }\n        imgElem = elm.querySelectorAll('img');\n        var imgSrc = [];\n        var base64Src = [];\n        var imgName = [];\n        // eslint-disable-next-line\n        var linkRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (imgElem.length > 0) {\n            for (var i = 0; i < imgElem.length; i++) {\n                imgSrc.push(imgElem[i].getAttribute('src'));\n                imgName.push(imgElem[i].getAttribute('src').split('/')[imgElem[i].getAttribute('src').split('/').length - 1].split('.')[0]);\n            }\n            var hexValue = this.hexConversion(rtfData);\n            for (var i = 0; i < hexValue.length; i++) {\n                base64Src.push(this.convertToBase64(hexValue[i]));\n            }\n            for (var i = 0; i < imgElem.length; i++) {\n                if (imgSrc[i].match(linkRegex)) {\n                    imgElem[i].setAttribute('src', imgSrc[i]);\n                }\n                else {\n                    imgElem[i].setAttribute('src', base64Src[i]);\n                }\n                imgElem[i].setAttribute('id', 'msWordImg-' + imgName[i]);\n            }\n        }\n    };\n    MsWordPaste.prototype.checkVShape = function (elm) {\n        var allNodes = elm.querySelectorAll('*');\n        for (var i = 0; i < allNodes.length; i++) {\n            switch (allNodes[i].nodeName) {\n                case 'V:SHAPETYPE':\n                    detach(allNodes[i]);\n                    break;\n                case 'V:SHAPE':\n                    if (allNodes[i].firstElementChild.nodeName === 'V:IMAGEDATA') {\n                        var src = allNodes[i].firstElementChild.getAttribute('src');\n                        var imgElement = createElement('img');\n                        imgElement.setAttribute('src', src);\n                        allNodes[i].parentElement.insertBefore(imgElement, allNodes[i]);\n                        detach(allNodes[i]);\n                    }\n                    break;\n            }\n        }\n    };\n    MsWordPaste.prototype.convertToBase64 = function (hexValue) {\n        var byteArr = this.conHexStringToBytes(hexValue.hex);\n        var base64String = this.conBytesToBase64(byteArr);\n        var base64 = hexValue.type ? 'data:' + hexValue.type + ';base64,' + base64String : null;\n        return base64;\n    };\n    MsWordPaste.prototype.conBytesToBase64 = function (byteArr) {\n        var base64Str = '';\n        var base64Char = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n        var byteArrLen = byteArr.length;\n        for (var i = 0; i < byteArrLen; i += 3) {\n            var array3 = byteArr.slice(i, i + 3);\n            var array3length = array3.length;\n            var array4 = [];\n            if (array3length < 3) {\n                for (var j = array3length; j < 3; j++) {\n                    array3[j] = 0;\n                }\n            }\n            array4[0] = (array3[0] & 0xFC) >> 2;\n            array4[1] = ((array3[0] & 0x03) << 4) | (array3[1] >> 4);\n            array4[2] = ((array3[1] & 0x0F) << 2) | ((array3[2] & 0xC0) >> 6);\n            array4[3] = array3[2] & 0x3F;\n            for (var j = 0; j < 4; j++) {\n                if (j <= array3length) {\n                    base64Str += base64Char.charAt(array4[j]);\n                }\n                else {\n                    base64Str += '=';\n                }\n            }\n        }\n        return base64Str;\n    };\n    MsWordPaste.prototype.conHexStringToBytes = function (hex) {\n        var byteArr = [];\n        var byteArrLen = hex.length / 2;\n        for (var i = 0; i < byteArrLen; i++) {\n            byteArr.push(parseInt(hex.substr(i * 2, 2), 16));\n        }\n        return byteArr;\n    };\n    MsWordPaste.prototype.hexConversion = function (rtfData) {\n        // eslint-disable-next-line\n        var picHead = /\\{\\\\pict[\\s\\S]+?\\\\bliptag\\-?\\d+(\\\\blipupi\\-?\\d+)?(\\{\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s\\}]*?/;\n        var pic = new RegExp('(?:(' + picHead.source + '))([\\\\da-fA-F\\\\s]+)\\\\}', 'g');\n        var fullImg = rtfData.match(pic);\n        var imgType;\n        var result = [];\n        if (!isNOU(fullImg)) {\n            for (var i = 0; i < fullImg.length; i++) {\n                if (picHead.test(fullImg[i])) {\n                    if (fullImg[i].indexOf('\\\\pngblip') !== -1) {\n                        imgType = 'image/png';\n                    }\n                    else if (fullImg[i].indexOf('\\\\jpegblip') !== -1) {\n                        imgType = 'image/jpeg';\n                    }\n                    else {\n                        continue;\n                    }\n                    result.push({\n                        hex: imgType ? fullImg[i].replace(picHead, '').replace(/[^\\da-fA-F]/g, '') : null,\n                        type: imgType\n                    });\n                }\n            }\n        }\n        return result;\n    };\n    MsWordPaste.prototype.removeClassName = function (elm) {\n        var elmWithClass = elm.querySelectorAll('*[class]');\n        for (var i = 0; i < elmWithClass.length; i++) {\n            elmWithClass[i].removeAttribute('class');\n        }\n    };\n    MsWordPaste.prototype.breakLineAddition = function (elm) {\n        var allElements = elm.querySelectorAll('*');\n        for (var i = 0; i < allElements.length; i++) {\n            if (allElements[i].children.length === 0 && allElements[i].innerHTML === '&nbsp;' &&\n                (allElements[i].innerHTML === '&nbsp;' && !allElements[i].closest('li')) &&\n                !allElements[i].closest('td')) {\n                var detachableElement = this.findDetachElem(allElements[i]);\n                var brElement = createElement('br');\n                if (!isNOU(detachableElement.parentElement)) {\n                    detachableElement.parentElement.insertBefore(brElement, detachableElement);\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.findDetachElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement) &&\n            element.parentElement.textContent.trim() === '' && element.parentElement.tagName !== 'TD' &&\n            isNOU(element.parentElement.querySelector('img'))) {\n            removableElement = this.findDetachElem(element.parentElement);\n        }\n        else {\n            removableElement = element;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeUnwantedElements = function (elm) {\n        var innerElement = elm.innerHTML;\n        for (var i = 0; i < this.removableElements.length; i++) {\n            var regExpStartElem = new RegExp('<' + this.removableElements[i] + '>', 'g');\n            var regExpEndElem = new RegExp('</' + this.removableElements[i] + '>', 'g');\n            innerElement = innerElement.replace(regExpStartElem, '');\n            innerElement = innerElement.replace(regExpEndElem, '');\n        }\n        elm.innerHTML = innerElement;\n        elm.querySelectorAll(':empty');\n    };\n    MsWordPaste.prototype.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' &&\n                element.parentElement.getAttribute('id') !== 'MSWord-Content' &&\n                isNOU(element.parentElement.querySelector('img'))) {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (!isNOU(emptyElements[i].closest('td')) &&\n                !isNOU(emptyElements[i].closest('td').querySelector('.MsoNormal'))) {\n                emptyElements[i].innerHTML = '-';\n            }\n            if (emptyElements[i].tagName !== 'IMG' && emptyElements[i].tagName !== 'BR' &&\n                emptyElements[i].tagName !== 'IFRAME' && emptyElements[i].tagName !== 'TD' &&\n                emptyElements[i].tagName !== 'HR') {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.styleCorrection = function (elm, wordPasteStyleConfig) {\n        var styleElement = elm.querySelectorAll('style');\n        if (styleElement.length > 0) {\n            var styles = styleElement[0].innerHTML.match(/[\\S ]+\\s+{[\\s\\S]+?}/gi);\n            var styleClassObject_1 = !isNOU(styles) ? this.findStyleObject(styles) : null;\n            var keys = Object.keys(styleClassObject_1);\n            var values = keys.map(function (key) {\n                return styleClassObject_1[key];\n            });\n            values = this.removeUnwantedStyle(values, wordPasteStyleConfig);\n            this.filterStyles(elm, wordPasteStyleConfig);\n            var resultElem = void 0;\n            var fromClass = false;\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i].split('.')[0] === '') {\n                    resultElem = elm.getElementsByClassName(keys[i].split('.')[1]);\n                    fromClass = true;\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') >= 0) {\n                    continue;\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') < 0) {\n                    resultElem = elm.getElementsByTagName(keys[i]);\n                }\n                else {\n                    resultElem = elm.querySelectorAll(keys[i]);\n                }\n                for (var j = 0; j < resultElem.length; j++) {\n                    var styleProperty = resultElem[j].getAttribute('style');\n                    if (!isNOU(styleProperty) && styleProperty.trim() !== '') {\n                        var valueSplit = values[i].split(';');\n                        if (!fromClass) {\n                            for (var k = 0; k < valueSplit.length; k++) {\n                                if (styleProperty.indexOf(valueSplit[k].split(':')[0]) >= 0) {\n                                    valueSplit.splice(k, 1);\n                                    k--;\n                                }\n                            }\n                        }\n                        values[i] = valueSplit.join(';') + ';';\n                        var changedValue = styleProperty + values[i];\n                        resultElem[j].setAttribute('style', changedValue);\n                    }\n                    else {\n                        values[i] = values[i].replace(/text-indent:-(.*?)(?=;|$)/gm, '');\n                        resultElem[j].setAttribute('style', values[i]);\n                    }\n                }\n                fromClass = false;\n            }\n        }\n    };\n    MsWordPaste.prototype.filterStyles = function (elm, wordPasteStyleConfig) {\n        var elmWithStyles = elm.querySelectorAll('*[style]');\n        for (var i = 0; i < elmWithStyles.length; i++) {\n            var elemStyleProperty = elmWithStyles[i].getAttribute('style').split(';');\n            var styleValue = '';\n            for (var j = 0; j < elemStyleProperty.length; j++) {\n                if (wordPasteStyleConfig.indexOf(elemStyleProperty[j].split(':')[0].trim()) >= 0) {\n                    styleValue += elemStyleProperty[j] + ';';\n                }\n            }\n            elmWithStyles[i].setAttribute('style', styleValue);\n        }\n    };\n    MsWordPaste.prototype.removeUnwantedStyle = function (values, wordPasteStyleConfig) {\n        for (var i = 0; i < values.length; i++) {\n            var styleValues = values[i].split(';');\n            values[i] = '';\n            for (var j = 0; j < styleValues.length; j++) {\n                if (wordPasteStyleConfig.indexOf(styleValues[j].split(':')[0]) >= 0) {\n                    values[i] += styleValues[j] + ';';\n                }\n            }\n        }\n        return values;\n    };\n    MsWordPaste.prototype.findStyleObject = function (styles) {\n        var styleClassObject = {};\n        for (var i = 0; i < styles.length; i++) {\n            var tempStyle = styles[i];\n            var classNameCollection = tempStyle.replace(/([\\S ]+\\s+){[\\s\\S]+?}/gi, '$1');\n            var stylesCollection = tempStyle.replace(/[\\S ]+\\s+{([\\s\\S]+?)}/gi, '$1');\n            classNameCollection = classNameCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            stylesCollection = stylesCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            classNameCollection = classNameCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            stylesCollection = stylesCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            for (var classNames = classNameCollection.split(', '), j = 0; j < classNames.length; j++) {\n                styleClassObject[classNames[j]] = stylesCollection;\n            }\n        }\n        return styleClassObject;\n    };\n    MsWordPaste.prototype.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    MsWordPaste.prototype.cleanUp = function (node, listNodes) {\n        // eslint-disable-next-line\n        var temp = '';\n        var tempCleaner = [];\n        var prevflagState;\n        var allNodes = node.querySelectorAll('*');\n        for (var index = 0; index < allNodes.length; index++) {\n            if (this.ignorableNodes.indexOf(allNodes[index].nodeName) === -1 ||\n                (allNodes[index].nodeType === 3 && allNodes[index].textContent.trim() === '')) {\n                tempCleaner.push(allNodes[index]);\n                continue;\n            }\n            else if (allNodes[index].className &&\n                allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 &&\n                allNodes[index].childElementCount !== 1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0) {\n                if (allNodes[index].className.indexOf('MsoListParagraphCxSpFirst') >= 0 && listNodes.length > 0 &&\n                    listNodes[listNodes.length - 1] !== null) {\n                    listNodes.push(null);\n                }\n                listNodes.push(allNodes[index]);\n            }\n            if (prevflagState && (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) &&\n                !(allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                    allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0)) {\n                listNodes.push(null);\n            }\n            if (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) {\n                if (allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                    allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0) {\n                    prevflagState = true;\n                }\n                else {\n                    prevflagState = false;\n                }\n            }\n        }\n        if (listNodes.length && (listNodes[listNodes.length - 1] !== null)) {\n            listNodes.push(null);\n        }\n        return listNodes;\n    };\n    MsWordPaste.prototype.listConverter = function (listNodes) {\n        var level;\n        var data = [];\n        var collection = [];\n        var content = '';\n        var stNode;\n        var currentListStyle = '';\n        for (var i = 0; i < listNodes.length; i++) {\n            if (listNodes[i] === null) {\n                data.push({ content: this.makeConversion(collection), node: listNodes[i - 1] });\n                collection = [];\n                continue;\n            }\n            if (listNodes[i].getAttribute('style') && listNodes[i].getAttribute('style').indexOf('mso-outline-level') !== -1) {\n                listNodes[i].setAttribute('style', listNodes[i].getAttribute('style').replace('mso-outline-level', 'mso-outline'));\n            }\n            content = listNodes[i].getAttribute('style');\n            if (content && content.indexOf('level') !== -1) {\n                // eslint-disable-next-line\n                level = parseInt(content.charAt(content.indexOf('level') + 5), null);\n            }\n            else {\n                level = 1;\n            }\n            this.listContents = [];\n            this.getListContent(listNodes[i]);\n            var type = void 0;\n            var listStyleType = void 0;\n            if (!isNOU(this.listContents[0])) {\n                type = this.listContents[0].trim().length > 1 ? 'ol' : 'ul';\n                listStyleType = this.getlistStyleType(this.listContents[0], type);\n                var tempNode = [];\n                for (var j = 1; j < this.listContents.length; j++) {\n                    tempNode.push(this.listContents[j]);\n                }\n                var currentClassName = void 0;\n                if (!isNOU(listNodes[i].className)) {\n                    currentClassName = listNodes[i].className;\n                }\n                if (!isNOU(listNodes[i].getAttribute('style'))) {\n                    listNodes[i].setAttribute('style', listNodes[i].getAttribute('style').replace('text-align:start;', ''));\n                    if (listNodes[i].style.textAlign !== '') {\n                        listNodes[i].setAttribute('style', 'text-align:' + listNodes[i].style.textAlign);\n                        currentListStyle = listNodes[i].getAttribute('style');\n                    }\n                }\n                collection.push({ listType: type, content: tempNode, nestedLevel: level, class: currentClassName,\n                    listStyle: currentListStyle, listStyleTypeName: listStyleType });\n            }\n        }\n        stNode = listNodes.shift();\n        while (stNode) {\n            var elemColl = [];\n            for (var temp1 = 0; temp1 < data.length; temp1++) {\n                if (data[temp1].node === stNode) {\n                    for (var index = 0; index < data[temp1].content.childNodes.length; index++) {\n                        elemColl.push(data[temp1].content.childNodes[index]);\n                    }\n                    for (var index = 0; index < elemColl.length; index++) {\n                        stNode.parentElement.insertBefore(elemColl[index], stNode);\n                    }\n                    break;\n                }\n            }\n            stNode.remove();\n            stNode = listNodes.shift();\n            if (!stNode) {\n                stNode = listNodes.shift();\n            }\n        }\n    };\n    MsWordPaste.prototype.getlistStyleType = function (listContent, type) {\n        var currentListClass;\n        if (type === 'ol') {\n            switch (listContent.split('.')[0]) {\n                case \"A\":\n                    currentListClass = \"upper-alpha\";\n                    break;\n                case \"a\":\n                    currentListClass = \"lower-alpha\";\n                    break;\n                case \"I\":\n                    currentListClass = \"upper-roman\";\n                    break;\n                case \"i\":\n                    currentListClass = \"lower-roman\";\n                    break;\n                case \"α\":\n                    currentListClass = \"lower-greek\";\n                    break;\n                default:\n                    currentListClass = \"decimal\";\n                    break;\n            }\n        }\n        else {\n            switch (listContent.split('.')[0]) {\n                case \"o\":\n                    currentListClass = \"circle\";\n                    break;\n                case \"§\":\n                    currentListClass = \"square\";\n                    break;\n                default:\n                    currentListClass = \"disc\";\n                    break;\n            }\n        }\n        return currentListClass;\n    };\n    MsWordPaste.prototype.makeConversion = function (collection) {\n        var root = createElement('div');\n        var temp;\n        var pLevel = 1;\n        var prevList;\n        var listCount = 0;\n        var elem;\n        for (var index = 0; index < collection.length; index++) {\n            var pElement = createElement('p');\n            pElement.innerHTML = collection[index].content.join(' ');\n            if ((collection[index].nestedLevel === 1) && listCount === 0 && collection[index].content) {\n                root.appendChild(temp = createElement(collection[index].listType));\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n                temp.style.listStyleType = collection[index].listStyleTypeName;\n            }\n            else if (collection[index].nestedLevel === pLevel) {\n                if (prevList.parentElement.tagName.toLowerCase() === collection[index].listType) {\n                    prevList.parentElement.appendChild(prevList = createElement('li'));\n                    prevList.appendChild(pElement);\n                }\n                else {\n                    temp = createElement(collection[index].listType);\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                    prevList.parentElement.parentElement.appendChild(temp);\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                }\n            }\n            else if (collection[index].nestedLevel > pLevel) {\n                if (!isNOU(prevList)) {\n                    for (var j = 0; j < collection[index].nestedLevel - pLevel; j++) {\n                        prevList.appendChild(temp = createElement(collection[index].listType));\n                        prevList = createElement('li');\n                        if (j != collection[index].nestedLevel - pLevel - 1 && collection[index].nestedLevel - pLevel > 1) {\n                            prevList.style.listStyleType = \"none\";\n                        }\n                        temp.appendChild(prevList);\n                    }\n                    prevList.appendChild(pElement);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n            }\n            else if (collection[index].nestedLevel === 1) {\n                if (root.lastChild.tagName.toLowerCase() === collection[index].listType) {\n                    temp = root.lastChild;\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n            }\n            else {\n                elem = prevList;\n                while (elem.parentElement) {\n                    elem = elem.parentElement;\n                    if (elem.attributes.getNamedItem('level')) {\n                        // eslint-disable-next-line\n                        if (parseInt(elem.attributes.getNamedItem('level').textContent, null) === collection[index].nestedLevel) {\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            elem.appendChild(prevList);\n                            break;\n                            // eslint-disable-next-line\n                        }\n                        else if (collection[index].nestedLevel > parseInt(elem.attributes.getNamedItem('level').textContent, null)) {\n                            elem.appendChild(temp = createElement(collection[index].listType));\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            temp.appendChild(prevList);\n                            temp.setAttribute('level', collection[index].nestedLevel.toString());\n                            temp.style.listStyleType = collection[index].listStyleTypeName;\n                            break;\n                        }\n                    }\n                    continue;\n                }\n            }\n            prevList.setAttribute('class', collection[index].class);\n            var currentStyle = prevList.getAttribute('style');\n            prevList.setAttribute('style', (!isNOU(currentStyle) ? currentStyle : ''));\n            pLevel = collection[index].nestedLevel;\n            listCount++;\n        }\n        return root;\n    };\n    MsWordPaste.prototype.getListContent = function (elem) {\n        var pushContent = '';\n        var firstChild = elem.firstElementChild;\n        if (firstChild.textContent.trim() === '' && !isNOU(firstChild.firstElementChild) &&\n            firstChild.firstElementChild.nodeName === 'IMG') {\n            pushContent = elem.innerHTML.trim();\n            this.listContents.push('');\n            this.listContents.push(pushContent);\n        }\n        else {\n            var styleNodes = ['b', 'em'];\n            if (firstChild.childNodes.length > 0 && (firstChild.querySelectorAll('b').length > 0\n                || firstChild.querySelectorAll('em').length > 0)) {\n                for (var i = 0; i < firstChild.childNodes.length; i++) {\n                    var nodeName = firstChild.childNodes[i].nodeName.toLowerCase();\n                    if (firstChild.childNodes[i].textContent.trim().length > 1 && styleNodes.indexOf(nodeName) !== -1) {\n                        pushContent = '<' + nodeName + '>' + firstChild.childNodes[i].textContent + '</' + nodeName + '>';\n                        this.listContents.push(pushContent);\n                    }\n                    else if (firstChild.childNodes[i].textContent.trim().length === 1) {\n                        this.listContents.push(firstChild.childNodes[i].textContent.trim());\n                    }\n                }\n            }\n            else {\n                pushContent = firstChild.textContent.trim();\n                this.listContents.push(pushContent);\n            }\n        }\n        detach(firstChild);\n        this.listContents.push(elem.innerHTML);\n    };\n    return MsWordPaste;\n}());\nexport { MsWordPaste };\n","import * as CONSTANT from '../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Insert a Text Node or Text\n *\n * @hidden\n\n */\nvar InsertTextExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the InsertText plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function InsertTextExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertTextExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERT_TEXT_TYPE, this.insertText, this);\n    };\n    InsertTextExec.prototype.insertText = function (e) {\n        var node = document.createTextNode(e.value);\n        InsertHtml.Insert(this.parent.currentDocument, node, this.parent.editableElement);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return InsertTextExec;\n}());\nexport { InsertTextExec };\n","import { Observer } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './constant';\nimport { Lists } from './../plugin/lists';\nimport { NodeSelection } from './../../selection/index';\nimport { DOMNode } from './../plugin/dom-node';\nimport { Formats } from './../plugin/formats';\nimport { LinkCommand } from './../plugin/link';\nimport { Alignments } from './../plugin/alignments';\nimport { Indents } from './../plugin/indents';\nimport { ImageCommand } from './../plugin/image';\nimport { TableCommand } from './../plugin/table';\nimport { SelectionBasedExec } from './../plugin/selection-exec';\nimport { InsertHtmlExec } from './../plugin/inserthtml-exec';\nimport { ClearFormatExec } from './../plugin/clearformat-exec';\nimport { UndoRedoManager } from './../plugin/undo';\nimport { MsWordPaste } from '../plugin/ms-word-clean-up';\nimport * as EVENTS from './../../common/constant';\nimport { InsertTextExec } from '../plugin/insert-text';\nimport { NodeCutter } from '../plugin/nodecutter';\n/**\n * EditorManager internal component\n *\n * @hidden\n\n */\nvar EditorManager = /** @class */ (function () {\n    /**\n     * Constructor for creating the component\n     *\n     * @hidden\n\n     * @param {ICommandModel} options - specifies the command Model\n     */\n    function EditorManager(options) {\n        this.currentDocument = options.document;\n        this.editableElement = options.editableElement;\n        this.nodeSelection = new NodeSelection();\n        this.nodeCutter = new NodeCutter();\n        this.domNode = new DOMNode(this.editableElement, this.currentDocument);\n        this.observer = new Observer(this);\n        this.listObj = new Lists(this);\n        this.formatObj = new Formats(this);\n        this.alignmentObj = new Alignments(this);\n        this.indentsObj = new Indents(this);\n        this.linkObj = new LinkCommand(this);\n        this.imgObj = new ImageCommand(this);\n        this.selectionObj = new SelectionBasedExec(this);\n        this.inserthtmlObj = new InsertHtmlExec(this);\n        this.insertTextObj = new InsertTextExec(this);\n        this.clearObj = new ClearFormatExec(this);\n        this.tableObj = new TableCommand(this);\n        this.undoRedoManager = new UndoRedoManager(this, options.options);\n        this.msWordPaste = new MsWordPaste(this);\n        this.wireEvents();\n    }\n    EditorManager.prototype.wireEvents = function () {\n        this.observer.on(EVENTS.KEY_DOWN, this.editorKeyDown, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.MODEL_CHANGED, this.onPropertyChanged, this);\n        this.observer.on(EVENTS.MS_WORD_CLEANUP, this.onWordPaste, this);\n        this.observer.on(EVENTS.ON_BEGIN, this.onBegin, this);\n    };\n    EditorManager.prototype.onWordPaste = function (e) {\n        this.observer.notify(EVENTS.MS_WORD_CLEANUP_PLUGIN, e);\n    };\n    EditorManager.prototype.onPropertyChanged = function (props) {\n        this.observer.notify(EVENTS.MODEL_CHANGED_PLUGIN, props);\n    };\n    EditorManager.prototype.editorKeyDown = function (e) {\n        this.observer.notify(EVENTS.KEY_DOWN_HANDLER, e);\n    };\n    EditorManager.prototype.editorKeyUp = function (e) {\n        this.observer.notify(EVENTS.KEY_UP_HANDLER, e);\n    };\n    EditorManager.prototype.onBegin = function (e) {\n        this.observer.notify(EVENTS.SPACE_ACTION, e);\n    };\n    /* eslint-disable */\n    /**\n     * execCommand\n     *\n     * @param {ExecCommand} command - specifies the execution command\n     * @param {T} value - specifes the value.\n     * @param {Event} event - specifies the call back event\n     * @param {Function} callBack - specifies the function\n     * @param {string} text - specifies the string value\n     * @param {T} exeValue - specifies the values to be executed\n     * @param {string} selector - specifies the selector values\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    EditorManager.prototype.execCommand = function (command, value, event, callBack, text, exeValue, selector, enterAction) {\n        switch (command.toLowerCase()) {\n            case 'lists':\n                this.observer.notify(EVENTS.LIST_TYPE, { subCommand: value, event: event, callBack: callBack,\n                    selector: selector, item: exeValue, enterAction: enterAction });\n                break;\n            case 'formats':\n                this.observer.notify(EVENTS.FORMAT_TYPE, { subCommand: value, event: event, callBack: callBack,\n                    selector: selector, exeValue: exeValue, enterAction: enterAction\n                });\n                break;\n            case 'alignments':\n                this.observer.notify(CONSTANT.ALIGNMENT_TYPE, {\n                    subCommand: value, event: event, callBack: callBack,\n                    selector: selector,\n                    value: exeValue\n                });\n                break;\n            case 'indents':\n                this.observer.notify(CONSTANT.INDENT_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n            case 'links':\n                this.observer.notify(CONSTANT.LINK, { command: command, value: value, item: exeValue, event: event, callBack: callBack });\n                break;\n            case 'files':\n                this.observer.notify(CONSTANT.IMAGE, {\n                    command: command, value: 'Image', item: exeValue, event: event, callBack: callBack, selector: selector\n                });\n                break;\n            case 'images':\n                this.observer.notify(CONSTANT.IMAGE, {\n                    command: command, value: value, item: exeValue, event: event, callBack: callBack, selector: selector\n                });\n                break;\n            case 'table':\n                switch (value.toString().toLocaleLowerCase()) {\n                    case 'createtable':\n                        this.observer.notify(CONSTANT.TABLE, { item: exeValue, event: event, callBack: callBack, enterAction: enterAction });\n                        break;\n                    case 'insertrowbefore':\n                    case 'insertrowafter':\n                        this.observer.notify(CONSTANT.INSERT_ROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'insertcolumnleft':\n                    case 'insertcolumnright':\n                        this.observer.notify(CONSTANT.INSERT_COLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deleterow':\n                        this.observer.notify(CONSTANT.DELETEROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deletecolumn':\n                        this.observer.notify(CONSTANT.DELETECOLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableremove':\n                        this.observer.notify(CONSTANT.REMOVETABLE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableheader':\n                        this.observer.notify(CONSTANT.TABLEHEADER, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'aligntop':\n                    case 'alignmiddle':\n                    case 'alignbottom':\n                        this.observer.notify(CONSTANT.TABLE_VERTICAL_ALIGN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'merge':\n                        this.observer.notify(CONSTANT.TABLE_MERGE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'horizontalsplit':\n                        this.observer.notify(CONSTANT.TABLE_HORIZONTAL_SPLIT, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'verticalsplit':\n                        this.observer.notify(CONSTANT.TABLE_VERTICAL_SPLIT, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                }\n                break;\n            case 'font':\n            case 'style':\n            case 'effects':\n            case 'casing':\n                this.observer.notify(CONSTANT.SELECTION_TYPE, { subCommand: value, event: event, callBack: callBack, value: text, selector: selector, enterAction: enterAction });\n                break;\n            case 'inserthtml':\n                this.observer.notify(CONSTANT.INSERTHTML_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'inserttext':\n                this.observer.notify(CONSTANT.INSERT_TEXT_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'clear':\n                this.observer.notify(CONSTANT.CLEAR_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector, enterAction: enterAction });\n                break;\n            case 'actions':\n                this.observer.notify(EVENTS.ACTION, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n        }\n    };\n    return EditorManager;\n}());\nexport { EditorManager };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Formatter } from './formatter';\nimport { EditorManager } from './../../editor-manager/base/editor-manager';\nimport { extend } from '@syncfusion/ej2-base';\nimport { htmlKeyConfig } from './../../common/config';\n/**\n * HTML adapter\n *\n * @hidden\n\n */\nvar HTMLFormatter = /** @class */ (function (_super) {\n    __extends(HTMLFormatter, _super);\n    function HTMLFormatter(options) {\n        var _this = _super.call(this) || this;\n        _this.initialize();\n        extend(_this, _this, options, true);\n        if (_this.currentDocument && _this.element) {\n            _this.updateFormatter(_this.element, _this.currentDocument, options.options);\n        }\n        return _this;\n    }\n    HTMLFormatter.prototype.initialize = function () {\n        this.keyConfig = htmlKeyConfig;\n    };\n    /**\n     * Update the formatter of RichTextEditor\n     *\n     * @param  {Element} editElement - specifies the edit element.\n     * @param  {Document} doc - specifies the doucment\n     * @param {number} options - specifies the options\n     * @returns {void}\n     * @hidden\n\n     */\n    HTMLFormatter.prototype.updateFormatter = function (editElement, doc, options) {\n        if (editElement && doc) {\n            this.editorManager = new EditorManager({\n                document: doc,\n                editableElement: editElement,\n                options: options\n            });\n        }\n    };\n    return HTMLFormatter;\n}(Formatter));\nexport { HTMLFormatter };\n","import { IsFormatted } from './isformatted';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from './../../selection/index';\nimport { getDefaultHtmlTbStatus } from './../../common/util';\n/**\n * Update Toolbar Status\n *\n * @hidden\n\n */\nexport var statusCollection = getDefaultHtmlTbStatus();\nvar ToolbarStatus = /** @class */ (function () {\n    function ToolbarStatus() {\n    }\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the document element\n     * @param {Node} targetNode - specifies the target node\n     * @param {string[]} formatNode - specifies the format node\n     * @param {string[]} fontSize - specifies the font size\n     * @param {string[]} fontName - specifies the font name.\n     * @param {Node} documentNode - specifies the document node.\n     * @returns {IToolbarStatus} - returns the toolbar status\n     * @hidden\n\n     */\n    ToolbarStatus.get = function (docElement, targetNode, formatNode, fontSize, fontName, documentNode) {\n        var formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeSelection = new NodeSelection();\n        var nodes = documentNode ? [documentNode] : nodeSelection.getNodeCollection(nodeSelection.getRange(docElement));\n        var nodesLength = nodes.length;\n        var isNodeChanged = false;\n        var range = nodeSelection.getRange(docElement);\n        for (var index = 0; index < nodes.length; index++) {\n            while (nodes[index].nodeType === 3 && range.startContainer.nodeType === 3 && nodes[index].parentNode &&\n                nodes[index].parentNode.lastElementChild && nodes[index].parentNode.lastElementChild.nodeName !== 'BR' &&\n                (this.getImmediateBlockNode(nodes[index].parentNode)).textContent.replace(/\\u200B/g, '').length === 0 &&\n                range.startContainer.textContent.replace(/\\u200B/g, '').length === 0 &&\n                nodeSelection.get(docElement).toString().replace(/\\u200B/g, '').length === 0) {\n                nodes[index] = nodes[index].parentNode.lastElementChild.firstChild;\n                isNodeChanged = true;\n            }\n            if (isNodeChanged && nodes[index]) {\n                nodeSelection.setCursorPoint(docElement, nodes[index], nodes[index].textContent.length);\n                isNodeChanged = false;\n            }\n            if ((nodes[index].nodeName !== 'BR' && nodes[index].nodeType !== 3) ||\n                (nodesLength > 1 && nodes[index].nodeType === 3 && nodes[index].textContent.trim() === '')) {\n                nodes.splice(index, 1);\n                index--;\n            }\n        }\n        for (var index = 0; index < nodes.length; index++) {\n            formatCollection = this.getFormatParent(docElement, formatCollection, nodes[index], targetNode, formatNode, fontSize, fontName);\n            if ((index === 0 && formatCollection.bold) || !formatCollection.bold) {\n                nodeCollection.bold = formatCollection.bold;\n            }\n            if ((index === 0 && formatCollection.insertcode) || !formatCollection.insertcode) {\n                nodeCollection.insertcode = formatCollection.insertcode;\n            }\n            if ((index === 0 && formatCollection.italic) || !formatCollection.italic) {\n                nodeCollection.italic = formatCollection.italic;\n            }\n            if ((index === 0 && formatCollection.underline) || !formatCollection.underline) {\n                nodeCollection.underline = formatCollection.underline;\n            }\n            if ((index === 0 && formatCollection.strikethrough) || !formatCollection.strikethrough) {\n                nodeCollection.strikethrough = formatCollection.strikethrough;\n            }\n            if ((index === 0 && formatCollection.superscript) || !formatCollection.superscript) {\n                nodeCollection.superscript = formatCollection.superscript;\n            }\n            if ((index === 0 && formatCollection.subscript) || !formatCollection.subscript) {\n                nodeCollection.subscript = formatCollection.subscript;\n            }\n            if ((index === 0 && formatCollection.fontcolor) || !formatCollection.fontcolor) {\n                nodeCollection.fontcolor = formatCollection.fontcolor;\n            }\n            if ((index === 0 && formatCollection.fontname) || !formatCollection.fontname) {\n                nodeCollection.fontname = formatCollection.fontname;\n            }\n            if ((index === 0 && formatCollection.fontsize) || !formatCollection.fontsize) {\n                nodeCollection.fontsize = formatCollection.fontsize;\n            }\n            if ((index === 0 && formatCollection.backgroundcolor) || !formatCollection.backgroundcolor) {\n                nodeCollection.backgroundcolor = formatCollection.backgroundcolor;\n            }\n            if ((index === 0 && formatCollection.orderedlist) || !formatCollection.orderedlist) {\n                nodeCollection.orderedlist = formatCollection.orderedlist;\n            }\n            if ((index === 0 && formatCollection.unorderedlist) || !formatCollection.unorderedlist) {\n                nodeCollection.unorderedlist = formatCollection.unorderedlist;\n            }\n            if ((index === 0 && formatCollection.alignments) || !formatCollection.alignments) {\n                nodeCollection.alignments = formatCollection.alignments;\n            }\n            if ((index === 0 && formatCollection.formats) || !formatCollection.formats) {\n                nodeCollection.formats = formatCollection.formats;\n            }\n            if ((index === 0 && formatCollection.createlink) || !formatCollection.createlink) {\n                nodeCollection.createlink = formatCollection.createlink;\n            }\n            if ((index === 0 && formatCollection.numberFormatList) || !formatCollection.numberFormatList) {\n                nodeCollection.numberFormatList = formatCollection.numberFormatList;\n            }\n            if ((index === 0 && formatCollection.bulletFormatList) || !formatCollection.bulletFormatList) {\n                nodeCollection.bulletFormatList = formatCollection.bulletFormatList;\n            }\n            formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        }\n        return nodeCollection;\n    };\n    ToolbarStatus.getImmediateBlockNode = function (node) {\n        do {\n            node = node.parentNode;\n        } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    ToolbarStatus.getFormatParent = function (docElement, formatCollection, node, targetNode, formatNode, fontSize, fontName) {\n        if (targetNode.contains(node) ||\n            (node.nodeType === 3 && targetNode.nodeType !== 3 && targetNode.contains(node.parentNode))) {\n            do {\n                formatCollection = this.isFormattedNode(docElement, formatCollection, node, formatNode, fontSize, fontName);\n                node = node.parentNode;\n            } while (node && (node !== targetNode));\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFormattedNode = function (docElement, formatCollection, node, formatNode, fontSize, fontName) {\n        if (!formatCollection.bold) {\n            formatCollection.bold = IsFormatted.isBold(node);\n        }\n        if (!formatCollection.italic) {\n            formatCollection.italic = IsFormatted.isItalic(node);\n        }\n        if (!formatCollection.underline) {\n            formatCollection.underline = IsFormatted.isUnderline(node);\n        }\n        if (!formatCollection.strikethrough) {\n            formatCollection.strikethrough = IsFormatted.isStrikethrough(node);\n        }\n        if (!formatCollection.superscript) {\n            formatCollection.superscript = IsFormatted.isSuperscript(node);\n        }\n        if (!formatCollection.subscript) {\n            formatCollection.subscript = IsFormatted.isSubscript(node);\n        }\n        if (!formatCollection.fontcolor) {\n            formatCollection.fontcolor = this.isFontColor(docElement, node);\n        }\n        if (!formatCollection.fontname) {\n            formatCollection.fontname = this.isFontName(docElement, node, fontName);\n        }\n        if (!formatCollection.fontsize) {\n            formatCollection.fontsize = this.isFontSize(node, fontSize);\n        }\n        if (!formatCollection.backgroundcolor) {\n            formatCollection.backgroundcolor = this.isBackgroundColor(node);\n        }\n        if (!formatCollection.orderedlist) {\n            formatCollection.orderedlist = this.isOrderedList(node);\n        }\n        if (!formatCollection.unorderedlist) {\n            formatCollection.unorderedlist = this.isUnorderedList(node);\n        }\n        if (!formatCollection.alignments) {\n            formatCollection.alignments = this.isAlignment(node);\n        }\n        if (!formatCollection.formats) {\n            formatCollection.formats = this.isFormats(node, formatNode);\n            if (formatCollection.formats === 'pre') {\n                formatCollection.insertcode = true;\n            }\n        }\n        if (!formatCollection.createlink) {\n            formatCollection.createlink = this.isLink(node);\n        }\n        if (!formatCollection.numberFormatList) {\n            formatCollection.numberFormatList = this.isNumberFormatList(node);\n        }\n        if (!formatCollection.bulletFormatList) {\n            formatCollection.bulletFormatList = this.isBulletFormatList(node);\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFontColor = function (docElement, node) {\n        var color = node.style && node.style.color;\n        if ((color === null || color === undefined || color === '') && node.nodeType !== 3) {\n            color = this.getComputedStyle(docElement, node, 'color');\n        }\n        if (color !== null && color !== '' && color !== undefined) {\n            return color;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isLink = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'a') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (backColor !== null && backColor !== '' && backColor !== undefined) {\n            return backColor;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontSize = function (node, fontSize) {\n        var size = node.style && node.style.fontSize;\n        if ((size !== null && size !== '' && size !== undefined)\n            && (fontSize === null || fontSize === undefined || (fontSize.indexOf(size) > -1))) {\n            return size;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontName = function (docElement, node, fontName) {\n        var name = node.style && node.style.fontFamily;\n        if ((name === null || name === undefined || name === '') && node.nodeType !== 3) {\n            name = this.getComputedStyle(docElement, node, 'font-family');\n        }\n        var index = null;\n        if ((name !== null && name !== '' && name !== undefined)\n            && (fontName === null || fontName === undefined || (fontName.filter(function (value, pos) {\n                var pattern = new RegExp(name, 'i');\n                if ((value.replace(/\"/g, '').replace(/ /g, '').toLowerCase() === name.replace(/\"/g, '').replace(/ /g, '').toLowerCase()) ||\n                    (value.search(pattern) > -1)) {\n                    index = pos;\n                }\n            }) && (index !== null)))) {\n            return (index !== null) ? fontName[index] : name.replace(/\"/g, '');\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isOrderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ol') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isUnorderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ul') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isAlignment = function (node) {\n        var align = node.style && node.style.textAlign;\n        if (align === 'left') {\n            return 'justifyleft';\n        }\n        else if (align === 'center') {\n            return 'justifycenter';\n        }\n        else if (align === 'right') {\n            return 'justifyright';\n        }\n        else if (align === 'justify') {\n            return 'justifyfull';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFormats = function (node, formatNode) {\n        if (((formatNode === undefined || formatNode === null)\n            && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) > -1)\n            || (formatNode !== null && formatNode !== undefined\n                && formatNode.indexOf(node.nodeName.toLocaleLowerCase()) > -1)) {\n            return node.nodeName.toLocaleLowerCase();\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.getComputedStyle = function (docElement, node, prop) {\n        return docElement.defaultView.getComputedStyle(node, null).getPropertyValue(prop);\n    };\n    ToolbarStatus.isNumberFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'lower-alpha') {\n            return 'Lower Alpha';\n        }\n        else if (list === 'number') {\n            return 'Number';\n        }\n        else if (list === 'upper-alpha') {\n            return 'Upper Alpha';\n        }\n        else if (list === 'lower-roman') {\n            return 'Lower Roman';\n        }\n        else if (list === 'upper-roman') {\n            return 'Upper Roman';\n        }\n        else if (list === 'lower-greek') {\n            return 'Lower Greek';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isBulletFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'circle') {\n            return 'Circle';\n        }\n        else if (list === 'square') {\n            return 'Square';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else if (list === 'disc') {\n            return 'Disc';\n        }\n        else {\n            return null;\n        }\n    };\n    return ToolbarStatus;\n}());\nexport { ToolbarStatus };\n","import * as events from '../base/constant';\nimport { ToolbarStatus } from '../../editor-manager/plugin/toolbar-status';\nimport { getDefaultHtmlTbStatus } from '../../common/util';\n/**\n * HtmlToolbarStatus module for refresh the toolbar status\n */\nvar HtmlToolbarStatus = /** @class */ (function () {\n    function HtmlToolbarStatus(parent) {\n        this.parent = parent;\n        this.toolbarStatus = this.prevToolbarStatus = getDefaultHtmlTbStatus();\n        this.addEventListener();\n    }\n    HtmlToolbarStatus.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRefresh, this.onRefreshHandler, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    HtmlToolbarStatus.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRefresh, this.onRefreshHandler);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    HtmlToolbarStatus.prototype.onRefreshHandler = function (args) {\n        if (this.parent.readonly) {\n            return;\n        }\n        var fontsize = [];\n        var fontName = [];\n        var formats = [];\n        this.parent.fontSize.items.forEach(function (item) {\n            fontsize.push(item.value);\n        });\n        this.parent.fontFamily.items.forEach(function (item) {\n            fontName.push(item.value);\n        });\n        this.parent.format.types.forEach(function (item) {\n            formats.push(item.value.toLocaleLowerCase());\n        });\n        this.toolbarStatus = ToolbarStatus.get(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel(), formats, fontsize, fontName, args.documentNode);\n        var tbStatusString = JSON.stringify(this.toolbarStatus);\n        this.parent.notify(events.toolbarUpdated, this.toolbarStatus);\n        if (JSON.stringify(this.prevToolbarStatus) !== tbStatusString) {\n            this.parent.notify(events.updateTbItemsStatus, { html: JSON.parse(tbStatusString), markdown: null });\n            this.prevToolbarStatus = JSON.parse(tbStatusString);\n        }\n    };\n    return HtmlToolbarStatus;\n}());\nexport { HtmlToolbarStatus };\n","import { getEditValue } from '../base/util';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     * @param {ServiceLocator} serviceLocator - specifies the service.\n     * @returns {void}\n     */\n    function ContentRender(parent, serviceLocator) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n    }\n    /**\n     * The function is used to render Rich Text Editor content div\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var div = this.parent.createElement('div', { className: 'e-rte-content', id: this.parent.getID() + 'rte-view' });\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        this.editableElement = this.parent.createElement('div', {\n            className: 'e-content',\n            id: this.parent.getID() + '_rte-edit-view',\n            attrs: {\n                'contenteditable': 'true'\n            },\n            innerHTML: rteContent\n        });\n        div.appendChild(this.editableElement);\n        this.setPanel(div);\n        rteObj.element.appendChild(div);\n    };\n    /**\n     * Get the content div element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     *\n     * @returns {Element} - specifies the return element.\n     * @hidden\n\n     */\n    ContentRender.prototype.getEditPanel = function () {\n        return this.editableElement;\n    };\n    /**\n     * Returns the text content as string.\n     *\n     * @returns {string} - specifies the string element.\n     */\n    ContentRender.prototype.getText = function () {\n        var textString = this.getEditPanel().innerText;\n        return textString === '\\n' ? '' : textString;\n    };\n    /**\n     * Set the content div element of RichTextEditor\n     *\n     * @param {Element} panel - specifies the panel element.\n     * @returns {void}\n     * @hidden\n\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the document of RichTextEditor\n     *\n     * @returns {Document} - specifies the document.\n     * @hidden\n\n     */\n    ContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ContentRender } from '../renderer/content-renderer';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getEditValue } from '../base/util';\nvar IFRAMEHEADER = \"\\n<!DOCTYPE html> \\n    <html>\\n         <head>\\n            <meta charset='utf-8' /> \\n            <style>\\n                @charset \\\"UTF-8\\\";\\n                body {\\n                    font-family: \\\"Roboto\\\", sans-serif;\\n                    font-size: 14px;\\n                }\\n                html, body{height: 100%;margin: 0;}\\n                body.e-cursor{cursor:default}\\n                span.e-selected-node\\t{background-color: #939393;color: white;}\\n                span.e-selected-node.e-highlight {background-color: #1d9dd8;}\\n                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}\\n                .e-rte-image {border: 0;cursor: pointer;display:\\n                    block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-rte-image.e-imginline {display: inline-block;float: none;max-width: calc(100% - (2 * 5px));padding: 1px;vertical-align: bottom;}\\n                .e-rte-image.e-imgcenter {cursor: pointer;display: block;float: none;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-rte-image.e-imgright { float: right; margin: 0 auto;margin-left: 5px;text-align: right;}\\n                .e-rte-image.e-imgleft {float: left;margin: 0 auto;margin-right: 5px;text-align: left;}\\n                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}\\n                .e-img-caption.e-caption-inline {display: inline-block;float: none;\\n                    margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));\\n                    position: relativetext-align: center;vertical-align: bottom;}\\n                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;\\n                    margin: auto;opacity: .9;text-align: center;width: 100%;}\\n                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}\\n                .e-imgleft {float: left;margin: 0 5px 0 0;text-align: left;}\\n                .e-imgright {float: right;margin: 0 0 0 5px;text-align: right;}\\n                .e-imgcenter {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}\\n                .e-imginline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;\\n                    max-width: calc(100% - (2 * 5px));vertical-align: bottom;}\\n                .e-imgbreak {border: 0;cursor: pointer;\\n                    display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-rte-image.e-img-focus:not(.e-resize) {border: solid 2px #4a90e2;}\\n                img.e-img-focus::selection { background: transparent;color: transparent;}\\n                span.e-rte-imageboxmark {  width: 10px; height: 10px; position: absolute; display: block;\\n                    background: #4a90e2; border: 1px solid #fff; z-index: 1000;}\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-mob-rte span.e-rte-imageboxmark { background: #fff; border: 1px solid #4a90e2;\\n                    border-radius: 15px; height: 20px; width: 20px; }\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-rte-content .e-content img.e-resize { z-index: 1000; }\\n                .e-img-caption .e-img-inner { outline: 0; }\\n                .e-img-caption a:focus-visible { outline: none; }\\n                .e-img-caption .e-rte-image.e-imgright, .e-img-caption .e-rte-image.e-imgleft { float: none; margin: 0;}\\n                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;\\n                    overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}\\n                p{margin: 0 0 10px;margin-bottom: 10px;}\\n                li{margin-bottom: 10px;}\\n                h1{font-size: 2.17em;font-weight: 400;line-height: 1;margin: 10px 0;}\\n                h2{font-size: 1.74em;font-weight: 400;margin: 10px 0;}\\n                h3{font-size: 1.31em;font-weight: 400;margin: 10px 0;}\\n                h4{font-size: 16px;font-weight: 400;line-height: 1.5;margin: 0;}\\n                h5{font-size: 00.8em;font-weight: 400;margin: 0;}\\n                h6{font-size: 00.65em;font-weight: 400;margin: 0;}\\n                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}\\n                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;\\n                    font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;\\n                    white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}\\n                strong, b{font-weight: 700;}\\n                a{text-decoration: none;user-select: auto;}\\n                a:hover{text-decoration: underline;};\\n                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}\\n                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}\\n                ul:last-child{margin-bottom: 0;}\\n                table { border-collapse: collapse; empty-cells: show;}\\n                table td,table th {border: 1px solid #BDBDBD; height: 20px; padding: 2px 5px; vertical-align: middle;}\\n                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}\\n                table th {background-color: #E0E0E0;}\\n                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} \\n                table .e-cell-select {border: 1px double #4a90e2;}\\n                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }\\n                span.e-table-box.e-rmob {height: 14px;width: 14px;}\\n                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat;\\n                    bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }\\n                .e-row-resize { cursor: row-resize; height: 1px;}\\n                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}\\n                .e-table-rhelper.e-column-helper { width: 1px; }\\n                .e-table-rhelper.e-row-helper {height: 1px;}\\n                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid;\\n                    border-top: 6px solid transparent; content: ''; display: block; height: 0;\\n                    position: absolute; right: 4px; top: 4px; width: 20px; }\\n                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid;\\n                    border-top: 6px solid transparent; content: ''; display: block;\\n                    height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }\\n                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }\\n                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }\\n                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }\\n                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }\\n                .e-table-rhelper { background-color: #4a90e2;}\\n                .e-rtl { direction: rtl; }\\n            </style>\\n        </head>\";\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar IframeContentRender = /** @class */ (function (_super) {\n    __extends(IframeContentRender, _super);\n    function IframeContentRender() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * The function is used to render Rich Text Editor iframe\n     *\n     * @hidden\n\n     */\n    IframeContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        var iFrameBodyContent = '<body spellcheck=\"false\" autocorrect=\"off\" contenteditable=\"true\">' +\n            rteContent + '</body></html>';\n        var iFrameContent = IFRAMEHEADER + iFrameBodyContent;\n        var iframe = this.parent.createElement('iframe', {\n            id: this.parent.getID() + '_rte-view',\n            className: 'e-rte-content',\n            styles: 'display:block;',\n            attrs: { 'srcdoc': iFrameContent }\n        });\n        this.setPanel(iframe);\n        rteObj.element.appendChild(iframe);\n        iframe.contentDocument.body.id = this.parent.getID() + '_rte-edit-view';\n        iframe.contentDocument.body.setAttribute('aria-owns', this.parent.getID());\n        iframe.contentDocument.open();\n        iFrameContent = this.setThemeColor(iFrameContent, { color: '#333' });\n        iframe.contentDocument.write(iFrameContent);\n        iframe.contentDocument.close();\n        if (rteObj.enableRtl) {\n            this.contentPanel.contentDocument.body.setAttribute('class', 'e-rtl');\n        }\n    };\n    IframeContentRender.prototype.setThemeColor = function (content, styles) {\n        var fontColor = getComputedStyle(this.parent.element, '.e-richtexteditor').getPropertyValue('color');\n        return content.replace(styles.color, fontColor);\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getEditPanel = function () {\n        var editNode;\n        if (!isNullOrUndefined(this.contentPanel.contentDocument)) {\n            editNode = this.contentPanel.contentDocument.body;\n        }\n        else {\n            editNode = this.parent.inputElement;\n        }\n        return editNode;\n    };\n    /**\n     * Get the document of RichTextEditor\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return IframeContentRender;\n}(ContentRender));\nexport { IframeContentRender };\n","import { select, detach, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getIndex, toObjectLowerCase } from '../base/util';\nimport { templateItems, tools } from '../models/items';\n/**\n * `Color Picker` module is used to handle ColorPicker actions.\n */\nvar ColorPickerInput = /** @class */ (function () {\n    function ColorPickerInput(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    ColorPickerInput.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    /**\n     * renderColorPickerInput method\n     *\n     * @param {IColorPickerRenderArgs} args - specify the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.renderColorPickerInput = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var suffixID = args.containerType;\n        var tbElement = args.container;\n        var targetID;\n        var options;\n        templateItems.forEach(function (item) {\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'fontcolor': {\n                        targetID = _this.parent.getID() + '_' + suffixID + '_FontColor_Target';\n                        var fontNode = _this.parent.createElement('input');\n                        fontNode.id = targetID;\n                        fontNode.classList.add(classes.CLS_FONT_COLOR_TARGET);\n                        if (!isNullOrUndefined(_this.parent.cssClass)) {\n                            var allClassName = _this.parent.cssClass.split(' ');\n                            for (var i = 0; i < allClassName.length; i++) {\n                                if (allClassName[i].trim() !== '') {\n                                    fontNode.classList.add(allClassName[i]);\n                                }\n                            }\n                        }\n                        document.body.appendChild(fontNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS + ' ' + _this.parent.cssClass,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_FontColor', tbElement),\n                            target: (targetID)\n                        };\n                        _this.fontColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'fontcolor');\n                        _this.fontColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'fontcolor', _this.fontColorPicker);\n                        break;\n                    }\n                    case 'backgroundcolor': {\n                        targetID = _this.parent.getID() + '_' + suffixID + '_BackgroundColor_Target';\n                        var backNode = _this.parent.createElement('input');\n                        backNode.id = targetID;\n                        backNode.classList.add(classes.CLS_BACKGROUND_COLOR_TARGET);\n                        if (!isNullOrUndefined(_this.parent.cssClass)) {\n                            var allClassName = _this.parent.cssClass.split(' ');\n                            for (var i = 0; i < allClassName.length; i++) {\n                                if (allClassName[i].trim() !== '') {\n                                    backNode.classList.add(allClassName[i]);\n                                }\n                            }\n                        }\n                        document.body.appendChild(backNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS + ' ' + _this.parent.cssClass,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_BackgroundColor', tbElement),\n                            target: (targetID)\n                        };\n                        _this.backgroundColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'backgroundcolor');\n                        _this.backgroundColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'backgroundcolor', _this.backgroundColorPicker, _this.defaultColorPicker);\n                        break;\n                    }\n                }\n            }\n        });\n        if (this.parent.inlineMode.enable) {\n            this.setCssClass({ cssClass: this.parent.cssClass });\n        }\n    };\n    ColorPickerInput.prototype.destroy = function () {\n        this.removeEventListener();\n        this.destroyColorPicker();\n    };\n    /**\n     * destroyColorPicker method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.destroyColorPicker = function () {\n        if (this.fontColorPicker && !this.fontColorPicker.isDestroyed) {\n            this.fontColorPicker.destroy();\n        }\n        if (this.backgroundColorPicker && !this.backgroundColorPicker.isDestroyed) {\n            this.backgroundColorPicker.destroy();\n        }\n        if (this.fontColorDropDown && !this.fontColorDropDown.isDestroyed) {\n            var innerEle = this.fontColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                detach(innerEle);\n            }\n            this.fontColorDropDown.destroy();\n        }\n        if (this.backgroundColorDropDown && !this.backgroundColorDropDown.isDestroyed) {\n            var innerEle = this.backgroundColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                this.defaultColorPicker = innerEle.children[0].style.borderBottomColor;\n                detach(innerEle);\n            }\n            this.backgroundColorDropDown.destroy();\n        }\n    };\n    ColorPickerInput.prototype.setRtl = function (args) {\n        if (this.fontColorPicker) {\n            this.fontColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.fontColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.backgroundColorPicker) {\n            this.backgroundColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.backgroundColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    ColorPickerInput.prototype.setCssClass = function (e) {\n        this.updateCss(this.fontColorPicker, this.fontColorDropDown, e);\n        this.updateCss(this.backgroundColorPicker, this.backgroundColorDropDown, e);\n    };\n    ColorPickerInput.prototype.updateCss = function (colorPickerObj, dropDownObj, e) {\n        if (colorPickerObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass)) {\n                colorPickerObj.setProperties({ cssClass: (colorPickerObj.cssClass + ' ' + e.cssClass).trim() });\n                dropDownObj.setProperties({ cssClass: (dropDownObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                colorPickerObj.setProperties({ cssClass: (colorPickerObj.cssClass.replace(e.oldCssClass, '').replace('  ', ' ').trim() + ' ' + e.cssClass).trim() });\n                dropDownObj.setProperties({ cssClass: (dropDownObj.cssClass.replace(e.oldCssClass, '').replace('  ', ' ').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    ColorPickerInput.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRenderComplete, this.renderColorPickerInput, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.destroyColorPicker, this.destroyColorPicker, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n    };\n    ColorPickerInput.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontColor':\n                    if (this.fontColorPicker) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontColor); _b < _c.length; _b++) {\n                            var font = _c[_b];\n                            switch (font) {\n                                case 'default': {\n                                    this.fontColorPicker.setProperties({ value: newProp.fontColor.default });\n                                    element = this.fontColorDropDown.element;\n                                    var fontBorder = element.querySelector('.' + this.tools['fontcolor'].icon);\n                                    fontBorder.style.borderBottomColor = newProp.fontColor.default;\n                                    break;\n                                }\n                                case 'mode':\n                                    this.fontColorPicker.setProperties({ mode: newProp.fontColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.fontColorPicker.setProperties({ columns: newProp.fontColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.fontColorPicker.setProperties({ presetColors: newProp.fontColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.fontColorPicker.setProperties({ modeSwitcher: newProp.fontColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'backgroundColor':\n                    if (this.backgroundColorPicker) {\n                        for (var _d = 0, _e = Object.keys(newProp.backgroundColor); _d < _e.length; _d++) {\n                            var background = _e[_d];\n                            switch (background) {\n                                case 'default': {\n                                    this.backgroundColorPicker.setProperties({ value: newProp.backgroundColor.default });\n                                    element = this.backgroundColorDropDown.element;\n                                    var backgroundBorder = element.querySelector('.' + this.tools['backgroundcolor'].icon);\n                                    backgroundBorder.style.borderBottomColor = newProp.backgroundColor.default;\n                                    break;\n                                }\n                                case 'mode':\n                                    this.backgroundColorPicker.setProperties({ mode: newProp.backgroundColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.backgroundColorPicker.setProperties({ columns: newProp.backgroundColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.backgroundColorPicker.setProperties({ presetColors: newProp.backgroundColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.backgroundColorPicker.setProperties({ modeSwitcher: newProp.backgroundColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    ColorPickerInput.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRenderComplete, this.renderColorPickerInput);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.destroyColorPicker, this.destroyColorPicker);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n    };\n    return ColorPickerInput;\n}());\nexport { ColorPickerInput };\n","import * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */ (function () {\n    function XhtmlValidation(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    XhtmlValidation.prototype.addEventListener = function () {\n        this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    XhtmlValidation.prototype.removeEventListener = function () {\n        this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    XhtmlValidation.prototype.enableXhtmlValidation = function () {\n        if (this.parent.enableXhtml) {\n            if (isNullOrUndefined(this.parent.inputElement)) {\n                this.currentElement = this.parent.element;\n            }\n            else {\n                this.currentElement = this.parent.inputElement;\n            }\n            this.clean(this.currentElement);\n            this.AddRootElement();\n            this.ImageTags();\n            this.removeTags();\n            this.RemoveUnsupported();\n            this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === \"\\n\" ?\n                this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n            this.parent.setProperties({ value: this.currentElement.innerHTML }, true);\n        }\n    };\n    /**\n     * @param {string} currentValue - specifies the string value.\n     * @param {number} valueLength - specifies the length of the current value.\n     * @returns {void}\n\n     */\n    XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n        if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0) {\n            var arrayValue = currentValue.split('&nbsp;');\n            arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n            currentValue = arrayValue.join('');\n        }\n        currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n        var valueTemp;\n        var valueDupe = [];\n        var valueOriginal = [];\n        var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi,\n            /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi,\n            /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n        for (var j = 0; j < imgRegexp.length; j++) {\n            valueTemp = imgRegexp[j].exec(currentValue);\n            while ((valueTemp) !== null) {\n                valueDupe.push(valueTemp[0].toString());\n                valueTemp = imgRegexp[j].exec(currentValue);\n            }\n            valueOriginal = valueDupe.slice(0);\n            for (var i = 0; i < valueDupe.length; i++) {\n                if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n                    valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' +\n                        valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n                }\n            }\n            for (var g = 0; g <= valueDupe.length - 1; g++) {\n                currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n            }\n        }\n        return currentValue;\n    };\n    XhtmlValidation.prototype.AddRootElement = function () {\n        if ((this.currentElement.childNodes.length === 1 && this.currentElement.firstChild.nodeName !== 'DIV') ||\n            this.currentElement.childNodes.length > 1) {\n            var parentEle = this.parent.createElement('div');\n            while (this.currentElement.childNodes.length > 0) {\n                parentEle.appendChild(this.currentElement.childNodes[0]);\n            }\n            this.currentElement.appendChild(parentEle);\n        }\n    };\n    XhtmlValidation.prototype.clean = function (node) {\n        for (var n = 0; n < node.childNodes.length; n++) {\n            var child = node.childNodes[n];\n            if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n                node.removeChild(child);\n                n--;\n            }\n            else if (child.nodeType === 1) {\n                this.clean(child);\n            }\n        }\n        return this.currentElement.innerHTML;\n    };\n    XhtmlValidation.prototype.ImageTags = function () {\n        var imgNodes = this.currentElement.querySelectorAll('IMG');\n        for (var i = imgNodes.length - 1; i >= 0; i--) {\n            if (!imgNodes[i].hasAttribute('alt')) {\n                var img = imgNodes[i];\n                img.setAttribute('alt', '');\n            }\n        }\n    };\n    XhtmlValidation.prototype.removeTags = function () {\n        var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n        for (var i = 0; i < removeAttribute.length; i++) {\n            this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n        var parentArray = this.currentElement.querySelectorAll(parentNode);\n        for (var i = 0; i < parentArray.length; i++) {\n            var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n            for (var j = rmvArray.length; j > 0; j--) {\n                detach(rmvArray[j - 1]);\n            }\n        }\n    };\n    XhtmlValidation.prototype.RemoveUnsupported = function () {\n        var underlineEle = this.currentElement.querySelectorAll('u');\n        for (var i = underlineEle.length - 1; i >= 0; i--) {\n            var spanEle = this.parent.createElement('span');\n            spanEle.style.textDecoration = 'underline';\n            spanEle.innerHTML = underlineEle[i].innerHTML;\n            underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n            detach(underlineEle[i]);\n        }\n        var strongEle = this.currentElement.querySelectorAll('strong');\n        for (var i = strongEle.length - 1; i >= 0; i--) {\n            var boldEle = this.parent.createElement('b');\n            boldEle.innerHTML = strongEle[i].innerHTML;\n            strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n            detach(strongEle[i]);\n        }\n        var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing',\n            'cellpadding', 'border', 'valign', 'colspan'];\n        for (var i = 0; i <= attrArray.length; i++) {\n            this.RemoveAttributeByName(attrArray[i]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n        if (this.currentElement.firstChild !== null) {\n            if (this.currentElement.firstChild.nodeType !== 3) {\n                for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n                    var ele = this.currentElement.childNodes[i];\n                    if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' &&\n                        ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n                        if (ele.hasAttribute(attrName)) {\n                            ele.removeAttribute(attrName);\n                        }\n                        if (ele.hasChildNodes()) {\n                            for (var j = 0; j < ele.childNodes.length; j++) {\n                                var childEle = ele.childNodes[j];\n                                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' &&\n                                    childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' &&\n                                    childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName)) {\n                                    childEle.removeAttribute(attrName);\n                                }\n                                if (childEle.hasChildNodes()) {\n                                    for (var k = 0; k < childEle.childNodes.length; k++) {\n                                        if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' &&\n                                            childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' &&\n                                            childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR'\n                                            && childEle.childNodes[k].nodeName !== 'TD'\n                                            && childEle.childNodes[k].hasAttribute(attrName)) {\n                                            childEle.childNodes[k].removeAttribute(attrName);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return XhtmlValidation;\n}());\nexport { XhtmlValidation };\n","import * as events from '../base/constant';\nimport { isNullOrUndefined, closest, attributes, removeClass, addClass, Browser, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { HTMLFormatter } from '../formatter/html-formatter';\nimport { RenderType } from '../base/enum';\nimport * as classes from '../base/classes';\nimport { HtmlToolbarStatus } from './html-toolbar-status';\nimport { IframeContentRender } from '../renderer/iframe-content-renderer';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { ColorPickerInput } from './color-picker';\nimport { NodeSelection } from '../../selection/selection';\nimport { InsertHtml } from '../../editor-manager/plugin/inserthtml';\nimport { getTextNodesUnder, sanitizeHelper, getDefaultValue } from '../base/util';\nimport { isIDevice } from '../../common/util';\nimport { XhtmlValidation } from './xhtml-validation';\nimport { ON_BEGIN } from './../../common/constant';\n/**\n * `HtmlEditor` module is used to HTML editor\n */\nvar HtmlEditor = /** @class */ (function () {\n    function HtmlEditor(parent, serviceLocator) {\n        this.rangeCollection = [];\n        this.isImageDelete = false;\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.xhtmlValidation = new XhtmlValidation(parent);\n        this.addEventListener();\n    }\n    /**\n     * Destroys the Markdown.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {string} value - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.sanitizeHelper = function (value) {\n        value = sanitizeHelper(value, this.parent);\n        return value;\n    };\n    HtmlEditor.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nodeSelectionObj = new NodeSelection();\n        this.colorPickerModule = new ColorPickerInput(this.parent, this.locator);\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on(events.htmlToolbarClick, this.onToolbarClick, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.keyUp, this.onKeyUp, this);\n        this.parent.on(events.renderColorPicker, this.renderColorPicker, this);\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.selectAll, this.selectAll, this);\n        this.parent.on(events.selectRange, this.selectRange, this);\n        this.parent.on(events.getSelectedHtml, this.getSelectedHtml, this);\n        this.parent.on(events.selectionSave, this.onSelectionSave, this);\n        this.parent.on(events.selectionRestore, this.onSelectionRestore, this);\n        this.parent.on(events.readOnlyMode, this.updateReadOnly, this);\n        this.parent.on(events.paste, this.onPaste, this);\n    };\n    HtmlEditor.prototype.updateReadOnly = function () {\n        if (this.parent.readonly) {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'false' });\n            addClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n        else {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'true' });\n            removeClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n    };\n    HtmlEditor.prototype.onSelectionSave = function () {\n        var currentDocument = this.contentRenderer.getDocument();\n        var range = this.nodeSelectionObj.getRange(currentDocument);\n        this.saveSelection = this.nodeSelectionObj.save(range, currentDocument);\n    };\n    HtmlEditor.prototype.onSelectionRestore = function (e) {\n        this.parent.isBlur = false;\n        this.contentRenderer.getEditPanel().focus();\n        if (isNullOrUndefined(e.items) || e.items) {\n            this.saveSelection.restore();\n        }\n    };\n    HtmlEditor.prototype.onKeyUp = function (e) {\n        var args = e.args;\n        var restrictKeys = [8, 9, 13, 16, 17, 18, 20, 27, 37, 38, 39, 40, 44, 45, 46, 91,\n            112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123];\n        var range = this.parent.getRange();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        var pointer;\n        if (restrictKeys.indexOf(args.keyCode) < 0 && !args.shiftKey && !args.ctrlKey && !args.altKey) {\n            if (range.startContainer.textContent.charCodeAt(0) === 8203) {\n                pointer = range.startOffset - 1;\n                range.startContainer.textContent = range.startContainer.textContent.replace(regEx, '');\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n            if (!isNOU(range.startContainer.previousSibling) && !isNOU(range.startContainer.previousSibling.parentElement) &&\n                range.startContainer.parentElement === range.startContainer.previousSibling.parentElement &&\n                range.startContainer.previousSibling.textContent.charCodeAt(0) === 8203 &&\n                range.startContainer.previousSibling.textContent.length <= 1) {\n                range.startContainer.previousSibling.textContent = range.startContainer.previousSibling.textContent.replace(regEx, '');\n            }\n            if (range.endContainer.textContent.charCodeAt(range.endOffset) === 8203) {\n                pointer = range.startOffset;\n                range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n        }\n    };\n    HtmlEditor.prototype.onKeyDown = function (e) {\n        var _this = this;\n        var currentRange;\n        var args = e.args;\n        if (Browser.info.name === 'chrome') {\n            currentRange = this.parent.getRange();\n            this.backSpaceCleanup(e, currentRange);\n            this.deleteCleanup(e, currentRange);\n        }\n        if (args.keyCode === 9 && this.parent.enableTabKey) {\n            if (!isNOU(args.target) && isNullOrUndefined(closest(args.target, '.e-rte-toolbar'))) {\n                var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n                var parentNode = this.nodeSelectionObj.getParentNodeCollection(range);\n                if (!((parentNode[0].nodeName === 'LI' || closest(parentNode[0], 'li') ||\n                    closest(parentNode[0], 'table')) && range.startOffset === 0)) {\n                    args.preventDefault();\n                    if (!args.shiftKey) {\n                        InsertHtml.Insert(this.contentRenderer.getDocument(), '&nbsp;&nbsp;&nbsp;&nbsp;');\n                        this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));\n                    }\n                    else if (this.rangeCollection.length > 0 &&\n                        this.rangeCollection[this.rangeCollection.length - 1].startContainer.textContent.length === 4) {\n                        var textCont = this.rangeCollection[this.rangeCollection.length - 1].startContainer;\n                        this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(), textCont, textCont, 0, textCont.textContent.length);\n                        InsertHtml.Insert(this.contentRenderer.getDocument(), document.createTextNode(''));\n                        this.rangeCollection.pop();\n                    }\n                }\n            }\n        }\n        if (e.args.action === 'space' ||\n            e.args.action === 'enter' ||\n            e.args.keyCode === 13) {\n            this.spaceLink(e.args);\n            if (this.parent.editorMode === 'HTML' && !this.parent.readonly) {\n                var currentLength = this.parent.getText().trim().length;\n                var selectionLength = this.parent.getSelection().length;\n                var totalLength = (currentLength - selectionLength) + 1;\n                if (!(this.parent.maxLength === -1 || totalLength <= this.parent.maxLength) &&\n                    e.args.keyCode === 13) {\n                    e.args.preventDefault();\n                    return;\n                }\n                else {\n                    this.parent.notify(events.enterHandler, { args: e.args });\n                }\n            }\n        }\n        if (e.args.action === 'space') {\n            var currentRange_1 = this.parent.getRange();\n            var editorValue = currentRange_1.startContainer.textContent.slice(0, currentRange_1.startOffset);\n            var orderedList_1 = this.isOrderedList(editorValue);\n            var unOrderedList = this.isUnOrderedList(editorValue);\n            if (orderedList_1 && !unOrderedList || unOrderedList && !orderedList_1) {\n                var eventArgs_1 = {\n                    callBack: null,\n                    event: e.args,\n                    name: 'keydown-handler'\n                };\n                var actionBeginArgs = {\n                    cancel: false,\n                    item: { command: 'Lists', subCommand: orderedList_1 ? 'OL' : 'UL' },\n                    name: 'actionBegin',\n                    originalEvent: e.args,\n                    requestType: orderedList_1 ? 'OL' : 'UL'\n                };\n                this.parent.trigger(events.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                    if (!actionBeginArgs.cancel) {\n                        _this.parent.formatter.editorManager.observer.notify(ON_BEGIN, eventArgs_1);\n                        _this.parent.trigger(events.actionComplete, {\n                            editorMode: _this.parent.editorMode,\n                            elements: _this.parent.formatter.editorManager.domNode.blockNodes(),\n                            event: e.args,\n                            name: events.actionComplete,\n                            range: _this.parent.getRange(),\n                            requestType: orderedList_1 ? 'OL' : 'UL'\n                        });\n                    }\n                });\n            }\n        }\n        if (Browser.info.name === 'chrome' && (!isNullOrUndefined(this.rangeElement) && !isNullOrUndefined(this.oldRangeElement) ||\n            !isNullOrUndefined(this.deleteRangeElement) && !isNullOrUndefined(this.deleteOldRangeElement)) &&\n            currentRange.startContainer.parentElement.tagName !== 'TD' && currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.rangeElement = null;\n            this.oldRangeElement = null;\n            this.deleteRangeElement = null;\n            this.deleteOldRangeElement = null;\n            if (!this.isImageDelete) {\n                args.preventDefault();\n            }\n            args.preventDefault();\n        }\n    };\n    HtmlEditor.prototype.isOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!isNullOrUndefined(editorValue)) {\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.isUnOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var ulListStartRegex = [/^[*]$/, /^[-]$/];\n        if (!isNullOrUndefined(editorValue)) {\n            for (var i = 0; i < ulListStartRegex.length; i++) {\n                if (ulListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.backSpaceCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        if (e.args.code === 'Backspace' && e.args.keyCode === 8 && currentRange.startOffset === 0 &&\n            currentRange.endOffset === 0 && this.parent.getSelection().length === 0 && currentRange.startContainer.textContent.length > 0 &&\n            currentRange.startContainer.parentElement.tagName !== 'TD' && currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.rangeElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.rangeElement.tagName === 'OL' || this.rangeElement.tagName === 'UL') {\n                var liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.previousElementSibling && liElement.previousElementSibling.childElementCount > 0) {\n                    this.oldRangeElement = liElement.previousElementSibling.lastElementChild.nodeName === 'BR' ?\n                        liElement.previousElementSibling : liElement.previousElementSibling.lastElementChild;\n                    if (!isNullOrUndefined(liElement.lastElementChild) && liElement.lastElementChild.nodeName !== 'BR') {\n                        this.rangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.rangeElement = liElement;\n                    }\n                }\n            }\n            else if (this.rangeElement === this.parent.inputElement || this.rangeElement.tagName === 'TABLE' ||\n                (!isNullOrUndefined(this.rangeElement.previousElementSibling) && this.rangeElement.previousElementSibling.tagName === 'TABLE')) {\n                return;\n            }\n            else {\n                this.oldRangeElement = this.rangeElement.previousElementSibling;\n            }\n            if (isNullOrUndefined(this.oldRangeElement)) {\n                return;\n            }\n            else {\n                if (this.oldRangeElement.tagName === 'OL' || this.oldRangeElement.tagName === 'UL') {\n                    this.oldRangeElement = this.oldRangeElement.lastElementChild.lastElementChild\n                        ? this.oldRangeElement.lastElementChild.lastElementChild :\n                        this.oldRangeElement.lastElementChild;\n                }\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), \n                // eslint-disable-next-line\n                this.oldRangeElement, this.oldRangeElement.childNodes.length);\n                if (this.oldRangeElement.querySelector('BR')) {\n                    detach(this.oldRangeElement.querySelector('BR'));\n                }\n                if (!isNullOrUndefined(this.rangeElement) && this.oldRangeElement !== this.rangeElement) {\n                    while (this.rangeElement.firstChild) {\n                        this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);\n                    }\n                    // eslint-disable-next-line\n                    !isLiElement ? detach(this.rangeElement) : detach(this.rangeElement.parentElement);\n                    this.oldRangeElement.normalize();\n                }\n            }\n        }\n    };\n    HtmlEditor.prototype.deleteCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        var liElement;\n        var rootElement;\n        if (e.args.code === 'Delete' && e.args.keyCode === 46 &&\n            this.parent.contentModule.getText().trim().length !== 0 && this.parent.getSelection().length === 0 && currentRange.startContainer.parentElement.tagName !== 'TD' &&\n            currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.deleteRangeElement = rootElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.deleteRangeElement.tagName === 'OL' || this.deleteRangeElement.tagName === 'UL') {\n                liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.nextElementSibling && liElement.nextElementSibling.childElementCount > 0\n                    && !liElement.nextElementSibling.querySelector('BR')) {\n                    if (!isNullOrUndefined(liElement.lastElementChild)) {\n                        this.deleteRangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.deleteRangeElement = liElement;\n                    }\n                }\n                else {\n                    this.deleteRangeElement = this.getRangeElement(liElement);\n                }\n            }\n            else if (this.deleteRangeElement.nodeType === 3 || (this.deleteRangeElement.tagName === 'TABLE' ||\n                (!isNullOrUndefined(this.deleteRangeElement.nextElementSibling) && this.deleteRangeElement.nextElementSibling.tagName === 'TABLE'))) {\n                return;\n            }\n            if (this.getCaretIndex(currentRange, this.deleteRangeElement) === this.deleteRangeElement.textContent.length) {\n                if (!isNullOrUndefined(liElement)) {\n                    if (isLiElement || !isNullOrUndefined(liElement.nextElementSibling)) {\n                        this.deleteOldRangeElement = this.getRangeElement(liElement.nextElementSibling);\n                    }\n                    else {\n                        this.deleteOldRangeElement = rootElement.nextElementSibling;\n                    }\n                }\n                else {\n                    this.deleteOldRangeElement = this.deleteRangeElement.nextElementSibling;\n                }\n                if (isNullOrUndefined(this.deleteOldRangeElement)) {\n                    return;\n                }\n                else {\n                    if (currentRange.startOffset === 0 && currentRange.endOffset === 1 &&\n                        this.deleteRangeElement.childNodes[0].nodeName === 'IMG') {\n                        this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement, 0, 1);\n                        this.isImageDelete = true;\n                    }\n                    else {\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement.childNodes.length);\n                        this.isImageDelete = false;\n                    }\n                    if (this.deleteRangeElement.querySelector('BR')) {\n                        detach(this.deleteRangeElement.querySelector('BR'));\n                    }\n                    if (!isNullOrUndefined(this.deleteRangeElement) && (this.deleteOldRangeElement.tagName !== 'OL' && this.deleteOldRangeElement.tagName !== 'UL')\n                        && this.deleteOldRangeElement !== this.deleteRangeElement) {\n                        while (this.deleteOldRangeElement.firstChild) {\n                            this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);\n                        }\n                        if (!isLiElement) {\n                            detach(this.deleteOldRangeElement);\n                        }\n                        else {\n                            detach(this.deleteOldRangeElement.parentElement);\n                        }\n                        this.deleteRangeElement.normalize();\n                    }\n                    else {\n                        this.deleteRangeElement = null;\n                        this.deleteOldRangeElement = null;\n                    }\n                }\n            }\n            else {\n                this.deleteRangeElement = null;\n            }\n        }\n    };\n    HtmlEditor.prototype.getCaretIndex = function (currentRange, element) {\n        var position = 0;\n        if (this.parent.contentModule.getDocument().getSelection().rangeCount !== 0) {\n            var preCaretRange = currentRange.cloneRange();\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(currentRange.endContainer, currentRange.endOffset);\n            position = preCaretRange.toString().length;\n        }\n        return position;\n    };\n    HtmlEditor.prototype.getRangeElement = function (element) {\n        var rangeElement = element.lastElementChild ? element.lastElementChild.tagName === 'BR' ?\n            element.lastElementChild.previousElementSibling ? element.lastElementChild.previousElementSibling\n                : element : element.lastElementChild : element;\n        return rangeElement;\n    };\n    HtmlEditor.prototype.getRootBlockNode = function (rangeBlockNode) {\n        // eslint-disable-next-line\n        for (; rangeBlockNode && this.parent && this.parent.inputElement !== rangeBlockNode; rangeBlockNode = rangeBlockNode) {\n            if (rangeBlockNode.parentElement === this.parent.inputElement) {\n                break;\n            }\n            else {\n                rangeBlockNode = rangeBlockNode.parentElement;\n            }\n        }\n        return rangeBlockNode;\n    };\n    HtmlEditor.prototype.getRangeLiNode = function (rangeLiNode) {\n        var node = rangeLiNode.parentElement;\n        while (node !== this.parent.inputElement) {\n            if (node.nodeType === 1 && node.tagName === 'LI') {\n                break;\n            }\n            node = node.parentElement;\n        }\n        return node;\n    };\n    HtmlEditor.prototype.onPaste = function (e) {\n        // eslint-disable-next-line\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (e.text.match(regex)) {\n            if (e.isWordPaste) {\n                return;\n            }\n            e.args.preventDefault();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var saveSelection = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var httpRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)))/gi);\n            var wwwRegex = new RegExp(/([^\\S]|^)(((www\\.))(\\S+))/gi);\n            var enterSplitText = e.text.split('\\n');\n            var contentInnerElem = '';\n            for (var i = 0; i < enterSplitText.length; i++) {\n                if (enterSplitText[i].trim() === '') {\n                    contentInnerElem += getDefaultValue(this.parent);\n                }\n                else {\n                    var contentWithSpace = '';\n                    var spaceBetweenContent = true;\n                    var spaceSplit = enterSplitText[i].split(' ');\n                    for (var j = 0; j < spaceSplit.length; j++) {\n                        if (spaceSplit[j].trim() === '') {\n                            contentWithSpace += spaceBetweenContent ? '&nbsp;' : ' ';\n                        }\n                        else {\n                            spaceBetweenContent = false;\n                            contentWithSpace += spaceSplit[j] + ' ';\n                        }\n                    }\n                    if (i === 0) {\n                        contentInnerElem += '<span>' + contentWithSpace.trim() + '</span>';\n                    }\n                    else {\n                        contentInnerElem += '<p>' + contentWithSpace.trim() + '</p>';\n                    }\n                }\n            }\n            var divElement = this.parent.createElement('div');\n            divElement.setAttribute('class', 'pasteContent');\n            divElement.style.display = 'inline';\n            divElement.innerHTML = contentInnerElem.replace('&para', '&amp;para');\n            var paraElem = divElement.querySelectorAll('span, p');\n            for (var i = 0; i < paraElem.length; i++) {\n                var splitTextContent = paraElem[i].innerHTML.split(' ');\n                var resultSplitContent = '';\n                for (var j = 0; j < splitTextContent.length; j++) {\n                    if (splitTextContent[j].match(httpRegex) || splitTextContent[j].match(wwwRegex)) {\n                        resultSplitContent += '<a className=\"e-rte-anchor\" href=\"' + splitTextContent[j] +\n                            '\" title=\"' + splitTextContent[j] + '\"target=\"_blank\">' + splitTextContent[j] + ' </a>';\n                    }\n                    else {\n                        resultSplitContent += splitTextContent[j] + ' ';\n                    }\n                }\n                paraElem[i].innerHTML = resultSplitContent.trim();\n            }\n            if (!isNullOrUndefined(this.parent.pasteCleanupModule)) {\n                e.callBack(divElement.innerHTML);\n            }\n            else {\n                this.parent.formatter.editorManager.execCommand('insertHTML', null, null, null, divElement);\n            }\n        }\n    };\n    HtmlEditor.prototype.spaceLink = function (e) {\n        var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n        var selectNodeEle = this.nodeSelectionObj.getParentNodeCollection(range);\n        var text = range.startContainer.textContent.substr(0, range.endOffset);\n        var splitText = text.split(' ');\n        var urlText = splitText[splitText.length - 1];\n        var urlTextRange = range.startOffset - (text.length - splitText[splitText.length - 1].length);\n        urlText = urlText.slice(0, urlTextRange);\n        // eslint-disable-next-line\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (selectNodeEle[0].nodeName !== 'A' && urlText.match(regex)) {\n            var selection = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n            var url = urlText.indexOf('http') > -1 ? urlText : 'http://' + urlText;\n            var selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var value = {\n                url: url,\n                selection: selection, selectParent: selectParent,\n                text: urlText,\n                title: '',\n                target: '_blank'\n            };\n            this.parent.formatter.process(this.parent, {\n                item: {\n                    'command': 'Links',\n                    'subCommand': 'CreateLink'\n                }\n            }, e, value);\n        }\n    };\n    HtmlEditor.prototype.onToolbarClick = function (args) {\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        var item = args.item;\n        var closestElement = closest(args.originalEvent.target, '.e-rte-quick-popup');\n        if (closestElement && !closestElement.classList.contains('e-rte-inline-popup')) {\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                if (isIDevice() && item.command === 'Images') {\n                    this.nodeSelectionObj.restore();\n                }\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            if (item.command === 'Images') {\n                this.parent.notify(events.imageToolbarAction, {\n                    member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Links') {\n                this.parent.notify(events.linkToolbarAction, {\n                    member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Table') {\n                this.parent.notify(events.tableToolbarAction, {\n                    member: 'table', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n        }\n        else {\n            var linkDialog = document.getElementById(this.parent.getID() + '_rtelink');\n            var imageDialog = document.getElementById(this.parent.getID() + '_image');\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                if (isNullOrUndefined(linkDialog) && isNullOrUndefined(imageDialog)) {\n                    save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                }\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            switch (item.subCommand) {\n                case 'Maximize':\n                    this.parent.notify(events.enableFullScreen, { args: args });\n                    break;\n                case 'Minimize':\n                    this.parent.notify(events.disableFullScreen, { args: args });\n                    break;\n                case 'CreateLink':\n                    this.parent.notify(events.insertLink, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'RemoveLink':\n                    this.parent.notify(events.unLink, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'Print':\n                    this.parent.print();\n                    break;\n                case 'Image':\n                    this.parent.notify(events.insertImage, {\n                        member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'CreateTable':\n                    this.parent.notify(events.createTable, {\n                        member: 'table', args: args, selection: save\n                    });\n                    break;\n                case 'SourceCode':\n                    this.parent.notify(events.sourceCode, { member: 'viewSource', args: args });\n                    break;\n                case 'Preview':\n                    this.parent.notify(events.updateSource, { member: 'updateSource', args: args });\n                    break;\n                case 'FontColor':\n                case 'BackgroundColor':\n                    break;\n                case 'File':\n                    this.parent.notify(events.renderFileManager, {\n                        member: 'fileManager', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                default:\n                    this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n                    break;\n            }\n        }\n    };\n    HtmlEditor.prototype.renderColorPicker = function (args) {\n        this.colorPickerModule.renderColorPickerInput(args);\n    };\n    HtmlEditor.prototype.instantiateRenderer = function () {\n        if (this.parent.iframeSettings.enable) {\n            this.renderFactory.addRenderer(RenderType.Content, new IframeContentRender(this.parent, this.locator));\n        }\n        else {\n            this.renderFactory.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        }\n    };\n    HtmlEditor.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.htmlToolbarClick, this.onToolbarClick);\n        this.parent.off(events.renderColorPicker, this.renderColorPicker);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.initialLoad, this.instantiateRenderer);\n        this.parent.off(events.selectAll, this.selectAll);\n        this.parent.off(events.selectRange, this.selectRange);\n        this.parent.off(events.getSelectedHtml, this.getSelectedHtml);\n        this.parent.off(events.selectionSave, this.onSelectionSave);\n        this.parent.off(events.selectionRestore, this.onSelectionRestore);\n        this.parent.off(events.readOnlyMode, this.updateReadOnly);\n        this.parent.off(events.paste, this.onPaste);\n    };\n    HtmlEditor.prototype.render = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        var editElement = this.contentRenderer.getEditPanel();\n        var option = { undoRedoSteps: this.parent.undoRedoSteps, undoRedoTimer: this.parent.undoRedoTimer };\n        if (isNullOrUndefined(this.parent.formatter)) {\n            var formatterClass = new HTMLFormatter({\n                currentDocument: this.contentRenderer.getDocument(),\n                element: editElement,\n                options: option\n            });\n            this.parent.setProperties({ formatter: formatterClass }, true);\n        }\n        else {\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n        if (this.parent.enableXhtml) {\n            this.parent.notify(events.xhtmlValidation, {});\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.toolbarUpdate = new HtmlToolbarStatus(this.parent);\n        }\n        if (this.parent.inlineMode.enable) {\n            if (!isNullOrUndefined(this.parent.fontFamily.default)) {\n                editElement.style.fontFamily = this.parent.fontFamily.default;\n            }\n            if (!isNullOrUndefined(this.parent.fontSize.default)) {\n                editElement.style.fontSize = this.parent.fontSize.default;\n            }\n        }\n        this.parent.notify(events.bindOnEnd, {});\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the editor model\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.onPropertyChanged = function (e) {\n        // On property code change here\n        if (!isNullOrUndefined(e.newProp.formatter)) {\n            var editElement = this.contentRenderer.getEditPanel();\n            var option = { undoRedoSteps: this.parent.undoRedoSteps,\n                undoRedoTimer: this.parent.undoRedoTimer };\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     * @hidden\n     */\n    HtmlEditor.prototype.getModuleName = function () {\n        return 'htmlEditor';\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectAll = function () {\n        var nodes = getTextNodesUnder(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel());\n        if (nodes.length > 0) {\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), nodes[0], nodes[nodes.length - 1], 0, nodes[nodes.length - 1].textContent.length);\n        }\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectRange = function (e) {\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(), e.range);\n    };\n    /**\n     * For get a selected text in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @hidden\n     */\n    HtmlEditor.prototype.getSelectedHtml = function (e) {\n        e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString());\n    };\n    return HtmlEditor;\n}());\nexport { HtmlEditor };\n","import { detach, getUniqueID, append, closest, selectAll, select, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, Browser, isNullOrUndefined, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isCollide } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ColorPickerInput } from './color-picker';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar BaseQuickToolbar = /** @class */ (function () {\n    function BaseQuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.isDOMElement = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.popupRenderer = this.renderFactory.getRenderer(RenderType.Popup);\n        this.dropDownButtons = new DropDownButtons(this.parent, this.locator);\n        this.colorPickerObj = new ColorPickerInput(this.parent, this.locator);\n    }\n    BaseQuickToolbar.prototype.appendPopupContent = function () {\n        this.toolbarElement = this.parent.createElement('div', { className: classes.CLS_QUICK_TB });\n        this.element.appendChild(this.toolbarElement);\n    };\n    /**\n     * render method\n     *\n     * @param {IQuickToolbarOptions} args - specifies the arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.render = function (args) {\n        var className;\n        if (args.popupType === 'Image') {\n            className = classes.CLS_IMAGE_POP;\n        }\n        else if (args.popupType === 'Inline') {\n            className = classes.CLS_INLINE_POP;\n        }\n        else {\n            className = '';\n        }\n        var popupId = getUniqueID(args.popupType + '_Quick_Popup');\n        this.stringItems = args.toolbarItems;\n        this.element = this.parent.createElement('div', { id: popupId, className: className + ' ' + classes.CLS_RTE_ELEMENTS });\n        this.element.setAttribute('aria-owns', this.parent.getID());\n        this.appendPopupContent();\n        this.createToolbar(args.toolbarItems, args.mode, args.cssClass);\n        this.popupRenderer.renderPopup(this);\n        this.addEventListener();\n    };\n    BaseQuickToolbar.prototype.createToolbar = function (items, mode, cssClass) {\n        this.quickTBarObj = new BaseToolbar(this.parent, this.locator);\n        this.quickTBarObj.render({\n            container: 'quick',\n            target: this.toolbarElement,\n            items: items,\n            mode: mode,\n            cssClass: cssClass\n        });\n        this.quickTBarObj.toolbarObj.refresh();\n    };\n    BaseQuickToolbar.prototype.setPosition = function (e) {\n        var x;\n        var y;\n        var imgWrapper = closest(e.target, '.e-img-caption');\n        var target = !isNOU(imgWrapper) ? imgWrapper : e.target;\n        addClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n        var targetOffsetTop = target.offsetTop;\n        var parentOffsetTop = window.pageYOffset + e.parentData.top;\n        if ((targetOffsetTop - e.editTop) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) - e.popHeight - 5;\n        }\n        else if (((e.editTop + e.editHeight) - (targetOffsetTop + target.offsetHeight)) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) + target.offsetHeight + 5;\n        }\n        else {\n            y = e.y;\n        }\n        if (target.offsetWidth > e.popWidth) {\n            x = (target.offsetWidth / 2) - (e.popWidth / 2) + e.parentData.left + target.offsetLeft;\n        }\n        else {\n            x = e.parentData.left + target.offsetLeft;\n        }\n        this.popupObj.position.X = ((x + e.popWidth) > e.parentData.right) ? e.parentData.right - e.popWidth : x;\n        this.popupObj.position.Y = (y >= 0) ? y : e.y + 5;\n        this.popupObj.dataBind();\n        removeClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n    };\n    BaseQuickToolbar.prototype.checkCollision = function (e, viewPort, type) {\n        var x;\n        var y;\n        var parentTop = e.parentData.top;\n        var contentTop = e.windowY + parentTop + e.tBarElementHeight;\n        var collision = [];\n        if (viewPort === 'document') {\n            collision = isCollide(e.popup);\n        }\n        else {\n            collision = isCollide(e.popup, e.parentElement);\n        }\n        for (var i = 0; i < collision.length; i++) {\n            switch (collision[i]) {\n                case 'top':\n                    if (viewPort === 'document') {\n                        y = e.windowY;\n                    }\n                    else {\n                        y = (window.pageYOffset + parentTop) + e.tBarElementHeight;\n                    }\n                    break;\n                case 'bottom': {\n                    var posY = void 0;\n                    if (viewPort === 'document') {\n                        if (type === 'inline') {\n                            posY = (e.y - e.popHeight - 10);\n                        }\n                        else {\n                            if ((e.windowHeight - (parentTop + e.tBarElementHeight)) > e.popHeight) {\n                                if ((contentTop - e.windowHeight) > e.popHeight) {\n                                    posY = (contentTop + (e.windowHeight - parentTop)) - e.popHeight;\n                                }\n                                else {\n                                    posY = contentTop;\n                                }\n                            }\n                            else {\n                                posY = e.windowY + (parentTop + e.tBarElementHeight);\n                            }\n                        }\n                    }\n                    else {\n                        if (e.target.tagName !== 'IMG') {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 10;\n                        }\n                        else {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 5;\n                        }\n                    }\n                    y = posY;\n                    break;\n                }\n                case 'right':\n                    if (type === 'inline') {\n                        x = window.pageXOffset + (e.windowWidth - (e.popWidth + e.bodyRightSpace + 10));\n                    }\n                    else {\n                        x = e.x - e.popWidth;\n                    }\n                    break;\n                case 'left':\n                    if (type === 'inline') {\n                        x = 0;\n                    }\n                    else {\n                        x = e.parentData.left;\n                    }\n                    break;\n            }\n        }\n        this.popupObj.position.X = (x) ? x : this.popupObj.position.X;\n        this.popupObj.position.Y = (y) ? y : this.popupObj.position.Y;\n        this.popupObj.dataBind();\n    };\n    /**\n     * showPopup method\n     *\n     * @param {number} x - specifies the x value\n     * @param {number} y - specifies the y value\n     * @param {Element} target - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.showPopup = function (x, y, target) {\n        var _this = this;\n        var eventArgs = { popup: this.popupObj, cancel: false, targetElement: target };\n        this.parent.trigger(events.beforeQuickToolbarOpen, eventArgs, function (beforeQuickToolbarArgs) {\n            if (!beforeQuickToolbarArgs.cancel) {\n                var editPanelTop = void 0;\n                var editPanelHeight = void 0;\n                var bodyStyle = window.getComputedStyle(document.body);\n                var bodyRight = parseFloat(bodyStyle.marginRight.split('px')[0]) + parseFloat(bodyStyle.paddingRight.split('px')[0]);\n                var windowHeight = window.innerHeight;\n                var windowWidth = window.innerWidth;\n                var parent_1 = _this.parent.element;\n                var toolbarAvail = !isNullOrUndefined(_this.parent.getToolbar());\n                var tbHeight = toolbarAvail && _this.parent.toolbarModule.getToolbarHeight();\n                var expTBHeight = toolbarAvail && _this.parent.toolbarModule.getExpandTBarPopHeight();\n                var tBarHeight = (toolbarAvail) ? (tbHeight + expTBHeight) : 0;\n                addClass([_this.element], [classes.CLS_HIDE]);\n                if (Browser.isDevice && !isIDevice()) {\n                    addClass([_this.parent.getToolbar()], [classes.CLS_HIDE]);\n                }\n                if (_this.parent.iframeSettings.enable) {\n                    var cntEle = _this.contentRenderer.getPanel().contentWindow;\n                    editPanelTop = cntEle.pageYOffset;\n                    editPanelHeight = cntEle.innerHeight;\n                }\n                else {\n                    var cntEle = closest(target, '.' + classes.CLS_RTE_CONTENT);\n                    editPanelTop = (cntEle) ? cntEle.scrollTop : 0;\n                    editPanelHeight = (cntEle) ? cntEle.offsetHeight : 0;\n                }\n                if (!_this.parent.inlineMode.enable && !closest(target, 'table')) {\n                    _this.parent.disableToolbarItem(_this.parent.toolbarSettings.items);\n                    _this.parent.enableToolbarItem(['Undo', 'Redo']);\n                }\n                append([_this.element], document.body);\n                _this.popupObj.position.X = x + 20;\n                _this.popupObj.position.Y = y + 20;\n                _this.popupObj.dataBind();\n                _this.popupObj.element.classList.add('e-popup-open');\n                _this.dropDownButtons.renderDropDowns({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                _this.colorPickerObj.renderColorPickerInput({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                var showPopupData = {\n                    x: x, y: y,\n                    target: target,\n                    editTop: editPanelTop,\n                    editHeight: editPanelHeight,\n                    popup: _this.popupObj.element,\n                    popHeight: _this.popupObj.element.offsetHeight,\n                    popWidth: _this.popupObj.element.offsetWidth,\n                    parentElement: parent_1,\n                    bodyRightSpace: bodyRight,\n                    windowY: window.pageYOffset,\n                    windowHeight: windowHeight,\n                    windowWidth: windowWidth,\n                    parentData: parent_1.getBoundingClientRect(),\n                    tBarElementHeight: tBarHeight\n                };\n                if (target.tagName === 'IMG') {\n                    _this.setPosition(showPopupData);\n                }\n                if (!_this.parent.inlineMode.enable) {\n                    _this.checkCollision(showPopupData, 'parent', '');\n                }\n                _this.checkCollision(showPopupData, 'document', ((_this.parent.inlineMode.enable) ? 'inline' : ''));\n                _this.popupObj.element.classList.remove('e-popup-open');\n                removeClass([_this.element], [classes.CLS_HIDE]);\n                _this.popupObj.show({ name: 'ZoomIn', duration: (Browser.isIE ? 250 : 400) });\n                if (_this.popupObj && _this.parent.cssClass) {\n                    removeClass([_this.popupObj.element], _this.parent.cssClass);\n                    addClass([_this.popupObj.element], _this.parent.cssClass);\n                }\n                setStyleAttribute(_this.element, {\n                    maxWidth: window.outerWidth + 'px'\n                });\n                addClass([_this.element], [classes.CLS_POP]);\n                _this.isDOMElement = true;\n            }\n        });\n    };\n    /**\n     * hidePopup method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.hidePopup = function () {\n        var viewSourcePanel = this.parent.sourceCodeModule.getViewPanel();\n        if (Browser.isDevice && !isIDevice()) {\n            removeClass([this.parent.getToolbar()], [classes.CLS_HIDE]);\n        }\n        if (!isNullOrUndefined(this.parent.getToolbar()) && !this.parent.inlineMode.enable) {\n            if (isNullOrUndefined(viewSourcePanel) || viewSourcePanel.style.display === 'none') {\n                this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n            }\n        }\n        this.removeEleFromDOM();\n        this.isDOMElement = false;\n    };\n    /**\n     * @param {string} item - specifies the string value\n     * @param {number} index - specifies the index value\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addQTBarItem = function (item, index) {\n        this.quickTBarObj.toolbarObj.addItems(this.quickTBarObj.getItems(item, 'toolbar'), index);\n    };\n    /**\n     * @param {number} index - specifies the index value\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeQTBarItem = function (index) {\n        this.quickTBarObj.toolbarObj.removeItems(index);\n    };\n    BaseQuickToolbar.prototype.removeEleFromDOM = function () {\n        var element = this.popupObj.element;\n        if (this.isDOMElement) {\n            this.dropDownButtons.destroyDropDowns();\n            this.colorPickerObj.destroyColorPicker();\n            removeClass([this.element], [classes.CLS_POP]);\n            detach(element);\n            var args = this.popupObj;\n            this.parent.trigger(events.quickToolbarClose, args);\n        }\n    };\n    BaseQuickToolbar.prototype.updateStatus = function (args) {\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownButtons,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.element),\n            tbItems: this.quickTBarObj.toolbarObj.items\n        };\n        setToolbarStatus(options, true, this.parent);\n        if (!select('.e-rte-srctextarea', this.parent.element)) {\n            updateUndoRedoStatus(this.parent.getBaseToolbarObject(), this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * Destroys the Quick toolbar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.destroy = function () {\n        if (this.popupObj && !this.popupObj.isDestroyed) {\n            this.popupObj.destroy();\n            this.removeEleFromDOM();\n        }\n        this.removeEventListener();\n    };\n    /**\n     * addEventListener method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.inlineMode.enable) {\n            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the model element\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        if (e.newProp.inlineMode.enable) {\n                            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n                        }\n                        else {\n                            this.parent.off(events.toolbarUpdated, this.updateStatus);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * removeEventListener method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.inlineMode.enable) {\n            this.parent.off(events.toolbarUpdated, this.updateStatus);\n        }\n    };\n    return BaseQuickToolbar;\n}());\nexport { BaseQuickToolbar };\n","import { Popup } from '@syncfusion/ej2-popups';\nimport { CLS_QUICK_POP } from '../base/classes';\nimport * as events from '../base/constant';\n/**\n * `Popup renderer` module is used to render popup in RichTextEditor.\n *\n * @hidden\n\n */\nvar PopupRenderer = /** @class */ (function () {\n    /**\n     * Constructor for popup renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent.\n     */\n    function PopupRenderer(parent) {\n        this.parent = parent;\n    }\n    PopupRenderer.prototype.quickToolbarOpen = function () {\n        var args = this.popupObj;\n        this.parent.trigger(events.quickToolbarOpen, args);\n    };\n    /**\n     * renderPopup method\n     *\n     * @param {BaseQuickToolbar} args - specifies  the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPopup = function (args) {\n        this.setPanel(args.element);\n        this.renderPanel();\n        args.popupObj = new Popup(args.element, {\n            targetType: 'relative',\n            relateTo: this.parent.element,\n            open: this.quickToolbarOpen.bind(this)\n        });\n        this.popupObj = args.popupObj;\n        args.popupObj.hide();\n    };\n    /**\n     * The function is used to add popup class in Quick Toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_QUICK_POP);\n    };\n    /**\n     * Get the popup element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element\n     * @hidden\n\n     */\n    PopupRenderer.prototype.getPanel = function () {\n        return this.popupPanel;\n    };\n    /**\n     * Set the popup element of RichTextEditor\n     *\n     * @returns {void}\n     * @param  {Element} panel - specifies the element\n     * @hidden\n\n     */\n    PopupRenderer.prototype.setPanel = function (panel) {\n        this.popupPanel = panel;\n    };\n    return PopupRenderer;\n}());\nexport { PopupRenderer };\n","import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */ (function () {\n    function QuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n        this.addEventListener();\n    }\n    QuickToolbar.prototype.formatItems = function (items) {\n        var formattedItems = [];\n        items.forEach(function (item) {\n            if (typeof item === 'string') {\n                switch (item.toLocaleLowerCase()) {\n                    case 'open':\n                        formattedItems.push('openLink');\n                        break;\n                    case 'edit':\n                        formattedItems.push('editLink');\n                        break;\n                    case 'unlink':\n                        formattedItems.push('removeLink');\n                        break;\n                    default:\n                        formattedItems.push(item);\n                        break;\n                }\n            }\n            else {\n                formattedItems.push(item);\n            }\n        });\n        return formattedItems;\n    };\n    QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n        return {\n            popupType: popType,\n            toolbarItems: items,\n            mode: mode,\n            renderType: type,\n            cssClass: this.parent.cssClass\n        };\n    };\n    /**\n     * createQTBar method\n     *\n     * @param {string} popupType - specifies the string value\n     * @param {string} mode - specifies the string value.\n     * @param {string} items - specifies the string.\n     * @param {RenderType} type - specifies the render type.\n     * @returns {BaseQuickToolbar} - specifies the quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n        if (items.length < 1) {\n            return null;\n        }\n        var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n        qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n        return qTBar;\n    };\n    QuickToolbar.prototype.initializeQuickToolbars = function () {\n        this.parent.quickToolbarModule = this;\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n            EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n        }\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.onMouseDown = function (e) {\n        this.parent.isBlur = false;\n        this.parent.isRTE = true;\n    };\n    QuickToolbar.prototype.keyUpQT = function (e) {\n        if (e.which == 27) {\n            this.hideQuickToolbars();\n        }\n    };\n    QuickToolbar.prototype.renderQuickToolbars = function () {\n        if (this.linkQTBar || this.imageQTBar || this.textQTBar || this.tableQTBar) {\n            return;\n        }\n        this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n        this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n        this.textQTBar = this.createQTBar('Text', 'Scrollable', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n        this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n        this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n        this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n        this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n        if (this.linkQTBar) {\n            EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.imageQTBar) {\n            EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.textQTBar) {\n            EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.tableQTBar) {\n            EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n            this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n            EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    /**\n     * Method for showing the inline quick toolbar\n     *\n     * @param {number} x -specifies the value of x.\n     * @param {number} y - specifies the y valu.\n     * @param {HTMLElement} target - specifies the target element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n        if (this.parent.readonly || target.tagName.toLowerCase() === \"img\") {\n            return;\n        }\n        this.inlineQTBar.showPopup(x, y, target);\n    };\n    /**\n     * Method for hidding the inline quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideInlineQTBar = function () {\n        if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n            this.inlineQTBar.hidePopup();\n        }\n    };\n    /**\n     * Method for hidding the quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideQuickToolbars = function () {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n            this.textQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n            this.tableQTBar.hidePopup();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.deBounce = function (x, y, target) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.showInlineQTBar(x, y, target);\n        }, 1000);\n    };\n    QuickToolbar.prototype.mouseUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            var args = e.args.touches ?\n                e.args.changedTouches[0] : e.args;\n            var range = this.parent.getRange();\n            var target = e.args.target;\n            if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n                if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX\n                    && e.touchData.prevClientY !== e.touchData.clientY) {\n                    return;\n                }\n                this.hideInlineQTBar();\n                var parentLeft = this.parent.element.getBoundingClientRect().left;\n                this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n                if (target.nodeName === 'TEXTAREA') {\n                    this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                }\n                else {\n                    var closestAnchor = closest(target, 'a');\n                    target = closestAnchor ? closestAnchor : target;\n                    var startNode = this.parent.getRange().startContainer.parentElement;\n                    var endNode = this.parent.getRange().endContainer.parentElement;\n                    if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) &&\n                        (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n                        if (this.parent.inlineMode.onSelection && range.collapsed) {\n                            return;\n                        }\n                        this.target = target;\n                        this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                    }\n                }\n            }\n        }\n    };\n    QuickToolbar.prototype.keyDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.keyUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && !Browser.isDevice) {\n            if (this.parent.inlineMode.onSelection) {\n                return;\n            }\n            var args = e.args;\n            this.deBounce(this.offsetX, this.offsetY, args.target);\n        }\n    };\n    QuickToolbar.prototype.selectionChangeHandler = function (e) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.onSelectionChange(e);\n        }, 1000);\n    };\n    QuickToolbar.prototype.onSelectionChange = function (e) {\n        if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n            return;\n        }\n        var selection = this.contentRenderer.getDocument().getSelection();\n        if (!selection.isCollapsed) {\n            this.mouseUpHandler({ args: e });\n        }\n    };\n    /**\n     * getInlineBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.getInlineBaseToolbar = function () {\n        return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.destroy = function () {\n        if (this.linkQTBar) {\n            EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n            this.linkQTBar.destroy();\n        }\n        if (this.textQTBar) {\n            EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n            this.textQTBar.destroy();\n        }\n        if (this.imageQTBar) {\n            EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n            this.imageQTBar.destroy();\n        }\n        if (this.tableQTBar) {\n            EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n            this.tableQTBar.destroy();\n        }\n        if (this.inlineQTBar) {\n            EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n            if (isIDevice()) {\n                EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n            }\n            this.inlineQTBar.destroy();\n        }\n        this.removeEventListener();\n    };\n    QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n        this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n        this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n        this.parent.on(events.keyDown, this.keyDownHandler, this);\n        this.parent.on(events.keyUp, this.keyUpHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n        this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n    };\n    QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n        this.parent.off(events.mouseUp, this.mouseUpHandler);\n        this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n        this.parent.off(events.keyDown, this.keyDownHandler);\n        this.parent.off(events.keyUp, this.keyUpHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n        this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.toolbarUpdated = function (args) {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n            this.tableQTBar.hidePopup();\n        }\n    };\n    /**\n     * addEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n        this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n        this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n        this.parent.on(events.drop, this.renderQuickToolbars, this);\n        this.wireInlineQTBarEvents();\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n        }\n        this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.bindCssClass, this.setCssClass, this);\n    };\n    QuickToolbar.prototype.onKeyDown = function (e) {\n        var args = e.args;\n        if (args.which === 8 || args.which === 46) {\n            if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n                this.imageQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.onIframeMouseDown = function () {\n        this.hideQuickToolbars();\n        this.hideInlineQTBar();\n    };\n    QuickToolbar.prototype.updateCss = function (baseQTObj, e) {\n        if (baseQTObj && e.cssClass) {\n            if (isNullOrUndefined(e.oldCssClass && baseQTObj.quickTBarObj.toolbarObj.cssClass !== e.cssClass)) {\n                baseQTObj.quickTBarObj.toolbarObj.setProperties({ cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass + ' ' + e.cssClass).trim() });\n            }\n            else {\n                baseQTObj.quickTBarObj.toolbarObj.setProperties({ cssClass: (baseQTObj.quickTBarObj.toolbarObj.cssClass.replace(e.oldCssClass, '').trim() + ' ' + e.cssClass).trim() });\n            }\n        }\n    };\n    QuickToolbar.prototype.setCssClass = function (e) {\n        var baseQuickToolbarObj = [\n            this.inlineQTBar, this.imageQTBar, this.linkQTBar, this.textQTBar, this.tableQTBar\n        ];\n        for (var i = 0; i < baseQuickToolbarObj.length; i++) {\n            this.updateCss(baseQuickToolbarObj[i], e);\n        }\n    };\n    QuickToolbar.prototype.setRtl = function (args) {\n        if (this.inlineQTBar) {\n            this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.linkQTBar) {\n            this.linkQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    /**\n     * removeEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n        this.parent.off(events.mouseDown, this.renderQuickToolbars);\n        this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n        this.parent.off(events.drop, this.renderQuickToolbars);\n        this.unWireInlineQTBarEvents();\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.off(events.scroll, this.hideQuickToolbars);\n            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n        }\n        this.parent.off(events.focusChange, this.hideQuickToolbars);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.bindCssClass, this.setCssClass);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'actionOnScroll':\n                        if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n                            this.parent.off(events.scroll, this.hideQuickToolbars);\n                            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n                        }\n                        else {\n                            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n                            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n                        }\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.inlineQTBar) {\n            removeClass([this.parent.element], [CLS_INLINE]);\n            this.unWireInlineQTBarEvents();\n            this.hideInlineQTBar();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.wireInlineQTBarEvents();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    QuickToolbar.prototype.getModuleName = function () {\n        return 'quickToolbar';\n    };\n    return QuickToolbar;\n}());\nexport { QuickToolbar };\n","<template>\n<div>\n  <h3 class=\"mb-8\">{{$t(input.label)}}</h3>\n   <ejs-richtexteditor @change=\"change\" ref=\"defaultRTE\" :height=\"400\">\n        <div v-html=\"initial\"></div>\n    </ejs-richtexteditor>\n</div>\n</template>\n\n\n\n<script>\nimport {bus} from '@/main'\nimport { Toolbar, Link, Image, Count, HtmlEditor, QuickToolbar } from \"@syncfusion/ej2-vue-richtexteditor\";\n    import Vue from \"vue\";\n    export default Vue.extend({\n        props:['input' , 'initial'],\n        provide: {\n          richtexteditor:[Toolbar, Link, Image, Count, HtmlEditor, QuickToolbar]\n        },\n        methods:{\n          change(val){\n             bus.$emit(\"changeFormStateKey\", {key: this.input.name, value : val.value});\n            console.log(val.value)\n            // var rteValue = this.$refs.rteObj.ej2Instances.value;\n            this.$emit('input' , val.value)\n          }\n        },\n        watch:{\n          \"$refs.rteObj.ej2Instances.value\":(val) => {\n            console.log(val)\n          }\n        }\n    })\n</script>\n\n<style>\n@import \"../../../scss/components/rich.css\";\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rich.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rich.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rich.vue?vue&type=template&id=8073095a&\"\nimport script from \"./rich.vue?vue&type=script&lang=js&\"\nexport * from \"./rich.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rich.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rich.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"lazy\":\"\",\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"max-width\":\"290px\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"label\":_vm.$t(_vm.input.label),\"prepend-icon\":\"mdi-calendar-blank-outline\",\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"readonly\":\"\",\"clearable\":!_vm.input.required,\"outlined\":\"\"},on:{\"input\":_vm.change},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},on))]}}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('v-date-picker',{attrs:{\"locale\":\"en-in\",\"color\":\"primary\",\"type\":_vm.input.limit,\"no-title\":\"\"},on:{\"change\":_vm.change}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Date.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Date.vue?vue&type=script&lang=ts&\"","// Mixins\nimport Colorable from '../colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { kebabCase } from '../../util/helpers'\n\n// Types\nimport { VNodeChildren } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable\n).extend({\n  methods: {\n    genPickerButton (\n      prop: string,\n      value: any,\n      content: VNodeChildren,\n      readonly = false,\n      staticClass = ''\n    ) {\n      const active = (this as any)[prop] === value\n      const click = (event: Event) => {\n        event.stopPropagation()\n        this.$emit(`update:${kebabCase(prop)}`, value)\n      }\n\n      return this.$createElement('div', {\n        staticClass: `v-picker__title__btn ${staticClass}`.trim(),\n        class: {\n          'v-picker__title__btn--active': active,\n          'v-picker__title__btn--readonly': readonly,\n        },\n        on: (active || readonly) ? undefined : { click },\n      }, Array.isArray(content) ? content : [content])\n    },\n  },\n})\n","import './VDatePickerTitle.sass'\n\n// Components\nimport VIcon from '../VIcon'\n\n// Mixins\nimport PickerButton from '../../mixins/picker-button'\n\n// Utils\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  PickerButton\n/* @vue/component */\n).extend({\n  name: 'v-date-picker-title',\n\n  props: {\n    date: {\n      type: String,\n      default: '',\n    },\n    disabled: Boolean,\n    readonly: Boolean,\n    selectingYear: Boolean,\n    value: {\n      type: String,\n    },\n    year: {\n      type: [Number, String],\n      default: '',\n    },\n    yearIcon: {\n      type: String,\n    },\n  },\n\n  data: () => ({\n    isReversing: false,\n  }),\n\n  computed: {\n    computedTransition (): string {\n      return this.isReversing ? 'picker-reverse-transition' : 'picker-transition'\n    },\n  },\n\n  watch: {\n    value (val: string, prev: string) {\n      this.isReversing = val < prev\n    },\n  },\n\n  methods: {\n    genYearIcon (): VNode {\n      return this.$createElement(VIcon, {\n        props: {\n          dark: true,\n        },\n      }, this.yearIcon)\n    },\n    getYearBtn (): VNode {\n      return this.genPickerButton('selectingYear', true, [\n        String(this.year),\n        this.yearIcon ? this.genYearIcon() : null,\n      ], false, 'v-date-picker-title__year')\n    },\n    genTitleText (): VNode {\n      return this.$createElement('transition', {\n        props: {\n          name: this.computedTransition,\n        },\n      }, [\n        this.$createElement('div', {\n          domProps: { innerHTML: this.date || '&nbsp;' },\n          key: this.value,\n        }),\n      ])\n    },\n    genTitleDate (): VNode {\n      return this.genPickerButton('selectingYear', false, [this.genTitleText()], false, 'v-date-picker-title__date')\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-date-picker-title',\n      class: {\n        'v-date-picker-title--disabled': this.disabled,\n      },\n    }, [\n      this.getYearBtn(),\n      this.genTitleDate(),\n    ])\n  },\n})\n","import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'localable',\n\n  props: {\n    locale: String,\n  },\n\n  computed: {\n    currentLocale (): string {\n      return this.locale || this.$vuetify.lang.current\n    },\n  },\n})\n","const padStart = (string: number | string, targetLength: number, padString: string) => {\n  targetLength = targetLength >> 0\n  string = String(string)\n  padString = String(padString)\n  if (string.length > targetLength) {\n    return String(string)\n  }\n\n  targetLength = targetLength - string.length\n  if (targetLength > padString.length) {\n    padString += padString.repeat(targetLength / padString.length)\n  }\n  return padString.slice(0, targetLength) + String(string)\n}\n\nexport default (n: string | number, length = 2) => padStart(n, length, '0')\n","import pad from './pad'\nimport { DatePickerFormatter } from 'vuetify/types'\n\ninterface SubstrOptions {\n  start?: number\n  length: number\n}\n\nfunction createNativeLocaleFormatter (\n  local: string | undefined,\n  options: Intl.DateTimeFormatOptions\n): DatePickerFormatter | undefined\n\nfunction createNativeLocaleFormatter (\n  local: string | undefined,\n  options: Intl.DateTimeFormatOptions,\n  substrOptions: SubstrOptions\n): DatePickerFormatter\n\nfunction createNativeLocaleFormatter (\n  locale: string | undefined,\n  options: Intl.DateTimeFormatOptions,\n  substrOptions: SubstrOptions = { start: 0, length: 0 }\n): DatePickerFormatter | undefined {\n  const makeIsoString = (dateString: string) => {\n    const [year, month, date] = dateString.trim().split(' ')[0].split('-')\n    return [pad(year, 4), pad(month || 1), pad(date || 1)].join('-')\n  }\n\n  try {\n    const intlFormatter = new Intl.DateTimeFormat(locale || undefined, options)\n    return (dateString: string) => intlFormatter.format(new Date(`${makeIsoString(dateString)}T00:00:00+00:00`))\n  } catch (e) {\n    return (substrOptions.start || substrOptions.length)\n      ? (dateString: string) => makeIsoString(dateString).substr(substrOptions.start || 0, substrOptions.length)\n      : undefined\n  }\n}\n\nexport default createNativeLocaleFormatter\n","import pad from './pad'\n\n/**\n * @param {String} value YYYY-MM format\n * @param {Number} sign -1 or +1\n */\nexport default (value: string, sign: number) => {\n  const [year, month] = value.split('-').map(Number)\n\n  if (month + sign === 0) {\n    return `${year - 1}-12`\n  } else if (month + sign === 13) {\n    return `${year + 1}-01`\n  } else {\n    return `${year}-${pad(month + sign)}`\n  }\n}\n","import './VDatePickerHeader.sass'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Localable from '../../mixins/localable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { createNativeLocaleFormatter, monthChange } from './util'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, PropType } from 'vue'\nimport { DatePickerFormatter } from 'vuetify/types'\n\nexport default mixins(\n  Colorable,\n  Localable,\n  Themeable\n/* @vue/component */\n).extend({\n  name: 'v-date-picker-header',\n\n  props: {\n    disabled: Boolean,\n    format: Function as PropType<DatePickerFormatter | undefined>,\n    min: String,\n    max: String,\n    nextAriaLabel: String,\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    prevAriaLabel: String,\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    readonly: Boolean,\n    value: {\n      type: [Number, String],\n      required: true,\n    },\n  },\n\n  data () {\n    return {\n      isReversing: false,\n    }\n  },\n\n  computed: {\n    formatter (): DatePickerFormatter {\n      if (this.format) {\n        return this.format\n      } else if (String(this.value).split('-')[1]) {\n        return createNativeLocaleFormatter(this.currentLocale, { month: 'long', year: 'numeric', timeZone: 'UTC' }, { length: 7 })\n      } else {\n        return createNativeLocaleFormatter(this.currentLocale, { year: 'numeric', timeZone: 'UTC' }, { length: 4 })\n      }\n    },\n  },\n\n  watch: {\n    value (newVal, oldVal) {\n      this.isReversing = newVal < oldVal\n    },\n  },\n\n  methods: {\n    genBtn (change: number) {\n      const ariaLabelId = change > 0 ? this.nextAriaLabel : this.prevAriaLabel\n      const ariaLabel = ariaLabelId ? this.$vuetify.lang.t(ariaLabelId) : undefined\n      const disabled = this.disabled ||\n        (change < 0 && this.min && this.calculateChange(change) < this.min) ||\n        (change > 0 && this.max && this.calculateChange(change) > this.max)\n\n      return this.$createElement(VBtn, {\n        attrs: { 'aria-label': ariaLabel },\n        props: {\n          dark: this.dark,\n          disabled,\n          icon: true,\n          light: this.light,\n        },\n        on: {\n          click: (e: Event) => {\n            e.stopPropagation()\n            this.$emit('input', this.calculateChange(change))\n          },\n        },\n      }, [\n        this.$createElement(VIcon, ((change < 0) === !this.$vuetify.rtl) ? this.prevIcon : this.nextIcon),\n      ])\n    },\n    calculateChange (sign: number) {\n      const [year, month] = String(this.value).split('-').map(Number)\n\n      if (month == null) {\n        return `${year + sign}`\n      } else {\n        return monthChange(String(this.value), sign)\n      }\n    },\n    genHeader () {\n      const color = !this.disabled && (this.color || 'accent')\n      const header = this.$createElement('div', this.setTextColor(color, {\n        key: String(this.value),\n      }), [this.$createElement('button', {\n        attrs: {\n          type: 'button',\n        },\n        on: {\n          click: () => this.$emit('toggle'),\n        },\n      }, [this.$slots.default || this.formatter(String(this.value))])])\n\n      const transition = this.$createElement('transition', {\n        props: {\n          name: (this.isReversing === !this.$vuetify.rtl) ? 'tab-reverse-transition' : 'tab-transition',\n        },\n      }, [header])\n\n      return this.$createElement('div', {\n        staticClass: 'v-date-picker-header__value',\n        class: {\n          'v-date-picker-header__value--disabled': this.disabled,\n        },\n      }, [transition])\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('div', {\n      staticClass: 'v-date-picker-header',\n      class: {\n        'v-date-picker-header--disabled': this.disabled,\n        ...this.themeClasses,\n      },\n    }, [\n      this.genBtn(-1),\n      this.genHeader(),\n      this.genBtn(+1),\n    ])\n  },\n})\n","import Vue from 'vue'\n\nexport function createItemTypeNativeListeners (instance: Vue, itemTypeSuffix: string, value: any) {\n  return Object.keys(instance.$listeners).reduce((on, eventName) => {\n    if (eventName.endsWith(itemTypeSuffix)) {\n      on[eventName.slice(0, -itemTypeSuffix.length)] = (event: Event) => instance.$emit(eventName, value, event)\n    }\n\n    return on\n  }, {} as typeof instance.$listeners)\n}\n\nexport function createItemTypeListeners (instance: Vue, itemTypeSuffix: string) {\n  return Object.keys(instance.$listeners).reduce((on, eventName) => {\n    if (eventName.endsWith(itemTypeSuffix)) {\n      on[eventName] = instance.$listeners[eventName]\n    }\n\n    return on\n  }, {} as typeof instance.$listeners)\n}\n","// Adds leading zero to month/day if necessary, returns 'YYYY' if type = 'year',\n// 'YYYY-MM' if 'month' and 'YYYY-MM-DD' if 'date'\nimport pad from './pad'\n\nexport default (dateString: string, type: 'date' | 'month' | 'year'): string => {\n  const [year, month = 1, date = 1] = dateString.split('-')\n  return `${year}-${pad(month)}-${pad(date)}`.substr(0, { date: 10, month: 7, year: 4 }[type])\n}\n","import { DatePickerAllowedDatesFunction } from 'vuetify/types'\n\nexport default function isDateAllowed (date: string, min: string, max: string, allowedFn: DatePickerAllowedDatesFunction | undefined) {\n  return (!allowedFn || allowedFn(date)) &&\n    (!min || date >= min.substr(0, 10)) &&\n    (!max || date <= max)\n}\n","import '../VDatePickerTable.sass'\n\n// Directives\nimport Touch from '../../../directives/touch'\n\n// Mixins\nimport Colorable from '../../../mixins/colorable'\nimport Localable from '../../../mixins/localable'\nimport Themeable from '../../../mixins/themeable'\n\n// Utils\nimport { createItemTypeNativeListeners, sanitizeDateString } from '../util'\nimport isDateAllowed from '../util/isDateAllowed'\nimport { mergeListeners } from '../../../util/mergeData'\nimport mixins from '../../../util/mixins'\nimport { throttle } from '../../../util/helpers'\n\n// Types\nimport {\n  PropType,\n  VNodeChildren,\n} from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport {\n  DatePickerAllowedDatesFunction,\n  DatePickerEventColors,\n  DatePickerEventColorValue,\n  DatePickerEvents,\n  DatePickerFormatter,\n  TouchWrapper,\n} from 'vuetify/types'\n\ntype CalculateTableDateFunction = (v: number) => string\n\nexport default mixins(\n  Colorable,\n  Localable,\n  Themeable\n/* @vue/component */\n).extend({\n  directives: { Touch },\n\n  props: {\n    allowedDates: Function as PropType<DatePickerAllowedDatesFunction | undefined>,\n    current: String,\n    disabled: Boolean,\n    format: Function as PropType<DatePickerFormatter | undefined>,\n    events: {\n      type: [Array, Function, Object],\n      default: () => null,\n    } as PropValidator<DatePickerEvents | null>,\n    eventColor: {\n      type: [Array, Function, Object, String],\n      default: () => 'warning',\n    } as PropValidator<DatePickerEventColors>,\n    min: String,\n    max: String,\n    range: Boolean,\n    readonly: Boolean,\n    scrollable: Boolean,\n    tableDate: {\n      type: String,\n      required: true,\n    },\n    value: [String, Array] as PropType<string | string[]>,\n  },\n\n  data: () => ({\n    isReversing: false,\n    wheelThrottle: null as any,\n  }),\n\n  computed: {\n    computedTransition (): string {\n      return (this.isReversing === !this.$vuetify.rtl) ? 'tab-reverse-transition' : 'tab-transition'\n    },\n    displayedMonth (): number {\n      return Number(this.tableDate.split('-')[1]) - 1\n    },\n    displayedYear (): number {\n      return Number(this.tableDate.split('-')[0])\n    },\n  },\n\n  watch: {\n    tableDate (newVal: string, oldVal: string) {\n      this.isReversing = newVal < oldVal\n    },\n  },\n\n  mounted () {\n    this.wheelThrottle = throttle(this.wheel, 250)\n  },\n\n  methods: {\n    genButtonClasses (\n      isAllowed: boolean,\n      isFloating: boolean,\n      isSelected: boolean,\n      isCurrent: boolean,\n      isFirst: boolean,\n      isLast: boolean,\n    ) {\n      return {\n        'v-size--default': !isFloating,\n        'v-date-picker-table__current': isCurrent,\n        'v-btn--active': isSelected,\n        'v-btn--flat': !isAllowed || this.disabled,\n        'v-btn--text': isSelected === isCurrent,\n        'v-btn--rounded': isFloating,\n        'v-btn--disabled': !isAllowed || this.disabled,\n        'v-btn--outlined': isCurrent && !isSelected,\n        'v-date-picker--first-in-range': isFirst,\n        'v-date-picker--last-in-range': isLast,\n        ...this.themeClasses,\n      }\n    },\n    genButtonEvents (value: string, isAllowed: boolean, mouseEventType: string) {\n      if (this.disabled) return undefined\n\n      return mergeListeners({\n        click: () => {\n          if (isAllowed && !this.readonly) this.$emit('input', value)\n        },\n      }, createItemTypeNativeListeners(this, `:${mouseEventType}`, value))\n    },\n    genButton (value: string, isFloating: boolean, mouseEventType: string, formatter: DatePickerFormatter, isOtherMonth = false) {\n      const isAllowed = isDateAllowed(value, this.min, this.max, this.allowedDates)\n      const isSelected = this.isSelected(value) && isAllowed\n      const isCurrent = value === this.current\n      const setColor = isSelected ? this.setBackgroundColor : this.setTextColor\n      const color = (isSelected || isCurrent) && (this.color || 'accent')\n      let isFirst = false\n      let isLast = false\n      if (this.range && !!this.value && Array.isArray(this.value)) {\n        isFirst = value === this.value[0]\n        isLast = value === this.value[this.value.length - 1]\n      }\n\n      return this.$createElement('button', setColor(color, {\n        staticClass: 'v-btn',\n        class: this.genButtonClasses(\n          isAllowed && !isOtherMonth,\n          isFloating,\n          isSelected,\n          isCurrent,\n          isFirst,\n          isLast,\n        ),\n        attrs: {\n          type: 'button',\n        },\n        domProps: {\n          disabled: this.disabled || !isAllowed || isOtherMonth,\n        },\n        on: this.genButtonEvents(value, isAllowed, mouseEventType),\n      }), [\n        this.$createElement('div', {\n          staticClass: 'v-btn__content',\n        }, [formatter(value)]),\n        this.genEvents(value),\n      ])\n    },\n    getEventColors (date: string) {\n      const arrayize = (v: string | string[]) => Array.isArray(v) ? v : [v]\n      let eventData: boolean | DatePickerEventColorValue\n      let eventColors: string[] = []\n\n      if (Array.isArray(this.events)) {\n        eventData = this.events.includes(date)\n      } else if (this.events instanceof Function) {\n        eventData = this.events(date) || false\n      } else if (this.events) {\n        eventData = this.events[date] || false\n      } else {\n        eventData = false\n      }\n\n      if (!eventData) {\n        return []\n      } else if (eventData !== true) {\n        eventColors = arrayize(eventData)\n      } else if (typeof this.eventColor === 'string') {\n        eventColors = [this.eventColor]\n      } else if (typeof this.eventColor === 'function') {\n        eventColors = arrayize(this.eventColor(date))\n      } else if (Array.isArray(this.eventColor)) {\n        eventColors = this.eventColor\n      } else {\n        eventColors = arrayize(this.eventColor[date])\n      }\n\n      return eventColors.filter(v => v)\n    },\n    genEvents (date: string) {\n      const eventColors = this.getEventColors(date)\n\n      return eventColors.length ? this.$createElement('div', {\n        staticClass: 'v-date-picker-table__events',\n      }, eventColors.map(color => this.$createElement('div', this.setBackgroundColor(color)))) : null\n    },\n    isValidScroll (value: number, calculateTableDate: CalculateTableDateFunction) {\n      const tableDate = calculateTableDate(value)\n      // tableDate is 'YYYY-MM' for DateTable and 'YYYY' for MonthTable\n      const sanitizeType = tableDate.split('-').length === 1 ? 'year' : 'month'\n      return (value < 0 && (this.min ? tableDate >= sanitizeDateString(this.min, sanitizeType) : true)) ||\n        (value > 0 && (this.max ? tableDate <= sanitizeDateString(this.max, sanitizeType) : true))\n    },\n    wheel (e: WheelEvent, calculateTableDate: CalculateTableDateFunction) {\n      this.$emit('update:table-date', calculateTableDate(e.deltaY))\n    },\n    touch (value: number, calculateTableDate: CalculateTableDateFunction) {\n      this.$emit('update:table-date', calculateTableDate(value))\n    },\n    genTable (staticClass: string, children: VNodeChildren, calculateTableDate: CalculateTableDateFunction) {\n      const transition = this.$createElement('transition', {\n        props: { name: this.computedTransition },\n      }, [this.$createElement('table', { key: this.tableDate }, children)])\n\n      const touchDirective = {\n        name: 'touch',\n        value: {\n          left: (e: TouchWrapper) => (e.offsetX < -15) &&\n            (this.isValidScroll(1, calculateTableDate) && this.touch(1, calculateTableDate)),\n          right: (e: TouchWrapper) => (e.offsetX > 15) &&\n            (this.isValidScroll(-1, calculateTableDate) && this.touch(-1, calculateTableDate)),\n        },\n      }\n\n      return this.$createElement('div', {\n        staticClass,\n        class: {\n          'v-date-picker-table--disabled': this.disabled,\n          ...this.themeClasses,\n        },\n        on: (!this.disabled && this.scrollable) ? {\n          wheel: (e: WheelEvent) => {\n            e.preventDefault()\n            if (this.isValidScroll(e.deltaY, calculateTableDate)) { this.wheelThrottle(e, calculateTableDate) }\n          },\n        } : undefined,\n        directives: [touchDirective],\n      }, [transition])\n    },\n    isSelected (value: string): boolean {\n      if (Array.isArray(this.value)) {\n        if (this.range && this.value.length === 2) {\n          const [from, to] = [...this.value].sort()\n          return from <= value && value <= to\n        } else {\n          return this.value.indexOf(value) !== -1\n        }\n      }\n\n      return value === this.value\n    },\n  },\n})\n","function createUTCDate (year: number, month = 0, day = 1) {\n  let date\n  if (year < 100 && year >= 0) {\n    date = new Date(Date.UTC(year, month, day))\n    if (isFinite(date.getUTCFullYear())) {\n      date.setUTCFullYear(year)\n    }\n  } else {\n    date = new Date(Date.UTC(year, month, day))\n  }\n\n  return date\n}\n\nfunction firstWeekOffset (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const firstWeekDayInFirstWeek = 7 + firstDayOfWeek - firstDayOfYear\n  const firstWeekDayOfYear = (7 + createUTCDate(year, 0, firstWeekDayInFirstWeek).getUTCDay() - firstDayOfWeek) % 7\n\n  return -firstWeekDayOfYear + firstWeekDayInFirstWeek - 1\n}\n\nfunction dayOfYear (year: number, month: number, day: number, firstDayOfWeek: number) {\n  let dayOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334][month]\n  if (month > 1 && isLeapYear(year)) {\n    dayOfYear++\n  }\n\n  return dayOfYear + day\n}\n\nfunction weeksInYear (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, firstDayOfYear)\n  const weekOffsetNext = firstWeekOffset(year + 1, firstDayOfWeek, firstDayOfYear)\n  const daysInYear = isLeapYear(year) ? 366 : 365\n\n  return (daysInYear - weekOffset + weekOffsetNext) / 7\n}\n\nexport function weekNumber (year: number, month: number, day: number, firstDayOfWeek: number, localeFirstDayOfYear: number): number {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, localeFirstDayOfYear)\n  const week = Math.ceil((dayOfYear(year, month, day, firstDayOfWeek) - weekOffset) / 7)\n\n  if (week < 1) {\n    return week + weeksInYear(year - 1, firstDayOfWeek, localeFirstDayOfYear)\n  } else if (week > weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)) {\n    return week - weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)\n  } else {\n    return week\n  }\n}\n\nexport function isLeapYear (year: number): boolean {\n  return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)\n}\n","// Mixins\nimport DatePickerTable from './mixins/date-picker-table'\n\n// Utils\nimport { weekNumber } from '../../util/dateTimeUtils'\nimport { pad, createNativeLocaleFormatter, monthChange } from './util'\nimport { createRange } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, VNodeChildren, PropType } from 'vue'\nimport { DatePickerFormatter } from 'vuetify/types'\n\nexport default mixins(\n  DatePickerTable\n/* @vue/component */\n).extend({\n  name: 'v-date-picker-date-table',\n\n  props: {\n    firstDayOfWeek: {\n      type: [String, Number],\n      default: 0,\n    },\n    localeFirstDayOfYear: {\n      type: [String, Number],\n      default: 0,\n    },\n    showAdjacentMonths: Boolean,\n    showWeek: Boolean,\n    weekdayFormat: Function as PropType<DatePickerFormatter | undefined>,\n  },\n\n  computed: {\n    formatter (): DatePickerFormatter {\n      return this.format || createNativeLocaleFormatter(this.currentLocale, { day: 'numeric', timeZone: 'UTC' }, { start: 8, length: 2 })\n    },\n    weekdayFormatter (): DatePickerFormatter | undefined {\n      return this.weekdayFormat || createNativeLocaleFormatter(this.currentLocale, { weekday: 'narrow', timeZone: 'UTC' })\n    },\n    weekDays (): string[] {\n      const first = parseInt(this.firstDayOfWeek, 10)\n\n      return this.weekdayFormatter\n        ? createRange(7).map(i => this.weekdayFormatter!(`2017-01-${first + i + 15}`)) // 2017-01-15 is Sunday\n        : createRange(7).map(i => ['S', 'M', 'T', 'W', 'T', 'F', 'S'][(i + first) % 7])\n    },\n  },\n\n  methods: {\n    calculateTableDate (delta: number) {\n      return monthChange(this.tableDate, Math.sign(delta || 1))\n    },\n    genTHead () {\n      const days = this.weekDays.map(day => this.$createElement('th', day))\n      if (this.showWeek) {\n        days.unshift(this.$createElement('th'))\n      }\n\n      return this.$createElement('thead', this.genTR(days))\n    },\n    // Returns number of the days from the firstDayOfWeek to the first day of the current month\n    weekDaysBeforeFirstDayOfTheMonth () {\n      const firstDayOfTheMonth = new Date(`${this.displayedYear}-${pad(this.displayedMonth + 1)}-01T00:00:00+00:00`)\n      const weekDay = firstDayOfTheMonth.getUTCDay()\n\n      return (weekDay - parseInt(this.firstDayOfWeek) + 7) % 7\n    },\n    getWeekNumber (dayInMonth: number) {\n      return weekNumber(\n        this.displayedYear,\n        this.displayedMonth,\n        dayInMonth,\n        parseInt(this.firstDayOfWeek),\n        parseInt(this.localeFirstDayOfYear)\n      )\n    },\n    genWeekNumber (weekNumber: number) {\n      return this.$createElement('td', [\n        this.$createElement('small', {\n          staticClass: 'v-date-picker-table--date__week',\n        }, String(weekNumber).padStart(2, '0')),\n      ])\n    },\n    // eslint-disable-next-line max-statements\n    genTBody () {\n      const children = []\n      const daysInMonth = new Date(this.displayedYear, this.displayedMonth + 1, 0).getDate()\n      let rows = []\n      let day = this.weekDaysBeforeFirstDayOfTheMonth()\n\n      if (this.showWeek) {\n        rows.push(this.genWeekNumber(this.getWeekNumber(1)))\n      }\n\n      const prevMonthYear = this.displayedMonth ? this.displayedYear : this.displayedYear - 1\n      const prevMonth = (this.displayedMonth + 11) % 12\n      const firstDayFromPreviousMonth = new Date(this.displayedYear, this.displayedMonth, 0).getDate()\n      const cellsInRow = this.showWeek ? 8 : 7\n\n      while (day--) {\n        const date = `${prevMonthYear}-${pad(prevMonth + 1)}-${pad(firstDayFromPreviousMonth - day)}`\n\n        rows.push(this.$createElement('td', this.showAdjacentMonths ? [\n          this.genButton(date, true, 'date', this.formatter, true),\n        ] : []))\n      }\n\n      for (day = 1; day <= daysInMonth; day++) {\n        const date = `${this.displayedYear}-${pad(this.displayedMonth + 1)}-${pad(day)}`\n\n        rows.push(this.$createElement('td', [\n          this.genButton(date, true, 'date', this.formatter),\n        ]))\n\n        if (rows.length % cellsInRow === 0) {\n          children.push(this.genTR(rows))\n          rows = []\n          if (this.showWeek && (day < daysInMonth || this.showAdjacentMonths)) {\n            rows.push(this.genWeekNumber(this.getWeekNumber(day + 7)))\n          }\n        }\n      }\n\n      const nextMonthYear = this.displayedMonth === 11 ? this.displayedYear + 1 : this.displayedYear\n      const nextMonth = (this.displayedMonth + 1) % 12\n      let nextMonthDay = 1\n\n      while (rows.length < cellsInRow) {\n        const date = `${nextMonthYear}-${pad(nextMonth + 1)}-${pad(nextMonthDay++)}`\n\n        rows.push(this.$createElement('td', this.showAdjacentMonths ? [\n          this.genButton(date, true, 'date', this.formatter, true),\n        ] : []))\n      }\n\n      if (rows.length) {\n        children.push(this.genTR(rows))\n      }\n\n      return this.$createElement('tbody', children)\n    },\n    genTR (children: VNodeChildren) {\n      return [this.$createElement('tr', children)]\n    },\n  },\n\n  render (): VNode {\n    return this.genTable('v-date-picker-table v-date-picker-table--date', [\n      this.genTHead(),\n      this.genTBody(),\n    ], this.calculateTableDate)\n  },\n})\n","// Mixins\nimport DatePickerTable from './mixins/date-picker-table'\n\n// Utils\nimport { pad, createNativeLocaleFormatter } from './util'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\nimport { DatePickerFormatter } from 'vuetify/types'\n\nexport default mixins(\n  DatePickerTable\n/* @vue/component */\n).extend({\n  name: 'v-date-picker-month-table',\n\n  computed: {\n    formatter (): DatePickerFormatter {\n      return this.format || createNativeLocaleFormatter(this.currentLocale, { month: 'short', timeZone: 'UTC' }, { start: 5, length: 2 })\n    },\n  },\n\n  methods: {\n    calculateTableDate (delta: number) {\n      return `${parseInt(this.tableDate, 10) + Math.sign(delta || 1)}`\n    },\n    genTBody () {\n      const children = []\n      const cols = Array(3).fill(null)\n      const rows = 12 / cols.length\n\n      for (let row = 0; row < rows; row++) {\n        const tds = cols.map((_, col) => {\n          const month = row * cols.length + col\n          const date = `${this.displayedYear}-${pad(month + 1)}`\n          return this.$createElement('td', {\n            key: month,\n          }, [\n            this.genButton(date, false, 'month', this.formatter),\n          ])\n        })\n\n        children.push(this.$createElement('tr', {\n          key: row,\n        }, tds))\n      }\n\n      return this.$createElement('tbody', children)\n    },\n  },\n\n  render (): VNode {\n    return this.genTable('v-date-picker-table v-date-picker-table--month', [\n      this.genTBody(),\n    ], this.calculateTableDate)\n  },\n})\n","import './VDatePickerYears.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Localable from '../../mixins/localable'\n\n// Utils\nimport {\n  createItemTypeNativeListeners,\n  createNativeLocaleFormatter,\n} from './util'\nimport { mergeListeners } from '../../util/mergeData'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, PropType } from 'vue'\nimport { DatePickerFormatter } from 'vuetify/types'\n\ninterface options extends Vue {\n  $el: HTMLElement\n}\n\nexport default mixins<options &\n/* eslint-disable indent */\n  ExtractVue<[\n    typeof Colorable,\n    typeof Localable\n  ]>\n/* eslint-enable indent */\n>(\n  Colorable,\n  Localable\n/* @vue/component */\n).extend({\n  name: 'v-date-picker-years',\n\n  props: {\n    format: Function as PropType<DatePickerFormatter | undefined>,\n    min: [Number, String],\n    max: [Number, String],\n    readonly: Boolean,\n    value: [Number, String],\n  },\n\n  data () {\n    return {\n      defaultColor: 'primary',\n    }\n  },\n\n  computed: {\n    formatter (): DatePickerFormatter {\n      return this.format || createNativeLocaleFormatter(this.currentLocale, { year: 'numeric', timeZone: 'UTC' }, { length: 4 })\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      const activeItem = this.$el.getElementsByClassName('active')[0]\n      if (activeItem) {\n        this.$el.scrollTop = activeItem.offsetTop - this.$el.offsetHeight / 2 + activeItem.offsetHeight / 2\n      } else if (this.min && !this.max) {\n        this.$el.scrollTop = this.$el.scrollHeight\n      } else if (!this.min && this.max) {\n        this.$el.scrollTop = 0\n      } else {\n        this.$el.scrollTop = this.$el.scrollHeight / 2 - this.$el.offsetHeight / 2\n      }\n    })\n  },\n\n  methods: {\n    genYearItem (year: number): VNode {\n      const formatted = this.formatter(`${year}`)\n      const active = parseInt(this.value, 10) === year\n      const color = active && (this.color || 'primary')\n\n      return this.$createElement('li', this.setTextColor(color, {\n        key: year,\n        class: { active },\n        on: mergeListeners({\n          click: () => this.$emit('input', year),\n        }, createItemTypeNativeListeners(this, ':year', year)),\n      }), formatted)\n    },\n\n    genYearItems (): VNode[] {\n      const children = []\n      const selectedYear = this.value ? parseInt(this.value, 10) : new Date().getFullYear()\n      const maxYear = this.max ? parseInt(this.max, 10) : (selectedYear + 100)\n      const minYear = Math.min(maxYear, this.min ? parseInt(this.min, 10) : (selectedYear - 100))\n\n      for (let year = maxYear; year >= minYear; year--) {\n        children.push(this.genYearItem(year))\n      }\n\n      return children\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('ul', {\n      staticClass: 'v-date-picker-years',\n      ref: 'years',\n    }, this.genYearItems())\n  },\n})\n","import './VPicker.sass'\nimport '../VCard/VCard.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Elevatable from '../../mixins/elevatable'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue/types'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Elevatable,\n  Themeable\n).extend({\n  name: 'v-picker',\n\n  props: {\n    flat: Boolean,\n    fullWidth: Boolean,\n    landscape: Boolean,\n    noTitle: Boolean,\n    transition: {\n      type: String,\n      default: 'fade-transition',\n    },\n    width: {\n      type: [Number, String],\n      default: 290,\n    },\n  },\n\n  computed: {\n    computedTitleColor (): string | false {\n      const defaultTitleColor = this.isDark ? false : (this.color || 'primary')\n      return this.color || defaultTitleColor\n    },\n  },\n\n  methods: {\n    genTitle () {\n      return this.$createElement('div', this.setBackgroundColor(this.computedTitleColor, {\n        staticClass: 'v-picker__title',\n        class: {\n          'v-picker__title--landscape': this.landscape,\n        },\n      }), this.$slots.title)\n    },\n    genBodyTransition () {\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n        },\n      }, this.$slots.default)\n    },\n    genBody () {\n      return this.$createElement('div', {\n        staticClass: 'v-picker__body',\n        class: {\n          'v-picker__body--no-title': this.noTitle,\n          ...this.themeClasses,\n        },\n        style: this.fullWidth ? undefined : {\n          width: convertToUnit(this.width),\n        },\n      }, [\n        this.genBodyTransition(),\n      ])\n    },\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-picker__actions v-card__actions',\n        class: {\n          'v-picker__actions--no-title': this.noTitle,\n        },\n      }, this.$slots.actions)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-picker v-card',\n      class: {\n        'v-picker--flat': this.flat,\n        'v-picker--landscape': this.landscape,\n        'v-picker--full-width': this.fullWidth,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      },\n    }, [\n      this.$slots.title ? this.genTitle() : null,\n      this.genBody(),\n      this.$slots.actions ? this.genActions() : null,\n    ])\n  },\n})\n","import VPicker from './VPicker'\n\nexport { VPicker }\nexport default VPicker\n","// Components\nimport VPicker from '../../components/VPicker'\n\n// Mixins\nimport Colorable from '../colorable'\nimport Elevatable from '../../mixins/elevatable'\nimport Themeable from '../themeable'\n\n// Utils\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  Colorable,\n  Elevatable,\n  Themeable\n/* @vue/component */\n).extend({\n  name: 'picker',\n\n  props: {\n    flat: Boolean,\n    fullWidth: Boolean,\n    headerColor: String,\n    landscape: Boolean,\n    noTitle: Boolean,\n    width: {\n      type: [Number, String],\n      default: 290,\n    },\n  },\n\n  methods: {\n    genPickerTitle (): VNode | null {\n      return null\n    },\n    genPickerBody (): VNode | null {\n      return null\n    },\n    genPickerActionsSlot () {\n      return this.$scopedSlots.default ? this.$scopedSlots.default({\n        save: (this as any).save,\n        cancel: (this as any).cancel,\n      }) : this.$slots.default\n    },\n    genPicker (staticClass: string) {\n      const children: VNode[] = []\n\n      if (!this.noTitle) {\n        const title = this.genPickerTitle()\n        title && children.push(title)\n      }\n\n      const body = this.genPickerBody()\n      body && children.push(body)\n\n      children.push(this.$createElement('template', { slot: 'actions' }, [this.genPickerActionsSlot()]))\n\n      return this.$createElement(VPicker, {\n        staticClass,\n        props: {\n          color: this.headerColor || this.color,\n          dark: this.dark,\n          elevation: this.elevation,\n          flat: this.flat,\n          fullWidth: this.fullWidth,\n          landscape: this.landscape,\n          light: this.light,\n          width: this.width,\n          noTitle: this.noTitle,\n        },\n      }, children)\n    },\n  },\n})\n","import { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\nimport { isLeapYear } from '../../../util/dateTimeUtils'\n\nexport const PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/\nexport const PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/\n\nexport const DAYS_IN_MONTH: number[] = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_LEAP: number[] = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_MIN = 28\nexport const DAYS_IN_MONTH_MAX = 31\nexport const MONTH_MAX = 12\nexport const MONTH_MIN = 1\nexport const DAY_MIN = 1\nexport const DAYS_IN_WEEK = 7\nexport const MINUTES_IN_HOUR = 60\nexport const MINUTE_MAX = 59\nexport const MINUTES_IN_DAY = 24 * 60\nexport const HOURS_IN_DAY = 24\nexport const HOUR_MAX = 23\nexport const FIRST_HOUR = 0\nexport const OFFSET_YEAR = 10000\nexport const OFFSET_MONTH = 100\nexport const OFFSET_HOUR = 100\nexport const OFFSET_TIME = 10000\n\ntype CalendarTimestampFormatOptions = (timestamp: CalendarTimestamp, short: boolean) => object\ntype CalendarTimestampOperation = (timestamp: CalendarTimestamp) => CalendarTimestamp\nexport type VTime = number | string | {\n  hour: number\n  minute: number\n}\n\nexport type VTimestampInput = number | string | Date;\n\nexport function getStartOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  findWeekday(start, weekdays[0], prevDay)\n  updateFormatted(start)\n  if (today) {\n    updateRelative(start, today, start.hasTime)\n  }\n\n  return start\n}\n\nexport function getEndOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  findWeekday(end, weekdays[weekdays.length - 1])\n  updateFormatted(end)\n  if (today) {\n    updateRelative(end, today, end.hasTime)\n  }\n\n  return end\n}\n\nexport function getStartOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  start.day = DAY_MIN\n  updateWeekday(start)\n  updateFormatted(start)\n\n  return start\n}\n\nexport function getEndOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  end.day = daysInMonth(end.year, end.month)\n  updateWeekday(end)\n  updateFormatted(end)\n\n  return end\n}\n\nexport function validateTime (input: any): input is VTime {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (!!PARSE_TIME.exec(input)) ||\n    (typeof input === 'object' && isFinite(input.hour) && isFinite(input.minute))\n}\n\nexport function parseTime (input: any): number | false {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input)\n    if (!parts) {\n      return false\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0)\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false\n    }\n\n    return input.hour * 60 + input.minute\n  } else {\n    // unsupported type\n    return false\n  }\n}\n\nexport function validateTimestamp (input: any): input is VTimestampInput {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (typeof input === 'string' && !!PARSE_REGEX.exec(input)) ||\n    (input instanceof Date)\n}\n\nexport function parseTimestamp (input: VTimestampInput, required?: false, now?: CalendarTimestamp): CalendarTimestamp | null\nexport function parseTimestamp (input: VTimestampInput, required: true, now?: CalendarTimestamp): CalendarTimestamp\nexport function parseTimestamp (input: VTimestampInput, required = false, now?: CalendarTimestamp): CalendarTimestamp | null {\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input)\n  }\n\n  if (input instanceof Date) {\n    const date: CalendarTimestamp = parseDate(input)\n\n    if (now) {\n      updateRelative(date, now, date.hasTime)\n    }\n\n    return date\n  }\n\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n    return null\n  }\n\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input)\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n\n    return null\n  }\n\n  const timestamp: CalendarTimestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false,\n  }\n\n  updateWeekday(timestamp)\n  updateFormatted(timestamp)\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime)\n  }\n\n  return timestamp\n}\n\nexport function parseDate (date: Date): CalendarTimestamp {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false,\n  })\n}\n\nexport function getDayIdentifier (timestamp: { year: number, month: number, day: number }): number {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day\n}\n\nexport function getTimeIdentifier (timestamp: { hour: number, minute: number }): number {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute\n}\n\nexport function getTimestampIdentifier (timestamp: CalendarTimestamp): number {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp)\n}\n\nexport function updateRelative (timestamp: CalendarTimestamp, now: CalendarTimestamp, time = false): CalendarTimestamp {\n  let a = getDayIdentifier(now)\n  let b = getDayIdentifier(timestamp)\n  let present = a === b\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now)\n    b = getTimeIdentifier(timestamp)\n    present = a === b\n  }\n\n  timestamp.past = b < a\n  timestamp.present = present\n  timestamp.future = b > a\n\n  return timestamp\n}\n\nexport function isTimedless (input: VTimestampInput): input is (Date | number) {\n  return (input instanceof Date) || (typeof input === 'number' && isFinite(input))\n}\n\nexport function updateHasTime (timestamp: CalendarTimestamp, hasTime: boolean, now?: CalendarTimestamp): CalendarTimestamp {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX\n      timestamp.minute = MINUTE_MAX\n      timestamp.time = getTime(timestamp)\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime)\n    }\n  }\n\n  return timestamp\n}\n\nexport function updateMinutes (timestamp: CalendarTimestamp, minutes: number, now?: CalendarTimestamp): CalendarTimestamp {\n  timestamp.hasTime = true\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR)\n  timestamp.minute = minutes % MINUTES_IN_HOUR\n  timestamp.time = getTime(timestamp)\n  if (now) {\n    updateRelative(timestamp, now, true)\n  }\n\n  return timestamp\n}\n\nexport function updateWeekday (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.weekday = getWeekday(timestamp)\n\n  return timestamp\n}\n\nexport function updateFormatted (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.time = getTime(timestamp)\n  timestamp.date = getDate(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekday (timestamp: CalendarTimestamp): number {\n  if (timestamp.hasDay) {\n    const _ = Math.floor\n    const k = timestamp.day\n    const m = ((timestamp.month + 9) % MONTH_MAX) + 1\n    const C = _(timestamp.year / 100)\n    const Y = (timestamp.year % 100) - (timestamp.month <= 2 ? 1 : 0)\n\n    return (((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7) + 7) % 7\n  }\n\n  return timestamp.weekday\n}\n\nexport function daysInMonth (year: number, month: number) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month]\n}\n\nexport function copyTimestamp (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future } = timestamp\n\n  return { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future }\n}\n\nexport function padNumber (x: number, length: number): string {\n  let padded = String(x)\n  while (padded.length < length) {\n    padded = '0' + padded\n  }\n\n  return padded\n}\n\nexport function getDate (timestamp: CalendarTimestamp): string {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`\n\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`\n\n  return str\n}\n\nexport function getTime (timestamp: CalendarTimestamp): string {\n  if (!timestamp.hasTime) {\n    return ''\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n}\n\nexport function nextMinutes (timestamp: CalendarTimestamp, minutes: number): CalendarTimestamp {\n  timestamp.minute += minutes\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR\n    timestamp.hour++\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp)\n      timestamp.hour = FIRST_HOUR\n    }\n  }\n\n  return timestamp\n}\n\nexport function nextDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day++\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN\n    timestamp.month++\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN\n      timestamp.year++\n    }\n  }\n\n  return timestamp\n}\n\nexport function prevDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day--\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--\n      timestamp.month = MONTH_MAX\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month)\n  }\n\n  return timestamp\n}\n\nexport function relativeDays (\n  timestamp: CalendarTimestamp,\n  mover: CalendarTimestampOperation = nextDay,\n  days = 1\n): CalendarTimestamp {\n  while (--days >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function diffMinutes (min: CalendarTimestamp, max: CalendarTimestamp) {\n  const Y = (max.year - min.year) * 525600\n  const M = (max.month - min.month) * 43800\n  const D = (max.day - min.day) * 1440\n  const h = (max.hour - min.hour) * 60\n  const m = (max.minute - min.minute)\n\n  return Y + M + D + h + m\n}\n\nexport function findWeekday (timestamp: CalendarTimestamp, weekday: number,\n  mover: CalendarTimestampOperation = nextDay, maxDays = 6): CalendarTimestamp {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekdaySkips (weekdays: number[]): number[] {\n  const skips: number[] = [1, 1, 1, 1, 1, 1, 1]\n  const filled: number[] = [0, 0, 0, 0, 0, 0, 0]\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1\n  }\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK\n      if (filled[next]) {\n        break\n      }\n      skip++\n    }\n    skips[k] = filled[k] * skip\n  }\n\n  return skips\n}\n\nexport function timestampToDate (timestamp: CalendarTimestamp): Date {\n  const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n  const date = timestamp.date\n\n  return new Date(`${date}T${time}:00+00:00`)\n}\n\nexport function createDayList (\n  start: CalendarTimestamp,\n  end: CalendarTimestamp,\n  now: CalendarTimestamp,\n  weekdaySkips: number[],\n  max = 42,\n  min = 0\n): CalendarTimestamp[] {\n  const stop = getDayIdentifier(end)\n  const days: CalendarTimestamp[] = []\n  let current = copyTimestamp(start)\n  let currentIdentifier = 0\n  let stopped = currentIdentifier === stop\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.')\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current)\n    stopped = stopped || currentIdentifier === stop\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current)\n      continue\n    }\n    const day = copyTimestamp(current)\n    updateFormatted(day)\n    updateRelative(day, now)\n    days.push(day)\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday])\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.')\n\n  return days\n}\n\nexport function createIntervalList (timestamp: CalendarTimestamp, first: number,\n  minutes: number, count: number, now?: CalendarTimestamp): CalendarTimestamp[] {\n  const intervals: CalendarTimestamp[] = []\n\n  for (let i = 0; i < count; i++) {\n    const mins = first + (i * minutes)\n    const int = copyTimestamp(timestamp)\n    intervals.push(updateMinutes(int, mins, now))\n  }\n\n  return intervals\n}\n\nexport function createNativeLocaleFormatter (locale: string, getOptions: CalendarTimestampFormatOptions): CalendarFormatter {\n  const emptyFormatter: CalendarFormatter = (_t, _s) => ''\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short))\n\n      return intlFormatter.format(timestampToDate(timestamp))\n    } catch (e) {\n      return ''\n    }\n  }\n}\n","// Components\nimport VDatePickerTitle from './VDatePickerTitle'\nimport VDatePickerHeader from './VDatePickerHeader'\nimport VDatePickerDateTable from './VDatePickerDateTable'\nimport VDatePickerMonthTable from './VDatePickerMonthTable'\nimport VDatePickerYears from './VDatePickerYears'\n\n// Mixins\nimport Localable from '../../mixins/localable'\nimport Picker from '../../mixins/picker'\n\n// Utils\nimport isDateAllowed from './util/isDateAllowed'\nimport mixins from '../../util/mixins'\nimport { wrapInArray } from '../../util/helpers'\nimport { daysInMonth } from '../VCalendar/util/timestamp'\nimport { consoleWarn } from '../../util/console'\nimport {\n  createItemTypeListeners,\n  createNativeLocaleFormatter,\n  pad,\n  sanitizeDateString,\n} from './util'\n\n// Types\nimport {\n  PropType,\n  PropValidator,\n} from 'vue/types/options'\nimport { VNode } from 'vue'\nimport {\n  DatePickerFormatter,\n  DatePickerMultipleFormatter,\n  DatePickerAllowedDatesFunction,\n  DatePickerEventColors,\n  DatePickerEvents,\n  DatePickerType,\n} from 'vuetify/types'\n\ntype DatePickerValue = string | string[] | undefined\ninterface Formatters {\n  year: DatePickerFormatter\n  titleDate: DatePickerFormatter | DatePickerMultipleFormatter\n}\n\ntype ActivePicker = 'DATE' | 'MONTH' | 'YEAR';\n\nexport default mixins(\n  Localable,\n  Picker,\n/* @vue/component */\n).extend({\n  name: 'v-date-picker',\n\n  props: {\n    activePicker: String as PropType<ActivePicker>,\n    allowedDates: Function as PropType<DatePickerAllowedDatesFunction | undefined>,\n    // Function formatting the day in date picker table\n    dayFormat: Function as PropType<DatePickerAllowedDatesFunction | undefined>,\n    disabled: Boolean,\n    events: {\n      type: [Array, Function, Object],\n      default: () => null,\n    } as PropValidator<DatePickerEvents | null>,\n    eventColor: {\n      type: [Array, Function, Object, String],\n      default: () => 'warning',\n    } as PropValidator<DatePickerEventColors>,\n    firstDayOfWeek: {\n      type: [String, Number],\n      default: 0,\n    },\n    // Function formatting the tableDate in the day/month table header\n    headerDateFormat: Function as PropType<DatePickerFormatter | undefined>,\n    localeFirstDayOfYear: {\n      type: [String, Number],\n      default: 0,\n    },\n    max: String,\n    min: String,\n    // Function formatting month in the months table\n    monthFormat: Function as PropType<DatePickerFormatter | undefined>,\n    multiple: Boolean,\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    nextMonthAriaLabel: {\n      type: String,\n      default: '$vuetify.datePicker.nextMonthAriaLabel',\n    },\n    nextYearAriaLabel: {\n      type: String,\n      default: '$vuetify.datePicker.nextYearAriaLabel',\n    },\n    pickerDate: String,\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    prevMonthAriaLabel: {\n      type: String,\n      default: '$vuetify.datePicker.prevMonthAriaLabel',\n    },\n    prevYearAriaLabel: {\n      type: String,\n      default: '$vuetify.datePicker.prevYearAriaLabel',\n    },\n    range: Boolean,\n    reactive: Boolean,\n    readonly: Boolean,\n    scrollable: Boolean,\n    showCurrent: {\n      type: [Boolean, String],\n      default: true,\n    },\n    selectedItemsText: {\n      type: String,\n      default: '$vuetify.datePicker.itemsSelected',\n    },\n    showAdjacentMonths: Boolean,\n    showWeek: Boolean,\n    // Function formatting currently selected date in the picker title\n    titleDateFormat: Function as PropType<DatePickerFormatter | DatePickerMultipleFormatter | undefined>,\n    type: {\n      type: String,\n      default: 'date',\n      validator: (type: any) => ['date', 'month'].includes(type), // TODO: year\n    } as PropValidator<DatePickerType>,\n    value: [Array, String] as PropType<DatePickerValue>,\n    weekdayFormat: Function as PropType<DatePickerFormatter | undefined>,\n    // Function formatting the year in table header and pickup title\n    yearFormat: Function as PropType<DatePickerFormatter | undefined>,\n    yearIcon: String,\n  },\n\n  data () {\n    const now = new Date()\n    return {\n      internalActivePicker: this.type.toUpperCase(),\n      inputDay: null as number | null,\n      inputMonth: null as number | null,\n      inputYear: null as number | null,\n      isReversing: false,\n      now,\n      // tableDate is a string in 'YYYY' / 'YYYY-M' format (leading zero for month is not required)\n      tableDate: (() => {\n        if (this.pickerDate) {\n          return this.pickerDate\n        }\n\n        const multipleValue = wrapInArray(this.value)\n        const date = multipleValue[multipleValue.length - 1] ||\n          (typeof this.showCurrent === 'string' ? this.showCurrent : `${now.getFullYear()}-${now.getMonth() + 1}`)\n        return sanitizeDateString(date as string, this.type === 'date' ? 'month' : 'year')\n      })(),\n    }\n  },\n\n  computed: {\n    multipleValue (): string[] {\n      return wrapInArray(this.value)\n    },\n    isMultiple (): boolean {\n      return this.multiple || this.range\n    },\n    lastValue (): string | null {\n      return this.isMultiple ? this.multipleValue[this.multipleValue.length - 1] : (this.value as string | null)\n    },\n    selectedMonths (): string | string[] | undefined {\n      if (!this.value || this.type === 'month') {\n        return this.value\n      } else if (this.isMultiple) {\n        return this.multipleValue.map(val => val.substr(0, 7))\n      } else {\n        return (this.value as string).substr(0, 7)\n      }\n    },\n    current (): string | null {\n      if (this.showCurrent === true) {\n        return sanitizeDateString(`${this.now.getFullYear()}-${this.now.getMonth() + 1}-${this.now.getDate()}`, this.type)\n      }\n\n      return this.showCurrent || null\n    },\n    inputDate (): string {\n      return this.type === 'date'\n        ? `${this.inputYear}-${pad(this.inputMonth! + 1)}-${pad(this.inputDay!)}`\n        : `${this.inputYear}-${pad(this.inputMonth! + 1)}`\n    },\n    tableMonth (): number {\n      return Number((this.pickerDate || this.tableDate).split('-')[1]) - 1\n    },\n    tableYear (): number {\n      return Number((this.pickerDate || this.tableDate).split('-')[0])\n    },\n    minMonth (): string | null {\n      return this.min ? sanitizeDateString(this.min, 'month') : null\n    },\n    maxMonth (): string | null {\n      return this.max ? sanitizeDateString(this.max, 'month') : null\n    },\n    minYear (): string | null {\n      return this.min ? sanitizeDateString(this.min, 'year') : null\n    },\n    maxYear (): string | null {\n      return this.max ? sanitizeDateString(this.max, 'year') : null\n    },\n    formatters (): Formatters {\n      return {\n        year: this.yearFormat || createNativeLocaleFormatter(this.currentLocale, { year: 'numeric', timeZone: 'UTC' }, { length: 4 }),\n        titleDate: this.titleDateFormat ||\n          (this.isMultiple ? this.defaultTitleMultipleDateFormatter : this.defaultTitleDateFormatter),\n      }\n    },\n    defaultTitleMultipleDateFormatter (): DatePickerMultipleFormatter {\n      return dates => {\n        if (!dates.length) {\n          return '-'\n        }\n\n        if (dates.length === 1) {\n          return this.defaultTitleDateFormatter(dates[0])\n        }\n\n        return this.$vuetify.lang.t(this.selectedItemsText, dates.length)\n      }\n    },\n    defaultTitleDateFormatter (): DatePickerFormatter {\n      const titleFormats = {\n        year: { year: 'numeric', timeZone: 'UTC' },\n        month: { month: 'long', timeZone: 'UTC' },\n        date: { weekday: 'short', month: 'short', day: 'numeric', timeZone: 'UTC' },\n      }\n\n      const titleDateFormatter = createNativeLocaleFormatter(this.currentLocale, titleFormats[this.type], {\n        start: 0,\n        length: { date: 10, month: 7, year: 4 }[this.type],\n      })\n\n      const landscapeFormatter = (date: string) => titleDateFormatter(date)\n        .replace(/([^\\d\\s])([\\d])/g, (match, nonDigit, digit) => `${nonDigit} ${digit}`)\n        .replace(', ', ',<br>')\n\n      return this.landscape ? landscapeFormatter : titleDateFormatter\n    },\n  },\n\n  watch: {\n    internalActivePicker: {\n      immediate: true,\n      handler (val: ActivePicker) {\n        this.$emit('update:active-picker', val)\n      },\n    },\n    activePicker (val: ActivePicker) {\n      this.internalActivePicker = val\n    },\n    tableDate (val: string, prev: string) {\n      // Make a ISO 8601 strings from val and prev for comparision, otherwise it will incorrectly\n      // compare for example '2000-9' and '2000-10'\n      const sanitizeType = this.type === 'month' ? 'year' : 'month'\n      this.isReversing = sanitizeDateString(val, sanitizeType) < sanitizeDateString(prev, sanitizeType)\n      this.$emit('update:picker-date', val)\n    },\n    pickerDate (val: string | null) {\n      if (val) {\n        this.tableDate = val\n      } else if (this.lastValue && this.type === 'date') {\n        this.tableDate = sanitizeDateString(this.lastValue, 'month')\n      } else if (this.lastValue && this.type === 'month') {\n        this.tableDate = sanitizeDateString(this.lastValue, 'year')\n      }\n    },\n    value (newValue: DatePickerValue, oldValue: DatePickerValue) {\n      this.checkMultipleProp()\n      this.setInputDate()\n\n      if (\n        (!this.isMultiple && this.value && !this.pickerDate) ||\n        (this.isMultiple && this.multipleValue.length && (!oldValue || !oldValue.length) && !this.pickerDate)\n      ) {\n        this.tableDate = sanitizeDateString(this.inputDate, this.type === 'month' ? 'year' : 'month')\n      }\n    },\n    type (type: DatePickerType) {\n      this.internalActivePicker = type.toUpperCase()\n\n      if (this.value && this.value.length) {\n        const output = this.multipleValue\n          .map((val: string) => sanitizeDateString(val, type))\n          .filter(this.isDateAllowed)\n        this.$emit('input', this.isMultiple ? output : output[0])\n      }\n    },\n  },\n\n  created () {\n    this.checkMultipleProp()\n\n    if (this.pickerDate !== this.tableDate) {\n      this.$emit('update:picker-date', this.tableDate)\n    }\n    this.setInputDate()\n  },\n\n  methods: {\n    emitInput (newInput: string) {\n      if (this.range) {\n        if (this.multipleValue.length !== 1) {\n          this.$emit('input', [newInput])\n        } else {\n          const output = [this.multipleValue[0], newInput]\n          this.$emit('input', output)\n          this.$emit('change', output)\n        }\n        return\n      }\n\n      const output = this.multiple\n        ? (\n          this.multipleValue.indexOf(newInput) === -1\n            ? this.multipleValue.concat([newInput])\n            : this.multipleValue.filter(x => x !== newInput)\n        )\n        : newInput\n\n      this.$emit('input', output)\n      this.multiple || this.$emit('change', newInput)\n    },\n    checkMultipleProp () {\n      if (this.value == null) return\n      const valueType = this.value.constructor.name\n      const expected = this.isMultiple ? 'Array' : 'String'\n      if (valueType !== expected) {\n        consoleWarn(`Value must be ${this.isMultiple ? 'an' : 'a'} ${expected}, got ${valueType}`, this)\n      }\n    },\n    isDateAllowed (value: string): boolean {\n      return isDateAllowed(value, this.min, this.max, this.allowedDates)\n    },\n    yearClick (value: number) {\n      this.inputYear = value\n      if (this.type === 'month') {\n        this.tableDate = `${value}`\n      } else {\n        this.tableDate = `${value}-${pad((this.tableMonth || 0) + 1)}`\n      }\n      this.internalActivePicker = 'MONTH'\n      if (this.reactive && !this.readonly && !this.isMultiple && this.isDateAllowed(this.inputDate)) {\n        this.$emit('input', this.inputDate)\n      }\n    },\n    monthClick (value: string) {\n      const [year, month] = value.split('-')\n\n      this.inputYear = parseInt(year, 10)\n      this.inputMonth = parseInt(month, 10) - 1\n\n      if (this.type === 'date') {\n        if (this.inputDay) {\n          this.inputDay = Math.min(this.inputDay, daysInMonth(this.inputYear, this.inputMonth + 1))\n        }\n\n        this.tableDate = value\n        this.internalActivePicker = 'DATE'\n        if (this.reactive && !this.readonly && !this.isMultiple && this.isDateAllowed(this.inputDate)) {\n          this.$emit('input', this.inputDate)\n        }\n      } else {\n        this.emitInput(this.inputDate)\n      }\n    },\n    dateClick (value: string) {\n      const [year, month, day] = value.split('-')\n\n      this.inputYear = parseInt(year, 10)\n      this.inputMonth = parseInt(month, 10) - 1\n      this.inputDay = parseInt(day, 10)\n\n      this.emitInput(this.inputDate)\n    },\n    genPickerTitle (): VNode {\n      return this.$createElement(VDatePickerTitle, {\n        props: {\n          date: this.value ? (this.formatters.titleDate as (value: any) => string)(this.isMultiple ? this.multipleValue : this.value) : '',\n          disabled: this.disabled,\n          readonly: this.readonly,\n          selectingYear: this.internalActivePicker === 'YEAR',\n          year: this.formatters.year(this.multipleValue.length ? `${this.inputYear}` : this.tableDate),\n          yearIcon: this.yearIcon,\n          value: this.multipleValue[0],\n        },\n        slot: 'title',\n        on: {\n          'update:selecting-year': (value: boolean) => this.internalActivePicker = value ? 'YEAR' : this.type.toUpperCase(),\n        },\n      })\n    },\n    genTableHeader (): VNode {\n      return this.$createElement(VDatePickerHeader, {\n        props: {\n          nextIcon: this.nextIcon,\n          color: this.color,\n          dark: this.dark,\n          disabled: this.disabled,\n          format: this.headerDateFormat,\n          light: this.light,\n          locale: this.locale,\n          min: this.internalActivePicker === 'DATE' ? this.minMonth : this.minYear,\n          max: this.internalActivePicker === 'DATE' ? this.maxMonth : this.maxYear,\n          nextAriaLabel: this.internalActivePicker === 'DATE' ? this.nextMonthAriaLabel : this.nextYearAriaLabel,\n          prevAriaLabel: this.internalActivePicker === 'DATE' ? this.prevMonthAriaLabel : this.prevYearAriaLabel,\n          prevIcon: this.prevIcon,\n          readonly: this.readonly,\n          value: this.internalActivePicker === 'DATE' ? `${pad(this.tableYear, 4)}-${pad(this.tableMonth + 1)}` : `${pad(this.tableYear, 4)}`,\n        },\n        on: {\n          toggle: () => this.internalActivePicker = (this.internalActivePicker === 'DATE' ? 'MONTH' : 'YEAR'),\n          input: (value: string) => this.tableDate = value,\n        },\n      })\n    },\n    genDateTable (): VNode {\n      return this.$createElement(VDatePickerDateTable, {\n        props: {\n          allowedDates: this.allowedDates,\n          color: this.color,\n          current: this.current,\n          dark: this.dark,\n          disabled: this.disabled,\n          events: this.events,\n          eventColor: this.eventColor,\n          firstDayOfWeek: this.firstDayOfWeek,\n          format: this.dayFormat,\n          light: this.light,\n          locale: this.locale,\n          localeFirstDayOfYear: this.localeFirstDayOfYear,\n          min: this.min,\n          max: this.max,\n          range: this.range,\n          readonly: this.readonly,\n          scrollable: this.scrollable,\n          showAdjacentMonths: this.showAdjacentMonths,\n          showWeek: this.showWeek,\n          tableDate: `${pad(this.tableYear, 4)}-${pad(this.tableMonth + 1)}`,\n          value: this.value,\n          weekdayFormat: this.weekdayFormat,\n        },\n        ref: 'table',\n        on: {\n          input: this.dateClick,\n          'update:table-date': (value: string) => this.tableDate = value,\n          ...createItemTypeListeners(this, ':date'),\n        },\n      })\n    },\n    genMonthTable (): VNode {\n      return this.$createElement(VDatePickerMonthTable, {\n        props: {\n          allowedDates: this.type === 'month' ? this.allowedDates : null,\n          color: this.color,\n          current: this.current ? sanitizeDateString(this.current, 'month') : null,\n          dark: this.dark,\n          disabled: this.disabled,\n          events: this.type === 'month' ? this.events : null,\n          eventColor: this.type === 'month' ? this.eventColor : null,\n          format: this.monthFormat,\n          light: this.light,\n          locale: this.locale,\n          min: this.minMonth,\n          max: this.maxMonth,\n          range: this.range,\n          readonly: this.readonly && this.type === 'month',\n          scrollable: this.scrollable,\n          value: this.selectedMonths,\n          tableDate: `${pad(this.tableYear, 4)}`,\n        },\n        ref: 'table',\n        on: {\n          input: this.monthClick,\n          'update:table-date': (value: string) => this.tableDate = value,\n          ...createItemTypeListeners(this, ':month'),\n        },\n      })\n    },\n    genYears (): VNode {\n      return this.$createElement(VDatePickerYears, {\n        props: {\n          color: this.color,\n          format: this.yearFormat,\n          locale: this.locale,\n          min: this.minYear,\n          max: this.maxYear,\n          value: this.tableYear,\n        },\n        on: {\n          input: this.yearClick,\n          ...createItemTypeListeners(this, ':year'),\n        },\n      })\n    },\n    genPickerBody (): VNode {\n      const children = this.internalActivePicker === 'YEAR' ? [\n        this.genYears(),\n      ] : [\n        this.genTableHeader(),\n        this.internalActivePicker === 'DATE' ? this.genDateTable() : this.genMonthTable(),\n      ]\n\n      return this.$createElement('div', {\n        key: this.internalActivePicker,\n      }, children)\n    },\n    setInputDate () {\n      if (this.lastValue) {\n        const array = this.lastValue.split('-')\n        this.inputYear = parseInt(array[0], 10)\n        this.inputMonth = parseInt(array[1], 10) - 1\n        if (this.type === 'date') {\n          this.inputDay = parseInt(array[2], 10)\n        }\n      } else {\n        this.inputYear = this.inputYear || this.now.getFullYear()\n        this.inputMonth = this.inputMonth == null ? this.inputMonth : this.now.getMonth()\n        this.inputDay = this.inputDay || this.now.getDate()\n      }\n    },\n  },\n\n  render (): VNode {\n    return this.genPicker('v-picker--date')\n  },\n})\n","import { render, staticRenderFns } from \"./Date.vue?vue&type=template&id=09c61db0&\"\nimport script from \"./Date.vue?vue&type=script&lang=ts&\"\nexport * from \"./Date.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VDatePicker,VMenu,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-file-input',{attrs:{\"truncate-length\":\"15\",\"rules\":_vm.input.rules ? _vm.input.rules : [],\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"label\":_vm.$t(_vm.input.label),\"outlined\":\"\"},on:{\"change\":_vm.upload},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./File.vue?vue&type=template&id=bd93162a&\"\nimport script from \"./File.vue?vue&type=script&lang=ts&\"\nexport * from \"./File.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-switch',{attrs:{\"input-value\":_vm.initial,\"label\":_vm.$t(_vm.input.label)},on:{\"change\":_vm.change}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Switch.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Switch.vue?vue&type=script&lang=ts&\"","// Directives\nimport ripple from '../../directives/ripple'\n\n// Types\nimport Vue, { VNode, VNodeData, VNodeDirective } from 'vue'\n\nexport default Vue.extend({\n  name: 'rippleable',\n\n  directives: { ripple },\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  methods: {\n    genRipple (data: VNodeData = {}): VNode | null {\n      if (!this.ripple) return null\n\n      data.staticClass = 'v-input--selection-controls__ripple'\n\n      data.directives = data.directives || []\n      data.directives.push({\n        name: 'ripple',\n        value: { center: true },\n      } as VNodeDirective)\n\n      return this.$createElement('div', data)\n    },\n  },\n})\n","// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus (e: FocusEvent) {\n      this.isFocused = true\n      this.$emit('focus', e)\n    },\n    onBlur (e: FocusEvent) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VSwitch.sass'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\nimport VInput from '../VInput'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport { VFabTransition } from '../transitions'\nimport VProgressCircular from '../VProgressCircular/VProgressCircular'\n\n// Helpers\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-switch',\n\n  directives: { Touch },\n\n  props: {\n    inset: Boolean,\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--switch': true,\n        'v-input--switch--flat': this.flat,\n        'v-input--switch--inset': this.inset,\n      }\n    },\n    attrs (): object {\n      return {\n        'aria-checked': String(this.isActive),\n        'aria-disabled': String(this.isDisabled),\n        role: 'switch',\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n    switchData (): VNodeData {\n      return this.setTextColor(this.loading ? undefined : this.validationState, {\n        class: this.themeClasses,\n      })\n    },\n  },\n\n  methods: {\n    genDefaultSlot (): (VNode | null)[] {\n      return [\n        this.genSwitch(),\n        this.genLabel(),\n      ]\n    },\n    genSwitch (): VNode {\n      const { title, ...switchAttrs } = this.attrs$\n\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.genInput('checkbox', {\n          ...this.attrs,\n          ...switchAttrs,\n        }),\n        this.genRipple(this.setTextColor(this.validationState, {\n          directives: [{\n            name: 'touch',\n            value: {\n              left: this.onSwipeLeft,\n              right: this.onSwipeRight,\n            },\n          }],\n        })),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__track',\n          ...this.switchData,\n        }),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__thumb',\n          ...this.switchData,\n        }, [this.genProgress()]),\n      ])\n    },\n    genProgress (): VNode {\n      return this.$createElement(VFabTransition, {}, [\n        this.loading === false\n          ? null\n          : this.$slots.progress || this.$createElement(VProgressCircular, {\n            props: {\n              color: (this.loading === true || this.loading === '')\n                ? (this.color || 'primary')\n                : this.loading,\n              size: 16,\n              width: 2,\n              indeterminate: true,\n            },\n          }),\n      ])\n    },\n    onSwipeLeft () {\n      if (this.isActive) this.onChange()\n    },\n    onSwipeRight () {\n      if (!this.isActive) this.onChange()\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (\n        (e.keyCode === keyCodes.left && this.isActive) ||\n        (e.keyCode === keyCodes.right && !this.isActive)\n      ) this.onChange()\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Switch.vue?vue&type=template&id=2b38658f&\"\nimport script from \"./Switch.vue?vue&type=script&lang=ts&\"\nexport * from \"./Switch.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-select',{attrs:{\"item-text\":_vm.input.text,\"item-value\":_vm.input.valueKey,\"items\":_vm.input.items,\"clearable\":!_vm.input.required,\"loading\":_vm.loading,\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"prepend-icon\":_vm.input.icon,\"hide-details\":\"\",\"rules\":_vm.input.rules ? _vm.input.rules : [],\"label\":_vm.$t(_vm.input.label),\"outlined\":\"\",\"single-line\":\"\",\"value\":_vm.initial},on:{\"change\":_vm.change,\"click:clear\":_vm.change}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=290744db&\"\nimport script from \"./Select.vue?vue&type=script&lang=ts&\"\nexport * from \"./Select.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-combobox',{attrs:{\"cache-items\":_vm.input.cache,\"item-text\":_vm.input.text,\"item-value\":_vm.input.valueKey,\"items\":_vm.input.items,\"rules\":_vm.input.rules ? _vm.input.rules : [],\"loading\":_vm.loading,\"prepend-icon\":_vm.input.icon,\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"return-object\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"clearable\":!_vm.input.required,\"label\":_vm.$t(_vm.input.label),\"single-line\":\"\"},on:{\"change\":_vm.change,\"click:clear\":_vm.change},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Combo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Combo.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VAutocomplete.sass'\n\n// Extensions\nimport VSelect, { defaultMenuProps as VSelectMenuProps } from '../VSelect/VSelect'\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mergeData from '../../util/mergeData'\nimport {\n  getObjectValueByPath,\n  getPropertyFromItem,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { PropType, VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nconst defaultMenuProps = {\n  ...VSelectMenuProps,\n  offsetY: true,\n  offsetOverflow: true,\n  transition: false,\n}\n\n/* @vue/component */\nexport default VSelect.extend({\n  name: 'v-autocomplete',\n\n  props: {\n    allowOverflow: {\n      type: Boolean,\n      default: true,\n    },\n    autoSelectFirst: {\n      type: Boolean,\n      default: false,\n    },\n    filter: {\n      type: Function,\n      default: (item: any, queryText: string, itemText: string) => {\n        return itemText.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1\n      },\n    } as PropValidator<(item: any, queryText: string, itemText: string) => boolean>,\n    hideNoData: Boolean,\n    menuProps: {\n      type: VSelect.options.props.menuProps.type,\n      default: () => defaultMenuProps,\n    },\n    noFilter: Boolean,\n    searchInput: {\n      type: String as PropType<string | null>,\n    },\n  },\n\n  data () {\n    return {\n      lazySearch: this.searchInput,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VSelect.options.computed.classes.call(this),\n        'v-autocomplete': true,\n        'v-autocomplete--is-selecting-index': this.selectedIndex > -1,\n      }\n    },\n    computedItems (): object[] {\n      return this.filteredItems\n    },\n    selectedValues (): object[] {\n      return this.selectedItems.map(item => this.getValue(item))\n    },\n    hasDisplayedItems (): boolean {\n      return this.hideSelected\n        ? this.filteredItems.some(item => !this.hasItem(item))\n        : this.filteredItems.length > 0\n    },\n    currentRange (): number {\n      if (this.selectedItem == null) return 0\n\n      return String(this.getText(this.selectedItem)).length\n    },\n    filteredItems (): object[] {\n      if (!this.isSearching || this.noFilter || this.internalSearch == null) return this.allItems\n\n      return this.allItems.filter(item => {\n        const value = getPropertyFromItem(item, this.itemText)\n        const text = value != null ? String(value) : ''\n\n        return this.filter(item, String(this.internalSearch), text)\n      })\n    },\n    internalSearch: {\n      get (): string | null {\n        return this.lazySearch\n      },\n      set (val: any) { // TODO: this should be `string | null` but it breaks lots of other types\n        // emit update event only when the new\n        // search value is different from previous\n        if (this.lazySearch !== val) {\n          this.lazySearch = val\n          this.$emit('update:search-input', val)\n        }\n      },\n    },\n    isAnyValueAllowed (): boolean {\n      return false\n    },\n    isDirty (): boolean {\n      return this.searchIsDirty || this.selectedItems.length > 0\n    },\n    isSearching (): boolean {\n      return (\n        this.multiple &&\n        this.searchIsDirty\n      ) || (\n        this.searchIsDirty &&\n        this.internalSearch !== this.getText(this.selectedItem)\n      )\n    },\n    menuCanShow (): boolean {\n      if (!this.isFocused) return false\n\n      return this.hasDisplayedItems || !this.hideNoData\n    },\n    $_menuProps (): object {\n      const props = VSelect.options.computed.$_menuProps.call(this);\n      (props as any).contentClass = `v-autocomplete__content ${(props as any).contentClass || ''}`.trim()\n      return {\n        ...defaultMenuProps,\n        ...props,\n      }\n    },\n    searchIsDirty (): boolean {\n      return this.internalSearch != null &&\n        this.internalSearch !== ''\n    },\n    selectedItem (): any {\n      if (this.multiple) return null\n\n      return this.selectedItems.find(i => {\n        return this.valueComparator(this.getValue(i), this.getValue(this.internalValue))\n      })\n    },\n    listData () {\n      const data = VSelect.options.computed.listData.call(this) as any\n\n      data.props = {\n        ...data.props,\n        items: this.virtualizedItems,\n        noFilter: (\n          this.noFilter ||\n          !this.isSearching ||\n          !this.filteredItems.length\n        ),\n        searchInput: this.internalSearch,\n      }\n\n      return data\n    },\n  },\n\n  watch: {\n    filteredItems: 'onFilteredItemsChanged',\n    internalValue: 'setSearch',\n    isFocused (val) {\n      if (val) {\n        document.addEventListener('copy', this.onCopy)\n        this.$refs.input && this.$refs.input.select()\n      } else {\n        document.removeEventListener('copy', this.onCopy)\n        this.blur()\n        this.updateSelf()\n      }\n    },\n    isMenuActive (val) {\n      if (val || !this.hasSlot) return\n\n      this.lazySearch = null\n    },\n    items (val, oldVal) {\n      // If we are focused, the menu\n      // is not active, hide no data is enabled,\n      // and items change\n      // User is probably async loading\n      // items, try to activate the menu\n      if (\n        !(oldVal && oldVal.length) &&\n        this.hideNoData &&\n        this.isFocused &&\n        !this.isMenuActive &&\n        val.length\n      ) this.activateMenu()\n    },\n    searchInput (val: string) {\n      this.lazySearch = val\n    },\n    internalSearch: 'onInternalSearchChanged',\n    itemText: 'updateSelf',\n  },\n\n  created () {\n    this.setSearch()\n  },\n\n  destroyed () {\n    document.removeEventListener('copy', this.onCopy)\n  },\n\n  methods: {\n    onFilteredItemsChanged (val: never[], oldVal: never[]) {\n      // TODO: How is the watcher triggered\n      // for duplicate items? no idea\n      if (val === oldVal) return\n\n      if (!this.autoSelectFirst) {\n        const preSelectedItem = oldVal[this.$refs.menu.listIndex]\n\n        if (preSelectedItem) {\n          this.setMenuIndex(val.findIndex(i => i === preSelectedItem))\n        } else {\n          this.setMenuIndex(-1)\n        }\n        this.$emit('update:list-index', this.$refs.menu.listIndex)\n      }\n\n      this.$nextTick(() => {\n        if (\n          !this.internalSearch ||\n          (val.length !== 1 &&\n            !this.autoSelectFirst)\n        ) return\n\n        this.$refs.menu.getTiles()\n\n        if (this.autoSelectFirst && val.length) {\n          this.setMenuIndex(0)\n          this.$emit('update:list-index', this.$refs.menu.listIndex)\n        }\n      })\n    },\n    onInternalSearchChanged () {\n      this.updateMenuDimensions()\n    },\n    updateMenuDimensions () {\n      // Type from menuable is not making it through\n      this.isMenuActive && this.$refs.menu && this.$refs.menu.updateDimensions()\n    },\n    changeSelectedIndex (keyCode: number) {\n      // Do not allow changing of selectedIndex\n      // when search is dirty\n      if (this.searchIsDirty) return\n\n      if (this.multiple && keyCode === keyCodes.left) {\n        if (this.selectedIndex === -1) {\n          this.selectedIndex = this.selectedItems.length - 1\n        } else {\n          this.selectedIndex--\n        }\n      } else if (this.multiple && keyCode === keyCodes.right) {\n        if (this.selectedIndex >= this.selectedItems.length - 1) {\n          this.selectedIndex = -1\n        } else {\n          this.selectedIndex++\n        }\n      } else if (keyCode === keyCodes.backspace || keyCode === keyCodes.delete) {\n        this.deleteCurrentItem()\n      }\n    },\n    deleteCurrentItem () {\n      const curIndex = this.selectedIndex\n      const curItem = this.selectedItems[curIndex]\n\n      // Do nothing if input or item is disabled\n      if (\n        !this.isInteractive ||\n        this.getDisabled(curItem)\n      ) return\n\n      const lastIndex = this.selectedItems.length - 1\n\n      // Select the last item if\n      // there is no selection\n      if (\n        this.selectedIndex === -1 &&\n        lastIndex !== 0\n      ) {\n        this.selectedIndex = lastIndex\n\n        return\n      }\n\n      const length = this.selectedItems.length\n      const nextIndex = curIndex !== length - 1\n        ? curIndex\n        : curIndex - 1\n      const nextItem = this.selectedItems[nextIndex]\n\n      if (!nextItem) {\n        this.setValue(this.multiple ? [] : null)\n      } else {\n        this.selectItem(curItem)\n      }\n\n      this.selectedIndex = nextIndex\n    },\n    clearableCallback () {\n      this.internalSearch = null\n\n      VSelect.options.methods.clearableCallback.call(this)\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data = mergeData(input.data!, {\n        attrs: {\n          'aria-activedescendant': getObjectValueByPath(this.$refs.menu, 'activeTile.id'),\n          autocomplete: getObjectValueByPath(input.data!, 'attrs.autocomplete', 'off'),\n        },\n        domProps: { value: this.internalSearch },\n      })\n\n      return input\n    },\n    genInputSlot () {\n      const slot = VSelect.options.methods.genInputSlot.call(this)\n\n      slot.data!.attrs!.role = 'combobox'\n\n      return slot\n    },\n    genSelections (): VNode | never[] {\n      return this.hasSlot || this.multiple\n        ? VSelect.options.methods.genSelections.call(this)\n        : []\n    },\n    onClick (e: MouseEvent) {\n      if (!this.isInteractive) return\n\n      this.selectedIndex > -1\n        ? (this.selectedIndex = -1)\n        : this.onFocus()\n\n      if (!this.isAppendInner(e.target)) this.activateMenu()\n    },\n    onInput (e: Event) {\n      if (\n        this.selectedIndex > -1 ||\n        !e.target\n      ) return\n\n      const target = e.target as HTMLInputElement\n      const value = target.value\n\n      // If typing and menu is not currently active\n      if (target.value) this.activateMenu()\n\n      if (!this.multiple && value === '') this.deleteCurrentItem()\n\n      this.internalSearch = value\n      this.badInput = target.validity && target.validity.badInput\n    },\n    onKeyDown (e: KeyboardEvent) {\n      const keyCode = e.keyCode\n\n      if (\n        e.ctrlKey ||\n        ![keyCodes.home, keyCodes.end].includes(keyCode)\n      ) {\n        VSelect.options.methods.onKeyDown.call(this, e)\n      }\n\n      // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n      this.changeSelectedIndex(keyCode)\n    },\n    onSpaceDown (e: KeyboardEvent) { /* noop */ },\n    onTabDown (e: KeyboardEvent) {\n      VSelect.options.methods.onTabDown.call(this, e)\n      this.updateSelf()\n    },\n    onUpDown (e: Event) {\n      // Prevent screen from scrolling\n      e.preventDefault()\n\n      // For autocomplete / combobox, cycling\n      // interfers with native up/down behavior\n      // instead activate the menu\n      this.activateMenu()\n    },\n    selectItem (item: object) {\n      VSelect.options.methods.selectItem.call(this, item)\n      this.setSearch()\n    },\n    setSelectedItems () {\n      VSelect.options.methods.setSelectedItems.call(this)\n\n      // #4273 Don't replace if searching\n      // #4403 Don't replace if focused\n      if (!this.isFocused) this.setSearch()\n    },\n    setSearch () {\n      // Wait for nextTick so selectedItem\n      // has had time to update\n      this.$nextTick(() => {\n        if (\n          !this.multiple ||\n          !this.internalSearch ||\n          !this.isMenuActive\n        ) {\n          this.internalSearch = (\n            !this.selectedItems.length ||\n            this.multiple ||\n            this.hasSlot\n          )\n            ? null\n            : this.getText(this.selectedItem)\n        }\n      })\n    },\n    updateSelf () {\n      if (\n        !this.searchIsDirty &&\n        !this.internalValue\n      ) return\n\n      if (\n        !this.multiple &&\n        !this.valueComparator(\n          this.internalSearch,\n          this.getValue(this.internalValue)\n        )\n      ) {\n        this.setSearch()\n      }\n    },\n    hasItem (item: any): boolean {\n      return this.selectedValues.indexOf(this.getValue(item)) > -1\n    },\n    onCopy (event: ClipboardEvent) {\n      if (this.selectedIndex === -1) return\n\n      const currentItem = this.selectedItems[this.selectedIndex]\n      const currentItemText = this.getText(currentItem)\n      event.clipboardData?.setData('text/plain', currentItemText)\n      event.clipboardData?.setData('text/vnd.vuetify.autocomplete.item+plain', currentItemText)\n      event.preventDefault()\n    },\n  },\n})\n","// Styles\nimport '../VAutocomplete/VAutocomplete.sass'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n    returnObject: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data: () => ({\n    editingIndex: -1,\n  }),\n\n  computed: {\n    computedCounterValue (): number {\n      return this.multiple\n        ? this.selectedItems.length\n        : (this.internalSearch || '').toString().length\n    },\n    hasSlot (): boolean {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple\n    },\n    isAnyValueAllowed (): boolean {\n      return true\n    },\n    menuCanShow (): boolean {\n      if (!this.isFocused) return false\n\n      return this.hasDisplayedItems ||\n        (!!this.$slots['no-data'] && !this.hideNoData)\n    },\n    searchIsDirty (): boolean {\n      return this.internalSearch != null\n    },\n  },\n\n  methods: {\n    onInternalSearchChanged (val: any) {\n      if (\n        val &&\n        this.multiple &&\n        this.delimiters.length\n      ) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d))\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length)\n          this.updateTags()\n        }\n      }\n\n      this.updateMenuDimensions()\n    },\n    genInput () {\n      const input = VAutocomplete.options.methods.genInput.call(this)\n\n      delete input.data!.attrs!.name\n      input.data!.on!.paste = this.onPaste\n\n      return input\n    },\n    genChipSelection (item: object, index: number) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index)\n\n      // Allow user to update an existing value\n      if (this.multiple) {\n        chip.componentOptions!.listeners! = {\n          ...chip.componentOptions!.listeners!,\n          dblclick: () => {\n            this.editingIndex = index\n            this.internalSearch = this.getText(item)\n            this.selectedIndex = -1\n          },\n        }\n      }\n\n      return chip\n    },\n    onChipInput (item: object) {\n      VSelect.options.methods.onChipInput.call(this, item)\n\n      this.editingIndex = -1\n    },\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown (e: Event) {\n      e.preventDefault()\n      // If has menu index, let v-select-list handle\n      if (this.getMenuIndex() > -1) return\n\n      this.$nextTick(this.updateSelf)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      const keyCode = e.keyCode\n\n      if (\n        e.ctrlKey ||\n        ![keyCodes.home, keyCodes.end].includes(keyCode)\n      ) {\n        VSelect.options.methods.onKeyDown.call(this, e)\n      }\n\n      // If user is at selection index of 0\n      // create a new tag\n      if (this.multiple &&\n        keyCode === keyCodes.left &&\n        this.$refs.input.selectionStart === 0\n      ) {\n        this.updateSelf()\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e)\n      }\n\n      // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n      this.changeSelectedIndex(keyCode)\n    },\n    onTabDown (e: KeyboardEvent) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple &&\n        this.internalSearch &&\n        this.getMenuIndex() === -1\n      ) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        return this.updateTags()\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e)\n    },\n    selectItem (item: object) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing()\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item)\n\n        // if selected item contains search value,\n        // remove the search string\n        if (\n          this.internalSearch &&\n          this.multiple &&\n          this.getText(item).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())\n        ) {\n          this.internalSearch = null\n        }\n      }\n    },\n    setSelectedItems () {\n      if (this.internalValue == null ||\n        this.internalValue === ''\n      ) {\n        this.selectedItems = []\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue]\n      }\n    },\n    setValue (value?: any) {\n      VSelect.options.methods.setValue.call(this, value === undefined ? this.internalSearch : value)\n    },\n    updateEditing () {\n      const value = this.internalValue.slice()\n      const index = this.selectedItems.findIndex(item =>\n        this.getText(item) === this.internalSearch)\n\n      // If user enters a duplicate text on chip edit,\n      // don't add it, move it to the end of the list\n      if (index > -1) {\n        const item = typeof value[index] === 'object'\n          ? Object.assign({}, value[index])\n          : value[index]\n\n        value.splice(index, 1)\n        value.push(item)\n      } else {\n        value[this.editingIndex] = this.internalSearch\n      }\n\n      this.setValue(value)\n      this.editingIndex = -1\n      this.internalSearch = null\n    },\n    updateCombobox () {\n      // If search is not dirty, do nothing\n      if (!this.searchIsDirty) return\n\n      // The internal search is not matching\n      // the internal value, update the input\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue()\n\n      // Reset search if using slot to avoid a double input\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips\n      if (isUsingSlot) this.internalSearch = null\n    },\n    updateSelf () {\n      this.multiple ? this.updateTags() : this.updateCombobox()\n    },\n    updateTags () {\n      const menuIndex = this.getMenuIndex()\n\n      // If the user is not searching\n      // and no menu item is selected\n      // or if the search is empty\n      // do nothing\n      if ((menuIndex < 0 && !this.searchIsDirty) ||\n          !this.internalSearch) return\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing()\n      }\n\n      const index = this.selectedItems.findIndex(item =>\n        this.internalSearch === this.getText(item))\n\n      // If the duplicate item is an object,\n      // copy it, so that it can be added again later\n      const itemToSelect = index > -1 && typeof this.selectedItems[index] === 'object'\n        ? Object.assign({}, this.selectedItems[index])\n        : this.internalSearch\n\n      // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n      if (index > -1) {\n        const internalValue = this.internalValue.slice()\n        internalValue.splice(index, 1)\n\n        this.setValue(internalValue)\n      }\n\n      // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n      if (menuIndex > -1) return (this.internalSearch = null)\n\n      this.selectItem(itemToSelect)\n\n      this.internalSearch = null\n    },\n    onPaste (event: ClipboardEvent) {\n      if (!this.multiple || this.searchIsDirty) return\n\n      const pastedItemText = event.clipboardData?.getData('text/vnd.vuetify.autocomplete.item+plain')\n      if (pastedItemText && this.findExistingIndex(pastedItemText as any) === -1) {\n        event.preventDefault()\n        VSelect.options.methods.selectItem.call(this, pastedItemText as any)\n      }\n    },\n    clearableCallback () {\n      this.editingIndex = -1\n\n      VAutocomplete.options.methods.clearableCallback.call(this)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Combo.vue?vue&type=template&id=390cac53&\"\nimport script from \"./Combo.vue?vue&type=script&lang=ts&\"\nexport * from \"./Combo.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","import i18n from '@/i18n';\nimport Vue  from 'vue';\nimport DateInputComponent from '../components/Date.vue'\nimport TextInputComponent from '../components/Text.vue'\nimport RichInputComponent from '../components/rich.vue'\nimport FileInputComponent from '../components/File.vue'\nimport SwitchInputComponent from '../components/Switch.vue'\nimport SelectInputComponent from '../components/Select.vue'\nimport ComboInputComponent from '../components/Combo.vue'\nimport { InputInterface } from '@/utils/form/interface';\nimport { TextInputInterface , SwitchInputInterface , DateInputInterface , SelectInputInterface } from '../interface';\nimport {name , required , email, num} from \"@/utils/validations/validations\" \n\n\nexport const dateInput:DateInputInterface =  {\n  name:\"Date\",\n  label : \"date\",\n  limit:'date',\n  min : \"\",\n  max : \"\",\n  type:'date',\n  generateInputHtml : () =>   Vue.extend(DateInputComponent),\n  cols:6,\n  value : \"\",\n}\n\nexport const dateFromInput:DateInputInterface =  {\n  name:\"DateFrom\",\n  label : \"date_from\",\n  limit:'date',\n  min : \"\",\n  max : \"\",\n  type:'date',\n  generateInputHtml : () =>   Vue.extend(DateInputComponent),\n  cols:6,\n  value : \"\",\n}\n\nexport const dateToInput:DateInputInterface =  {\n  name:\"DateTo\",\n  label : \"date_to\",\n  limit:'date',\n  min : \"\",\n  max : \"\",\n  type:'date',\n  generateInputHtml : () =>   Vue.extend(DateInputComponent),\n  cols:6,\n  value : \"\",\n}\n\n\n\nexport const contentInput:TextInputInterface =  {\n  name:\"Content\",\n    generateInputHtml : () =>   Vue.extend(RichInputComponent),\n    icon: \"\",\n  rules:[],\n  label : \"Content\",\n  cols : 12,\n  type : 'text',\n  value:\"\"\n}\n\n\n\n\nexport const breifInput:TextInputInterface =  {\n  name:\"Breif\",\n    generateInputHtml : () =>   Vue.extend(RichInputComponent),\n    icon: \"\",\n  rules:[],\n  label : \"Breif\",\n  cols : 12,\n  type : 'text',\n  value:\"\"\n}\n\n\n\nexport const skillsInput:TextInputInterface =  {\n  name:\"Skills\",\n    generateInputHtml : () =>   Vue.extend(TextInputComponent),\n    icon: \"\",\n  rules:[],\n  label : \"Skills\",\n  cols : 6,\n  type : 'text',\n  hint:\"ادخل المهارات و افصلهم بواسطة ,\",\n  value:\"\"\n}\n\nexport const levelInput:TextInputInterface =  {\n  name:\"Level\",\n    generateInputHtml : () =>   Vue.extend(TextInputComponent),\n    icon: \"\",\n  rules:[\n    (value:string) => num(value),\n  ],\n  isNumber : true,\n  label : \"Level\",\n  cols : 6,\n  type : 'text',\n  hint:\"ادخل 1 لاتاحة الميزة في عضوية مبادر , 2 عضوية طموح , 3 لعضوية ريادي\",\n  value:\"\"\n}\nexport const valueInput:TextInputInterface =  {\n  name:\"Value\",\n  icon: \"\",\n  rules:[],\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Value\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const imgInput:TextInputInterface =  {\n  name:\"Image\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(FileInputComponent),\n  rules:[],\n  label : \"Img\",\n  isImg : true,\n  cols : 6,\n  type : 'file',\n  value:\"\"\n}\n\nexport const imgInput2:TextInputInterface =  {\n  name:\"Img\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(FileInputComponent),\n  rules:[],\n  label : \"Img\",\n  isImg : true,\n  cols : 6,\n  type : 'file',\n  value:\"\"\n}\n\nexport const fundInput:TextInputInterface =  {\n  name:\"Fund\",\n  icon: \"\",\n  rules:[\n      (value:string) => num(value),\n  ],\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  isNumber:true,\n  label : \"Fund\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const titleInput:TextInputInterface =  {\n  name:\"Title\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"title\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\nexport const videoInput:TextInputInterface =  {\n  name:\"Video\",\n  icon: \"\",\n  label : \"video\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\nexport const linkInput:TextInputInterface =  {\n  name:\"Url\",\n  icon: \"\",\n  label : \"video\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const websiteInput:TextInputInterface =  {\n  name:\"Website\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n \n  label : \"Website\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const instagramInput:TextInputInterface =  {\n  name:\"Instagram\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  icon: \"\",\n\n  label : \"Instagram\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const twitterInput:TextInputInterface =  {\n  name:\"Twitter\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  icon: \"\",\n\n  label : \"Twitter\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\nexport const categoryInput:SelectInputInterface =  {\n  name:\"CatId\",\n  cache : false,\n  text : 'Name',\n  initialFetch:true,\n  clearable:false,\n  valueKey : 'Id',\n  generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n  value :\"\",\n  type : 'combo',\n  url:'cats',\n  icon : 'mdi-store-settings-outline',\n  label : 'category'\n}\n\n\nexport const cityInput:SelectInputInterface =  {\n  name:\"CityId\",\n  cache : false,\n  text : 'Name',\n  cols:6,\n  initialFetch:true,\n  clearable:false,\n  valueKey : 'Id',\n  generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n  value :\"\",\n  type : 'combo',\n  url:'cities',\n  icon : 'mdi-store-settings-outline',\n  label : 'city'\n}\n\n\nexport const eventsCategoryInput = () => {\n  let input = {...categoryInput}\n  input.payload = {type : 'event'}\n  return input\n}\n\nexport const videosCategoryInput = () => {\n  let input = {...categoryInput}\n  input.payload = {type : 'video'}\n  return input\n}\n\nexport const projectsCategoryInput = () => {\n  let input = {...categoryInput}\n  input.payload = {type : 'project'}\n  return input\n}\n\nexport const postsCategoryInput = () => {\n  let input = {...categoryInput}\n  input.payload = {type : 'post'}\n  return input\n}\n\n\nexport const statusInput:SelectInputInterface =  {\n  name:\"status\",\n  cache : true,\n  text : 'key',\n  initialFetch:false,\n  clearable:true,\n  generateInputHtml : () =>   Vue.extend(SelectInputComponent),\n  valueKey : 'value',\n  value : '',\n  type : 'select',\n  items:[\n    {\n      key : 'معلقة',\n      value : 'pending'\n    },\n    {\n      key : 'ملغية',\n      value : 'declined'\n    }\n  ],\n  icon : 'mdi-store-settings-outline',\n  label : 'type'\n}\nexport const requestType:SelectInputInterface =  {\n  name:\"requestType\",\n  cache : true,\n  text : 'key',\n  initialFetch:false,\n  clearable:true,\n  generateInputHtml : () =>   Vue.extend(SelectInputComponent),\n  valueKey : 'value',\n  value : '',\n  type : 'select',\n  items:[\n    {\n      key : 'معلقة',\n      value : 'pending'\n    },\n    {\n      key : 'ملغية',\n      value : 'declined'\n    },\n    {\n      key : 'مقبولة',\n      value : 'approved'\n    },\n  ],\n  icon : 'mdi-store-settings-outline',\n  label : 'type'\n}\nexport const categoryTypeInput:SelectInputInterface =  {\n  name:\"Type\",\n  cache : true,\n  text : 'key',\n  initialFetch:false,\n  clearable:false,\n  generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n  valueKey : 'value',\n  value : '',\n  type : 'select',\n  items:[\n    {\n      key : 'مشاريع',\n      value : 'project'\n    },\n    {\n      key : 'مقالات',\n      value : 'post'\n    },\n    {\n      key : 'فعاليات',\n      value : 'event'\n    },\n    {\n      key : 'فيديوهات',\n      value : 'video'\n    },\n  ],\n  icon : 'mdi-store-settings-outline',\n  label : 'type'\n}\n\nexport const roleInput:SelectInputInterface =  {\n    name:\"Role_id\",\n    cache : false,\n    text : 'Name',\n    initialFetch:true,\n    generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n    cols:6,\n    clearable:true,\n    valueKey : 'Id',\n    type : 'select',\n    url:'roles',\n    icon : 'mdi-store-settings-outline',\n    label : 'role'\n}\nexport const serviceInput:SelectInputInterface =  {\n  name:\"Service_id\",\n  cache : false,\n  text : 'Name',\n  initialFetch:true,\n  generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n  cols:6,\n  clearable:true,\n  valueKey : 'Id',\n  type : 'select',\n  url:'services',\n  icon : '',\n  label : 'service'\n}\nexport const newRoleInput:SelectInputInterface =  {\n  name:\"NewRole\",\n  cache : false,\n  cols:6,\n  text : 'Name',\n  initialFetch:true,\n  generateInputHtml : () =>   Vue.extend(ComboInputComponent),\n  clearable:true,\n  valueKey : 'Id',\n  type : 'select',\n  url:'roles',\n  icon : 'mdi-store-settings-outline',\n  label : 'role'\n}\n\nexport const featuredInput:SwitchInputInterface =  {\n    name:\"Featured\",\n    label : \"featured\",\n    generateInputHtml : () =>   Vue.extend(SwitchInputComponent),\n    cols : 6,\n    type : 'switch',\n    initial : false,\n    value:false\n}\n\nexport const activeInput:SwitchInputInterface =  {\n  name:\"Active\",\n  label : \"active\",\n  generateInputHtml : () =>   Vue.extend(SwitchInputComponent),\n  initial : false,\n  cols : 6,\n  value: false,\n  type : 'switch',\n}\n\n\nexport const activeFilterInput:SelectInputInterface =  {\n  name: \"active\",\n  text: 'key',\n  cache: true,\n  initialFetch: false,\n  cols: 6,\n  clearable: true,\n  type: 'select',\n  generateInputHtml: () => Vue.extend(SelectInputComponent),\n  items: [\n    {\n      key: i18n.t(\"active\").toString(),\n      value: '1'\n    },\n    {\n      key: i18n.t(\"not_active\"),\n      value: '0'\n    }\n  ],\n  icon: 'mdi-lock-outline',\n  label: 'status',\n  valueKey: 'value'\n}        \n\n\n\nexport const articlesStatusInput:SelectInputInterface =  {\n  name: \"Status\",\n  cache: true,\n  text: 'key',\n  valueKey: 'value',\n  initialFetch: false,\n  cols: 6,\n  clearable: true,\n  type: 'select',\n  generateInputHtml: () => Vue.extend(SelectInputComponent),\n  items: [\n    {\n      key: i18n.t(\"active\").toString(),\n      value: 'active'\n    },\n    {\n      key: i18n.t(\"pending\"),\n      value: 'pending'\n    }\n  ],\n  icon: 'mdi-lock-outline',\n  label: 'status',\n  \n}        \n\n\nexport const projectStatusInput:SelectInputInterface =  {\n  name: \"Status\",\n  cache: true,\n  initialFetch: false,\n  cols: 6,\n  clearable: true,\n  type: 'select',\n  generateInputHtml: () => Vue.extend(SelectInputComponent),\n  items:[\n      \"تحت التاسيس\",\n      \"قائم\",\n      \"متعثر\",\n      \"اخري\",\n  ],\n  icon: 'mdi-lock-outline',\n  label: 'status',\n  \n}        \n\n\nexport const nameArInput:TextInputInterface =  {\n    name:\"NameAr\",\n    icon: \"\",\n    rules:[\n        (value:string) => required(value) ,\n    ],\n    generateInputHtml : () =>   Vue.extend(TextInputComponent),\n    required:true,\n    label : \"NameAr\",\n    cols : 6,\n    type : 'text',\n    value:\"\"\n}\n\nexport const nameArInput2:TextInputInterface =  {\n  name:\"Name_ar\",\n  icon: \"\",\n  rules:[\n      (value:string) => required(value) ,\n  ],\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  required:true,\n  label : \"NameAr\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\nexport const nameInput:TextInputInterface =  {\n    name:\"Name\",\n    icon: \"\",\n    generateInputHtml : () =>   Vue.extend(TextInputComponent),\n    rules:[\n        (value:string) => required(value) ,\n      // (value:string) => name(value) ,\n    ],\n    required:true,\n    label : \"Name\",\n    cols : 6,\n    type : 'text',\n    value:\"\"\n}\n\n\nexport const userNameInput:TextInputInterface =  {\n  name:\"UserName\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"UserName\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\nexport const nameFilterInput:TextInputInterface =  {\n  name:\"Name\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Name\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\nexport const nameArFilterInput:TextInputInterface =  {\n  name:\"NameAr\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Name_ar\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\nexport const serialInput:TextInputInterface =  {\n  name:\"Serial\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Serial\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\nexport const priceInput:TextInputInterface =  {\n  name:\"Price\",\n  icon: \"\",\n  rules:[\n      (value:string) => required(value) ,\n      (value:string) => num(value) ,\n  ],\n  required:true,\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Price\",\n  isNumber:true,\n  cols : 6,\n  type : 'number',\n  value:\"\"\n}\n\n\nexport const viewsCounterInput:TextInputInterface =  {\n  name:\"ViewsCounter\",\n  icon: \"\",\n  rules:[\n      (value:string) => num(value) ,\n  ],\n  required:false,\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"views_counter\",\n  isNumber:true,\n  cols : 6,\n  type : 'number',\n  value:\"\"\n}\n\nexport const priceFromInput:TextInputInterface =  {\n  name:\"PriceFrom\",\n  icon: \"\",\n  rules:[\n      (value:string) => num(value) ,\n  ],\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"price_from\",\n  isNumber:true,\n  cols : 6,\n  type : 'number',\n  value:\"\"\n}\n\nexport const priceToInput:TextInputInterface =  {\n  name:\"PriceTo\",\n  icon: \"\",\n  rules:[\n      (value:string) => num(value) ,\n  ],\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"price_to\",\n  isNumber:true,\n  cols : 6,\n  type : 'number',\n  value:\"\"\n}\nexport const emailInput:TextInputInterface =  {\n    name:\"Email\",\n    icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  rules:[\n        (value:string) => required(value) ,\n      (value:string) => email(value) ,\n    ],\n    label : \"Email\",\n    cols : 6,\n    type : 'text',\n    value:\"\"\n}\n\n\n\n\nexport const emailFilterInput:TextInputInterface =  {\n  name:\"Email\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Email\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\n\nexport const passwordInput:TextInputInterface =  {\n    name:\"Password\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  icon: \"\",\n    rules:[\n        (value:string) => required(value) ,\n    ],\n    label : \"Password\",\n    cols : 6,\n    type : 'password',\n    value:\"\"\n}\nexport const phoneInput:TextInputInterface =  {\n    name:\"Phone\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  icon: \"\",\n    rules:[\n        (value:string) => required(value) ,\n    ],\n    label : \"Phone\",\n    cols : 6,\n    type : 'text',\n    value:\"\"\n}\n\n\nexport const iconInput:TextInputInterface =  {\n  name:\"Icon\",\n  icon: \"\",\n  generateInputHtml : () =>   Vue.extend(TextInputComponent),\n  label : \"Icon\",\n  cols : 6,\n  type : 'text',\n  value:\"\"\n}\n\n\n\n\n\n\n\nexport const convertToRequred = (input:InputInterface) => {\n    const req = {...input}\n    req.required = true\n    req.rules ? \n        req.rules?.push((value:string) => required(value)) : \n        req.rules = [(value:string) => required(value)]\n    \n    return req\n}"],"sourceRoot":""}